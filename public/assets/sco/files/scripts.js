/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.16 Copyright (c) 2010-2015, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,o){(n||!hasProp(e,o))&&(!i||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[o]=t:(e[o]||(e[o]={}),mixin(e[o],t,n,i)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var o=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return o.requireType=e,o.requireModules=i,n&&(o.originalError=n),o}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(0===t||1==t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var o,a,r,s,c,l,u,d,p,f,m,g,h=n&&n.split("/"),v=A.map,y=v&&v["*"];if(e&&(e=e.split("/"),u=e.length-1,A.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&h&&(g=h.slice(0,h.length-1),e=g.concat(e)),t(e),e=e.join("/")),i&&v&&(h||y)){r=e.split("/");e:for(s=r.length;s>0;s-=1){if(l=r.slice(0,s).join("/"),h)for(c=h.length;c>0;c-=1)if(a=getOwn(v,h.slice(0,c).join("/")),a&&(a=getOwn(a,l))){d=a,p=s;break e}!f&&y&&getOwn(y,l)&&(f=getOwn(y,l),m=s)}!d&&f&&(d=f,p=m),d&&(r.splice(0,p,d),e=r.join("/"))}return o=getOwn(A.pkgs,e),o?o:e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===b.contextName?(t.parentNode.removeChild(t),!0):void 0})}function o(e){var t=getOwn(A.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),b.require.undef(e),b.makeRequire(null,{skipMap:!0})([e]),!0):void 0}function a(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function r(e,t,i,o){var r,s,c,l,u=null,d=t?t.name:null,p=e,f=!0,m="";return e||(f=!1,e="_@r"+(E+=1)),l=a(e),u=l[0],e=l[1],u&&(u=n(u,d,o),s=getOwn(U,u)),e&&(u?m=s&&s.normalize?s.normalize(e,function(e){return n(e,d,o)}):-1===e.indexOf("!")?n(e,d,o):e:(m=n(e,d,o),l=a(m),u=l[0],m=l[1],i=!0,r=b.nameToUrl(m))),c=!u||s||i?"":"_unnormalized"+(T+=1),{prefix:u,name:m,parentMap:t,unnormalized:!!c,url:r,originalName:p,isDefine:f,id:(u?u+"!"+m:m)+c}}function s(e){var t=e.id,n=getOwn(B,t);return n||(n=B[t]=new b.Module(e)),n}function c(e,t,n){var i=e.id,o=getOwn(B,i);!hasProp(U,i)||o&&!o.defineEmitComplete?(o=s(e),o.error&&"error"===t?n(o.error):o.on(t,n)):"defined"===t&&n(U[i])}function l(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(B,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(C,[C.length,0].concat(globalDefQueue)),globalDefQueue=[])}function d(e){delete B[e],delete w[e]}function p(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,o){var a=i.id,r=getOwn(B,a);!r||e.depMatched[o]||n[a]||(getOwn(t,a)?(e.defineDep(o,U[a]),e.check()):p(r,t,n))}),n[i]=!0)}function f(){var e,t,n=1e3*A.waitSeconds,a=n&&b.startTime+n<(new Date).getTime(),r=[],s=[],c=!1,u=!0;if(!y){if(y=!0,eachProp(w,function(e){var n=e.map,l=n.id;if(e.enabled&&(n.isDefine||s.push(e),!e.error))if(!e.inited&&a)o(l)?(t=!0,c=!0):(r.push(l),i(l));else if(!e.inited&&e.fetched&&n.isDefine&&(c=!0,!n.prefix))return u=!1}),a&&r.length)return e=makeError("timeout","Load timeout for modules: "+r,null,r),e.contextName=b.contextName,l(e);u&&each(s,function(e){p(e,{},{})}),a&&!t||!c||!isBrowser&&!isWebWorker||k||(k=setTimeout(function(){k=0,f()},50)),y=!1}}function m(e){hasProp(U,e[0])||s(r(e[0],null,!0)).init(e[1],e[2])}function g(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function h(e){var t=e.currentTarget||e.srcElement;return g(t,b.onScriptLoad,"load","onreadystatechange"),g(t,b.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(u();C.length;){if(e=C.shift(),null===e[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));m(e)}}var y,S,b,x,k,A={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},B={},w={},M={},C=[],U={},J={},_={},E=1,T=1;return x={require:function(e){return e.require?e.require:e.require=b.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?U[e.map.id]=e.exports:e.exports=U[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(A.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},S=function(e){this.events=getOwn(M,e.id)||{},this.map=e,this.shim=getOwn(A.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},S.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,b.startTime=(new Date).getTime();var e=this.map;return this.shim?void b.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;J[e]||(J[e]=!0,b.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,o=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=b.execCb(n,a,i,o)}catch(r){e=r}else o=b.execCb(n,a,i,o);if(this.map.isDefine&&void 0===o&&(t=this.module,t?o=t.exports:this.usingExports&&(o=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else o=a;this.exports=o,this.map.isDefine&&!this.ignore&&(U[n]=o,req.onResourceLoad&&req.onResourceLoad(b,this.map,this.depMaps)),d(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=r(e.prefix);this.depMaps.push(i),c(i,"defined",bind(this,function(i){var o,a,u,p=getOwn(_,this.map.id),f=this.map.name,m=this.map.parentMap?this.map.parentMap.name:null,g=b.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(f=i.normalize(f,function(e){return n(e,m,!0)})||""),a=r(e.prefix+"!"+f,this.map.parentMap),c(a,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(B,a.id),void(u&&(this.depMaps.push(a),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()))):p?(this.map.url=b.nameToUrl(p),void this.load()):(o=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),o.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(B,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),l(e)}),o.fromText=bind(this,function(n,i){var a=e.name,c=r(a),u=useInteractive;i&&(n=i),u&&(useInteractive=!1),s(c),hasProp(A.config,t)&&(A.config[a]=A.config[t]);try{req.exec(n)}catch(d){return l(makeError("fromtexteval","fromText eval for "+t+" failed: "+d,d,[t]))}u&&(useInteractive=!0),this.depMaps.push(c),b.completeLoad(a),g([a],o)}),void i.load(e.name,g,o,A))})),b.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){w[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,o;if("string"==typeof e){if(e=r(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(x,e.id))return void(this.depExports[t]=o(this));this.depCount+=1,c(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback?c(e,"error",bind(this,this.errback)):this.events.error&&c(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,i=B[n],hasProp(x,n)||!i||i.enabled||b.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(B,e.id);t&&!t.enabled&&b.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},b={config:A,contextName:e,registry:B,defined:U,urlFetched:J,defQueue:C,Module:S,makeModuleMap:r,nextTick:req.nextTick,onError:l,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=A.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(A[t]||(A[t]={}),mixin(A[t],e,!0,!0)):A[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(_[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=b.makeShimExports(e)),t[n]=e}),A.shim=t),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(A.paths[n]=e.location),A.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(B,function(e,t){e.inited||e.map.unnormalized||(e.map=r(t))}),(e.deps||e.callback)&&b.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,o){function a(n,i,c){var u,d,p;return o.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof n?isFunction(i)?l(makeError("requireargs","Invalid require call"),c):t&&hasProp(x,n)?x[n](B[t.id]):req.get?req.get(b,n,t,a):(d=r(n,t,!1,!0),u=d.id,hasProp(U,u)?U[u]:l(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),b.nextTick(function(){v(),p=s(r(null,t)),p.skipMap=o.skipMap,p.init(n,i,c,{enabled:!0}),f()}),a)}return o=o||{},mixin(a,{isBrowser:isBrowser,toUrl:function(e){var i,o=e.lastIndexOf("."),a=e.split("/")[0],r="."===a||".."===a;return-1!==o&&(!r||o>1)&&(i=e.substring(o,e.length),e=e.substring(0,o)),b.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(U,r(e,t,!1,!0).id)},specified:function(e){return e=r(e,t,!1,!0).id,hasProp(U,e)||hasProp(B,e)}}),t||(a.undef=function(e){u();var n=r(e,t,!0),o=getOwn(B,e);i(e),delete U[e],delete J[n.url],delete M[e],eachReverse(C,function(t,n){t[0]===e&&C.splice(n,1)}),o&&(o.events.defined&&(M[e]=o.events),d(e))}),a},enable:function(e){var t=getOwn(B,e.id);t&&s(e).enable()},completeLoad:function(e){var t,n,i,a=getOwn(A.shim,e)||{},r=a.exports;for(u();C.length;){if(n=C.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);m(n)}if(i=getOwn(B,e),!t&&!hasProp(U,e)&&i&&!i.inited){if(!(!A.enforceDefine||r&&getGlobal(r)))return o(e)?void 0:l(makeError("nodefine","No define call for "+e,null,[e]));m([e,a.deps||[],a.exportsFn])}f()},nameToUrl:function(e,t,n){var i,o,a,r,s,c,l,u=getOwn(A.pkgs,e);if(u&&(e=u),l=getOwn(_,e))return b.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(i=A.paths,o=e.split("/"),a=o.length;a>0;a-=1)if(r=o.slice(0,a).join("/"),c=getOwn(i,r)){isArray(c)&&(c=c[0]),o.splice(0,a,c);break}s=o.join("/"),s+=t||(/^data\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":A.baseUrl)+s}return A.urlArgs?s+((-1===s.indexOf("?")?"?":"&")+A.urlArgs):s},load:function(e,t){req.load(b,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=h(e);b.completeLoad(t.id)}},onScriptError:function(e){var t=h(e);return o(t.id)?void 0:l(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},b.require=b.makeRequire(),b}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.16",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var o,a,r=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=n,n=i):e=[]),a&&a.context&&(r=a.context),o=getOwn(contexts,r),o||(o=contexts[r]=req.s.newContext(r)),a&&o.configure(a),o.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=e.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(e,t,n){var i,o=e&&e.config||{};if(isBrowser)return i=req.createNode(o,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(a){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,a,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,o;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),o=contexts[i.getAttribute("data-requirecontext")])),(o?o.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("requireLib",function(){}),/*!
 * jQuery JavaScript Library v2.1.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-18T15:11Z
 */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return W.call(t,e)>=0!==n})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t=me[e]={};return Z.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function r(){Y.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1),Z.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+s.uid++}function c(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(be,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Se.test(n)?Z.parseJSON(n):n}catch(o){}ye.set(e,t,n)}else n=void 0;return n}function l(){return!0}function u(){return!1}function d(){try{return Y.activeElement}catch(e){}}function p(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function m(e){var t=Fe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,i=e.length;i>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function h(e,t){var n,i,o,a,r,s,c,l;if(1===t.nodeType){if(ve.hasData(e)&&(a=ve.access(e),r=ve.set(t,a),l=a.events)){delete r.handle,r.events={};for(o in l)for(n=0,i=l[o].length;i>n;n++)Z.event.add(t,o,l[o][n])}ye.hasData(e)&&(s=ye.access(e),c=Z.extend({},s),ye.set(t,c))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Be.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function S(t,n){var i,o=Z(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(o[0]))?i.display:Z.css(o[0],"display");return o.detach(),a}function b(e){var t=Y,n=Ve[e];return n||(n=S(e,t),"none"!==n&&n||(Le=(Le||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Le[0].contentDocument,t.write(),t.close(),n=S(e,t),Le.detach()),Ve[e]=n),n}function x(e,t,n){var i,o,a,r,s=e.style;return n=n||je(e),n&&(r=n.getPropertyValue(t)||n[t]),n&&(""!==r||Z.contains(e.ownerDocument,e)||(r=Z.style(e,t)),qe.test(r)&&Ie.test(t)&&(i=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=i,s.minWidth=o,s.maxWidth=a)),void 0!==r?r+"":r}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function A(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,o=Ke.length;o--;)if(t=Ke[o]+n,t in e)return t;return i}function B(e,t,n){var i=He.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function w(e,t,n,i,o){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,r=0;4>a;a+=2)"margin"===n&&(r+=Z.css(e,n+ke[a],!0,o)),i?("content"===n&&(r-=Z.css(e,"padding"+ke[a],!0,o)),"margin"!==n&&(r-=Z.css(e,"border"+ke[a]+"Width",!0,o))):(r+=Z.css(e,"padding"+ke[a],!0,o),"padding"!==n&&(r+=Z.css(e,"border"+ke[a]+"Width",!0,o)));return r}function M(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,a=je(e),r="border-box"===Z.css(e,"boxSizing",!1,a);if(0>=o||null==o){if(o=x(e,t,a),(0>o||null==o)&&(o=e.style[t]),qe.test(o))return o;i=r&&(G.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+w(e,t,n||(r?"border":"content"),i,a)+"px"}function C(e,t){for(var n,i,o,a=[],r=0,s=e.length;s>r;r++)i=e[r],i.style&&(a[r]=ve.get(i,"olddisplay"),n=i.style.display,t?(a[r]||"none"!==n||(i.style.display=""),""===i.style.display&&Ae(i)&&(a[r]=ve.access(i,"olddisplay",b(i.nodeName)))):(o=Ae(i),"none"===n&&o||ve.set(i,"olddisplay",o?n:Z.css(i,"display"))));for(r=0;s>r;r++)i=e[r],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[r]||"":"none"));return e}function U(e,t,n,i,o){return new U.prototype.init(e,t,n,i,o)}function J(){return setTimeout(function(){Ge=void 0}),Ge=Z.now()}function _(e,t){var n,i=0,o={height:e};for(t=t?1:0;4>i;i+=2-t)n=ke[i],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function E(e,t,n){for(var i,o=(nt[t]||[]).concat(nt["*"]),a=0,r=o.length;r>a;a++)if(i=o[a].call(n,t,e))return i}function T(e,t,n){var i,o,a,r,s,c,l,u,d=this,p={},f=e.style,m=e.nodeType&&Ae(e),g=ve.get(e,"fxshow");n.queue||(s=Z._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,Z.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=Z.css(e,"display"),u="none"===l?ve.get(e,"olddisplay")||b(e.nodeName):l,"inline"===u&&"none"===Z.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],Xe.exec(o)){if(delete t[i],a=a||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||Z.style(e,i)}else l=void 0;if(Z.isEmptyObject(p))"inline"===("none"===l?b(e.nodeName):l)&&(f.display=l);else{g?"hidden"in g&&(m=g.hidden):g=ve.access(e,"fxshow",{}),a&&(g.hidden=!m),m?Z(e).show():d.done(function(){Z(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in p)Z.style(e,t,p[t])});for(i in p)r=E(m?g[i]:0,i,d),i in g||(g[i]=r.start,m&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}}function R(e,t){var n,i,o,a,r;for(n in e)if(i=Z.camelCase(n),o=t[i],a=e[n],Z.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),r=Z.cssHooks[i],r&&"expand"in r){a=r.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=o)}else t[i]=o}function O(e,t,n){var i,o,a=0,r=tt.length,s=Z.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var t=Ge||J(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,a=1-i,r=0,c=l.tweens.length;c>r;r++)l.tweens[r].run(a);return s.notifyWith(e,[l,a,n]),1>a&&c?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ge||J(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),u=l.props;for(R(u,l.opts.specialEasing);r>a;a++)if(i=tt[a].call(l,e,u,l.opts))return i;return Z.map(u,E,l),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function N(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,a=t.toLowerCase().match(fe)||[];if(Z.isFunction(n))for(;i=a[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function F(e,t,n,i){function o(s){var c;return a[s]=!0,Z.each(e[s]||[],function(e,s){var l=s(t,n,i);return"string"!=typeof l||r||a[l]?r?!(c=l):void 0:(t.dataTypes.unshift(l),o(l),!1)}),c}var a={},r=e===St;return o(t.dataTypes[0])||!a["*"]&&o("*")}function D(e,t){var n,i,o=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&Z.extend(!0,e,i),e}function P(e,t,n){for(var i,o,a,r,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){c.unshift(o);break}if(c[0]in n)a=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}r||(r=o)}a=a||r}return a?(a!==c[0]&&c.unshift(a),n[a]):void 0}function L(e,t,n,i){var o,a,r,s,c,l={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)l[r.toLowerCase()]=e.converters[r];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=a,a=u.shift())if("*"===a)a=c;else if("*"!==c&&c!==a){if(r=l[c+" "+a]||l["* "+a],!r)for(o in l)if(s=o.split(" "),s[1]===a&&(r=l[c+" "+s[0]]||l["* "+s[0]])){r===!0?r=l[o]:l[o]!==!0&&(a=s[0],u.unshift(s[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+c+" to "+a}}}return{state:"success",data:t}}function V(e,t,n,i){var o;if(Z.isArray(t))Z.each(t,function(t,o){n||Bt.test(e)?i(e,o):V(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(o in t)V(e+"["+o+"]",t[o],n,i)}function I(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var q=[],j=q.slice,$=q.concat,H=q.push,W=q.indexOf,z={},Q=z.toString,K=z.hasOwnProperty,G={},Y=e.document,X="2.1.3",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ie=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:X,constructor:Z,selector:"",length:0,toArray:function(){return j.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:j.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(j.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:H,sort:q.sort,splice:q.splice},Z.extend=Z.fn.extend=function(){var e,t,n,i,o,a,r=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[s]||{},s++),"object"==typeof r||Z.isFunction(r)||(r={}),s===c&&(r=this,s--);c>s;s++)if(null!=(e=arguments[s]))for(t in e)n=r[t],i=e[t],r!==i&&(l&&i&&(Z.isPlainObject(i)||(o=Z.isArray(i)))?(o?(o=!1,a=n&&Z.isArray(n)?n:[]):a=n&&Z.isPlainObject(n)?n:{},r[t]=Z.extend(l,a,i)):void 0!==i&&(r[t]=i));return r},Z.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!K.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?z[Q.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=Y.createElement("script"),t.text=e,Y.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ie)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var o,a=0,r=e.length,s=n(e);if(i){if(s)for(;r>a&&(o=t.apply(e[a],i),o!==!1);a++);else for(a in e)if(o=t.apply(e[a],i),o===!1)break}else if(s)for(;r>a&&(o=t.call(e[a],a,e[a]),o!==!1);a++);else for(a in e)if(o=t.call(e[a],a,e[a]),o===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?Z.merge(i,"string"==typeof e?[e]:e):H.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:W.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;n>i;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],a=0,r=e.length,s=!n;r>a;a++)i=!t(e[a],a),i!==s&&o.push(e[a]);return o},map:function(e,t,i){var o,a=0,r=e.length,s=n(e),c=[];if(s)for(;r>a;a++)o=t(e[a],a,i),null!=o&&c.push(o);else for(a in e)o=t(e[a],a,i),null!=o&&c.push(o);return $.apply([],c)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(i=j.call(arguments,2),o=function(){return e.apply(t||this,i.concat(j.call(arguments)))},o.guid=e.guid=e.guid||Z.guid++,o):void 0},now:Date.now,support:G}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){z["[object "+t+"]"]=t.toLowerCase()});var oe=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,n,i){var o,a,r,s,c,l,d,f,m,g;if((t?t.ownerDocument||t:V)!==T&&E(t),t=t||T,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&O){if(11!==s&&(o=ye.exec(e)))if(r=o[1]){if(9===s){if(a=t.getElementById(r),!a||!a.parentNode)return n;if(a.id===r)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(r))&&P(t,a)&&a.id===r)return n.push(a),n}else{if(o[2])return X.apply(n,t.getElementsByTagName(e)),n;if((r=o[3])&&x.getElementsByClassName)return X.apply(n,t.getElementsByClassName(r)),n}if(x.qsa&&(!N||!N.test(e))){if(f=d=L,m=t,g=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=w(e),(d=t.getAttribute("id"))?f=d.replace(be,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",c=l.length;c--;)l[c]=f+p(l[c]);m=Se.test(e)&&u(t.parentNode)||t,g=l.join(",")}if(g)try{return X.apply(n,m.querySelectorAll(g)),n}catch(h){}finally{d||t.removeAttribute("id")}}}return C(e.replace(ce,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[L]=!0,e}function o(e){var t=T.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)k.attrHandle[n[i]]=t}function r(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var o,a=e([],n.length,t),r=a.length;r--;)n[o=a[r]]&&(n[o]=!(i[o]=n[o]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=q++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,a)}:function(t,n,r){var s,c,l=[I,a];if(r){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,r))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if(c=t[L]||(t[L]={}),(s=c[i])&&s[0]===I&&s[1]===a)return l[2]=s[2];if(c[i]=l,l[2]=e(t,n,r))return!0}}}function m(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var o=0,a=n.length;a>o;o++)t(e,n[o],i);return i}function h(e,t,n,i,o){for(var a,r=[],s=0,c=e.length,l=null!=t;c>s;s++)(a=e[s])&&(!n||n(a,i,o))&&(r.push(a),l&&t.push(s));return r}function v(e,t,n,o,a,r){return o&&!o[L]&&(o=v(o)),a&&!a[L]&&(a=v(a,r)),i(function(i,r,s,c){var l,u,d,p=[],f=[],m=r.length,v=i||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:h(v,p,e,s,c),S=n?a||(i?e:m||o)?[]:r:y;if(n&&n(y,S,s,c),o)for(l=h(S,f),o(l,[],s,c),u=l.length;u--;)(d=l[u])&&(S[f[u]]=!(y[f[u]]=d));if(i){if(a||e){if(a){for(l=[],u=S.length;u--;)(d=S[u])&&l.push(y[u]=d);a(null,S=[],l,c)}for(u=S.length;u--;)(d=S[u])&&(l=a?ee(i,d):p[u])>-1&&(i[l]=!(r[l]=d))}}else S=h(S===r?S.splice(m,S.length):S),a?a(null,r,S,c):X.apply(r,S)})}function y(e){for(var t,n,i,o=e.length,a=k.relative[e[0].type],r=a||k.relative[" "],s=a?1:0,c=f(function(e){return e===t},r,!0),l=f(function(e){return ee(t,e)>-1},r,!0),u=[function(e,n,i){var o=!a&&(i||n!==U)||((t=n).nodeType?c(e,n,i):l(e,n,i));return t=null,o}];o>s;s++)if(n=k.relative[e[s].type])u=[f(m(u),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[L]){for(i=++s;o>i&&!k.relative[e[i].type];i++);return v(s>1&&m(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ce,"$1"),n,i>s&&y(e.slice(s,i)),o>i&&y(e=e.slice(i)),o>i&&p(e))}u.push(n)}return m(u)}function S(e,n){var o=n.length>0,a=e.length>0,r=function(i,r,s,c,l){var u,d,p,f=0,m="0",g=i&&[],v=[],y=U,S=i||a&&k.find.TAG("*",l),b=I+=null==y?1:Math.random()||.1,x=S.length;for(l&&(U=r!==T&&r);m!==x&&null!=(u=S[m]);m++){if(a&&u){for(d=0;p=e[d++];)if(p(u,r,s)){c.push(u);break}l&&(I=b)}o&&((u=!p&&u)&&f--,i&&g.push(u))}if(f+=m,o&&m!==f){for(d=0;p=n[d++];)p(g,v,r,s);if(i){if(f>0)for(;m--;)g[m]||v[m]||(v[m]=G.call(c));v=h(v)}X.apply(c,v),l&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(c)}return l&&(I=b,U=y),g};return o?i(r):r}var b,x,k,A,B,w,M,C,U,J,_,E,T,R,O,N,F,D,P,L="sizzle"+1*new Date,V=e.document,I=0,q=0,j=n(),$=n(),H=n(),W=function(e,t){return e===t&&(_=!0),0},z=1<<31,Q={}.hasOwnProperty,K=[],G=K.pop,Y=K.push,X=K.push,Z=K.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ie.replace("w","w#"),ae="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ne+"*\\]",re=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ce=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(re),fe=new RegExp("^"+oe+"$"),me={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Se=/[+~]/,be=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),ke=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ae=function(){E()};try{X.apply(K=Z.call(V.childNodes),V.childNodes),K[V.childNodes.length].nodeType}catch(Be){X={apply:K.length?function(e,t){Y.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},B=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},E=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:V;return i!==T&&9===i.nodeType&&i.documentElement?(T=i,R=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ae,!1):n.attachEvent&&n.attachEvent("onunload",Ae)),O=!B(i),x.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(i.getElementsByClassName),x.getById=o(function(e){return R.appendChild(e).id=L,!i.getElementsByName||!i.getElementsByName(L).length}),x.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(xe,ke);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(xe,ke);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[o++];)1===n.nodeType&&i.push(n);return i}return a},k.find.CLASS=x.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},F=[],N=[],(x.qsa=ve.test(i.querySelectorAll))&&(o(function(e){R.appendChild(e).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+L+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+L+"+*").length||N.push(".#.+[+~]")}),o(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(x.matchesSelector=ve.test(D=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&o(function(e){x.disconnectedMatch=D.call(e,"div"),D.call(e,"[s!='']:x"),F.push("!=",re)}),N=N.length&&new RegExp(N.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(R.compareDocumentPosition),P=t||ve.test(R.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return _=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===V&&P(V,e)?-1:t===i||t.ownerDocument===V&&P(V,t)?1:J?ee(J,e)-ee(J,t):0:4&n?-1:1)}:function(e,t){if(e===t)return _=!0,0;var n,o=0,a=e.parentNode,s=t.parentNode,c=[e],l=[t];if(!a||!s)return e===i?-1:t===i?1:a?-1:s?1:J?ee(J,e)-ee(J,t):0;if(a===s)return r(e,t);for(n=e;n=n.parentNode;)c.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;c[o]===l[o];)o++;return o?r(c[o],l[o]):c[o]===V?-1:l[o]===V?1:0},i):T},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==T&&E(e),n=n.replace(de,"='$1']"),!(!x.matchesSelector||!O||F&&F.test(n)||N&&N.test(n)))try{var i=D.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(o){}return t(n,T,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==T&&E(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==T&&E(e);var n=k.attrHandle[t.toLowerCase()],i=n&&Q.call(k.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==i?i:x.attributes||!O?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(_=!x.detectDuplicates,J=!x.sortStable&&e.slice(0),e.sort(W),_){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return J=null,e},A=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=A(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=A(t);return n},k=t.selectors={cacheLength:50,createPseudo:i,match:me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return me.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=w(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var a=t.attr(o,e);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(se," ")+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,o){var a="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,p,f,m,g=a!==r?"nextSibling":"previousSibling",h=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s;if(h){if(a){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;m=g="only"===e&&!m&&"nextSibling"}return!0}if(m=[r?h.firstChild:h.lastChild],r&&y){for(u=h[L]||(h[L]={}),l=u[e]||[],f=l[0]===I&&l[1],p=l[0]===I&&l[2],d=f&&h.childNodes[f];d=++f&&d&&d[g]||(p=f=0)||m.pop();)if(1===d.nodeType&&++p&&d===t){u[e]=[I,f,p];break}}else if(y&&(l=(t[L]||(t[L]={}))[e])&&l[0]===I)p=l[1];else for(;(d=++f&&d&&d[g]||(p=f=0)||m.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[L]||(d[L]={}))[e]=[I,p]),d!==t)););return p-=o,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(e,n){var o,a=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[L]?a(n):a.length>1?(o=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=a(e,n),r=o.length;r--;)i=ee(e,o[r]),e[i]=!(t[i]=o[r])}):function(e){return a(e,0,o)}):a}},pseudos:{not:i(function(e){var t=[],n=[],o=M(e.replace(ce,"$1"));return o[L]?i(function(e,t,n,i){for(var a,r=o(e,null,i,[]),s=e.length;s--;)(a=r[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,o(t,null,a,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(xe,ke),function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:i(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,ke).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},k.pseudos.nth=k.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})k.pseudos[b]=c(b);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,w=t.tokenize=function(e,n){var i,o,a,r,s,c,l,u=$[e+" "];if(u)return n?0:u.slice(0);for(s=e,c=[],l=k.preFilter;s;){(!i||(o=le.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),c.push(a=[])),i=!1,(o=ue.exec(s))&&(i=o.shift(),a.push({value:i,type:o[0].replace(ce," ")}),s=s.slice(i.length));for(r in k.filter)!(o=me[r].exec(s))||l[r]&&!(o=l[r](o))||(i=o.shift(),a.push({value:i,type:r,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):$(e,c).slice(0)},M=t.compile=function(e,t){var n,i=[],o=[],a=H[e+" "];if(!a){for(t||(t=w(e)),n=t.length;n--;)a=y(t[n]),a[L]?i.push(a):o.push(a);a=H(e,S(o,i)),a.selector=e}return a},C=t.select=function(e,t,n,i){var o,a,r,s,c,l="function"==typeof e&&e,d=!i&&w(e=l.selector||e);if(n=n||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(r=a[0]).type&&x.getById&&9===t.nodeType&&O&&k.relative[a[1].type]){if(t=(k.find.ID(r.matches[0].replace(xe,ke),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(o=me.needsContext.test(e)?0:a.length;o--&&(r=a[o],!k.relative[s=r.type]);)if((c=k.find[s])&&(i=c(r.matches[0].replace(xe,ke),Se.test(a[0].type)&&u(t.parentNode)||t))){if(a.splice(o,1),e=i.length&&p(a),!e)return X.apply(n,i),n;break}}return(l||M(e,d))(i,t,!O,n,Se.test(e)&&u(t.parentNode)||t),n},x.sortStable=L.split("").sort(W).join("")===L,x.detectDuplicates=!!_,E(),x.sortDetached=o(function(e){return 1&e.compareDocumentPosition(T.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);Z.find=oe,Z.expr=oe.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=oe.uniqueSort,Z.text=oe.getText,Z.isXMLDoc=oe.isXML,Z.contains=oe.contains;var ae=Z.expr.match.needsContext,re=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Z.find.matchesSelector(i,e)?[i]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,i=[],o=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(o[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,o[t],i);return i=this.pushStack(n>1?Z.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ae.test(e)?Z(e):e||[],!1).length}});var ce,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=Z.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ce).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Y,!0)),re.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=Y.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof ce.ready?ce.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ue.prototype=Z.fn,ce=Z(Y);var de=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&Z(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,a=[],r=ae.test(e)||"string"!=typeof e?Z(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?Z.unique(a):a)},index:function(e){return e?"string"==typeof e?W.call(Z(e),this[0]):W.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var o=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=Z.filter(i,o)),this.length>1&&(pe[e]||Z.unique(o),de.test(e)&&o.reverse()),this.pushStack(o)}});var fe=/\S+/g,me={};Z.Callbacks=function(e){e="string"==typeof e?me[e]||a(e):Z.extend({},e);var t,n,i,o,r,s,c=[],l=!e.once&&[],u=function(a){for(t=e.memory&&a,n=!0,s=o||0,o=0,r=c.length,i=!0;c&&r>s;s++)if(c[s].apply(a[0],a[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,c&&(l?l.length&&u(l.shift()):t?c=[]:d.disable())},d={add:function(){if(c){var n=c.length;!function a(t){Z.each(t,function(t,n){var i=Z.type(n);"function"===i?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==i&&a(n)})}(arguments),i?r=c.length:t&&(o=n,u(t))}return this},remove:function(){return c&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,c,n))>-1;)c.splice(n,1),i&&(r>=n&&r--,s>=n&&s--)}),this},has:function(e){return e?Z.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],r=0,this},disable:function(){return c=l=t=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,t||d.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!c||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],i?l.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,a){var r=Z.isFunction(e[t])&&e[t];o[a[1]](function(){var e=r&&r.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},o={};return i.pipe=i.then,Z.each(t,function(e,a){var r=a[2],s=a[3];i[a[1]]=r.add,s&&r.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[a[0]]=function(){return o[a[0]+"With"](this===o?i:this,arguments),this},o[a[0]+"With"]=r.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,a=j.call(arguments),r=a.length,s=1!==r||e&&Z.isFunction(e.promise)?r:0,c=1===s?e:Z.Deferred(),l=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?j.call(arguments):o,i===t?c.notifyWith(n,i):--s||c.resolveWith(n,i)}};if(r>1)for(t=new Array(r),n=new Array(r),i=new Array(r);r>o;o++)a[o]&&Z.isFunction(a[o].promise)?a[o].promise().done(l(o,i,a)).fail(c.reject).progress(l(o,n,t)):--s;return s||c.resolveWith(i,a),c.promise()}});var ge;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(ge.resolveWith(Y,[Z]),Z.fn.triggerHandler&&(Z(Y).triggerHandler("ready"),Z(Y).off("ready"))))}}),Z.ready.promise=function(t){return ge||(ge=Z.Deferred(),"complete"===Y.readyState?setTimeout(Z.ready):(Y.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1))),ge.promise(t)},Z.ready.promise();var he=Z.access=function(e,t,n,i,o,a,r){var s=0,c=e.length,l=null==n;if("object"===Z.type(n)){o=!0;for(s in n)Z.access(e,t,s,n[s],!0,a,r)}else if(void 0!==i&&(o=!0,Z.isFunction(i)||(r=!0),l&&(r?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(Z(e),n)})),t))for(;c>s;s++)t(e[s],n,r?i:i.call(e[s],s,t(e[s],n)));return o?e:l?t.call(e):c?t(e[0],n):a};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Z.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,o=this.key(e),a=this.cache[o];if("string"==typeof t)a[t]=n;else if(Z.isEmptyObject(a))Z.extend(this.cache[o],t);else for(i in t)a[i]=t[i];return a},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,o,a=this.key(e),r=this.cache[a];if(void 0===t)this.cache[a]={};else{Z.isArray(t)?i=t.concat(t.map(Z.camelCase)):(o=Z.camelCase(t),t in r?i=[t,o]:(i=o,i=i in r?[i]:i.match(fe)||[])),n=i.length;for(;n--;)delete r[i[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,ye=new s,Se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;Z.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,i,o,a=this[0],r=a&&a.attributes;if(void 0===e){if(this.length&&(o=ye.get(a),1===a.nodeType&&!ve.get(a,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf("data-")&&(i=Z.camelCase(i.slice(5)),c(a,i,o[i])));ve.set(a,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ye.set(this,e)}):he(this,function(t){var n,i=Z.camelCase(e);if(a&&void 0===t){if(n=ye.get(a,e),void 0!==n)return n;if(n=ye.get(a,i),void 0!==n)return n;if(n=c(a,i,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,i);ye.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ve.get(e,t),n&&(!i||Z.isArray(n)?i=ve.access(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,o=n.shift(),a=Z._queueHooks(e,t),r=function(){Z.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,r,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=Z.Deferred(),a=this,r=this.length,s=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)n=ve.get(a[r],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Be=/^(?:checkbox|radio)$/i;!function(){var e=Y.createDocumentFragment(),t=e.appendChild(Y.createElement("div")),n=Y.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),G.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var we="undefined";G.focusinBubbles="onfocusin"in e;var Me=/^key/,Ce=/^(?:mouse|pointer|contextmenu)|click/,Ue=/^(?:focusinfocus|focusoutblur)$/,Je=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,i,o){var a,r,s,c,l,u,d,p,f,m,g,h=ve.get(e);if(h)for(n.handler&&(a=n,n=a.handler,o=a.selector),n.guid||(n.guid=Z.guid++),(c=h.events)||(c=h.events={}),(r=h.handle)||(r=h.handle=function(t){return typeof Z!==we&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],l=t.length;l--;)s=Je.exec(t[l])||[],f=g=s[1],m=(s[2]||"").split(".").sort(),f&&(d=Z.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=Z.event.special[f]||{},u=Z.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&Z.expr.match.needsContext.test(o),namespace:m.join(".")},a),(p=c[f])||(p=c[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,i,m,r)!==!1||e.addEventListener&&e.addEventListener(f,r,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,u):p.push(u),Z.event.global[f]=!0)},remove:function(e,t,n,i,o){var a,r,s,c,l,u,d,p,f,m,g,h=ve.hasData(e)&&ve.get(e);if(h&&(c=h.events)){for(t=(t||"").match(fe)||[""],l=t.length;l--;)if(s=Je.exec(t[l])||[],f=g=s[1],m=(s[2]||"").split(".").sort(),f){for(d=Z.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,p=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=a=p.length;a--;)u=p[a],!o&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(a,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));r&&!p.length&&(d.teardown&&d.teardown.call(e,m,h.handle)!==!1||Z.removeEvent(e,f,h.handle),delete c[f])}else for(f in c)Z.event.remove(e,f+t[l],n,i,!0);Z.isEmptyObject(c)&&(delete h.handle,ve.remove(e,"events"))}},trigger:function(t,n,i,o){var a,r,s,c,l,u,d,p=[i||Y],f=K.call(t,"type")?t.type:t,m=K.call(t,"namespace")?t.namespace.split("."):[];if(r=s=i=i||Y,3!==i.nodeType&&8!==i.nodeType&&!Ue.test(f+Z.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),l=f.indexOf(":")<0&&"on"+f,t=t[Z.expando]?t:new Z.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),
n=null==n?[t]:Z.makeArray(n,[t]),d=Z.event.special[f]||{},o||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!o&&!d.noBubble&&!Z.isWindow(i)){for(c=d.delegateType||f,Ue.test(c+f)||(r=r.parentNode);r;r=r.parentNode)p.push(r),s=r;s===(i.ownerDocument||Y)&&p.push(s.defaultView||s.parentWindow||e)}for(a=0;(r=p[a++])&&!t.isPropagationStopped();)t.type=a>1?c:d.bindType||f,u=(ve.get(r,"events")||{})[t.type]&&ve.get(r,"handle"),u&&u.apply(r,n),u=l&&r[l],u&&u.apply&&Z.acceptData(r)&&(t.result=u.apply(r,n),t.result===!1&&t.preventDefault());return t.type=f,o||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!Z.acceptData(i)||l&&Z.isFunction(i[f])&&!Z.isWindow(i)&&(s=i[l],s&&(i[l]=null),Z.event.triggered=f,i[f](),Z.event.triggered=void 0,s&&(i[l]=s)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,i,o,a,r=[],s=j.call(arguments),c=(ve.get(this,"events")||{})[e.type]||[],l=Z.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(r=Z.event.handlers.call(this,e,c),t=0;(o=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((Z.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,a,r=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==e.type){for(i=[],n=0;s>n;n++)a=t[n],o=a.selector+" ",void 0===i[o]&&(i[o]=a.needsContext?Z(o,this).index(c)>=0:Z.find(o,this,null,[c]).length),i[o]&&i.push(a);i.length&&r.push({elem:c,handlers:i})}return s<t.length&&r.push({elem:this,handlers:t.slice(s)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,a=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Y,i=n.documentElement,o=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i,o=e.type,a=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Ce.test(o)?this.mouseHooks:Me.test(o)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,e=new Z.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=Y),3===e.target.nodeType&&(e.target=e.target.parentNode),r.filter?r.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(o,null,t):Z.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:u):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,a=e.handleObj;return(!o||o!==i&&!Z.contains(i,o))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),G.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=ve.access(i,t);o||i.addEventListener(e,n,!0),ve.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=ve.access(i,t)-1;o?ve.access(i,t,o):(i.removeEventListener(e,n,!0),ve.remove(i,t))}}}),Z.fn.extend({on:function(e,t,n,i,o){var a,r;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(r in e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=u;else if(!i)return this;return 1===o&&(a=i,i=function(e){return Z().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Z(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=u),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var _e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ee=/<([\w:]+)/,Te=/<|&#?\w+;/,Re=/<(?:script|style|link)/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^$|\/(?:java|ecma)script/i,Fe=/^true\/(.*)/,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pe.optgroup=Pe.option,Pe.tbody=Pe.tfoot=Pe.colgroup=Pe.caption=Pe.thead,Pe.th=Pe.td,Z.extend({clone:function(e,t,n){var i,o,a,r,s=e.cloneNode(!0),c=Z.contains(e.ownerDocument,e);if(!(G.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(r=v(s),a=v(e),i=0,o=a.length;o>i;i++)y(a[i],r[i]);if(t)if(n)for(a=a||v(e),r=r||v(s),i=0,o=a.length;o>i;i++)h(a[i],r[i]);else h(e,s);return r=v(s,"script"),r.length>0&&g(r,!c&&v(e,"script")),s},buildFragment:function(e,t,n,i){for(var o,a,r,s,c,l,u=t.createDocumentFragment(),d=[],p=0,f=e.length;f>p;p++)if(o=e[p],o||0===o)if("object"===Z.type(o))Z.merge(d,o.nodeType?[o]:o);else if(Te.test(o)){for(a=a||u.appendChild(t.createElement("div")),r=(Ee.exec(o)||["",""])[1].toLowerCase(),s=Pe[r]||Pe._default,a.innerHTML=s[1]+o.replace(_e,"<$1></$2>")+s[2],l=s[0];l--;)a=a.lastChild;Z.merge(d,a.childNodes),a=u.firstChild,a.textContent=""}else d.push(t.createTextNode(o));for(u.textContent="",p=0;o=d[p++];)if((!i||-1===Z.inArray(o,i))&&(c=Z.contains(o.ownerDocument,o),a=v(u.appendChild(o),"script"),c&&g(a),n))for(l=0;o=a[l++];)Ne.test(o.type||"")&&n.push(o);return u},cleanData:function(e){for(var t,n,i,o,a=Z.event.special,r=0;void 0!==(n=e[r]);r++){if(Z.acceptData(n)&&(o=n[ve.expando],o&&(t=ve.cache[o]))){if(t.events)for(i in t.events)a[i]?Z.event.remove(n,i):Z.removeEvent(n,i,t.handle);ve.cache[o]&&delete ve.cache[o]}delete ye.cache[n[ye.expando]]}}}),Z.fn.extend({text:function(e){return he(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?Z.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return he(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!Pe[(Ee.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(_e,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=$.apply([],e);var n,i,o,a,r,s,c=0,l=this.length,u=this,d=l-1,p=e[0],g=Z.isFunction(p);if(g||l>1&&"string"==typeof p&&!G.checkClone&&Oe.test(p))return this.each(function(n){var i=u.eq(n);g&&(e[0]=p.call(this,n,i.html())),i.domManip(e,t)});if(l&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(o=Z.map(v(n,"script"),f),a=o.length;l>c;c++)r=n,c!==d&&(r=Z.clone(r,!0,!0),a&&Z.merge(o,v(r,"script"))),t.call(this[c],r,c);if(a)for(s=o[o.length-1].ownerDocument,Z.map(o,m),c=0;a>c;c++)r=o[c],Ne.test(r.type||"")&&!ve.access(r,"globalEval")&&Z.contains(s,r)&&(r.src?Z._evalUrl&&Z._evalUrl(r.src):Z.globalEval(r.textContent.replace(De,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,i=[],o=Z(e),a=o.length-1,r=0;a>=r;r++)n=r===a?this:this.clone(!0),Z(o[r])[t](n),H.apply(i,n.get());return this.pushStack(i)}});var Le,Ve={},Ie=/^margin/,qe=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),je=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r.innerHTML="",o.appendChild(a);var t=e.getComputedStyle(r,null);n="1%"!==t.top,i="4px"===t.width,o.removeChild(a)}var n,i,o=Y.documentElement,a=Y.createElement("div"),r=Y.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===r.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",a.appendChild(r),e.getComputedStyle&&Z.extend(G,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=r.appendChild(Y.createElement("div"));return n.style.cssText=r.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",r.style.width="1px",o.appendChild(a),t=!parseFloat(e.getComputedStyle(n,null).marginRight),o.removeChild(a),r.removeChild(n),t}}))}(),Z.swap=function(e,t,n,i){var o,a,r={};for(a in t)r[a]=e.style[a],e.style[a]=t[a];o=n.apply(e,i||[]);for(a in t)e.style[a]=r[a];return o};var $e=/^(none|table(?!-c[ea]).+)/,He=new RegExp("^("+xe+")(.*)$","i"),We=new RegExp("^([+-])=("+xe+")","i"),ze={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=x(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,r,s=Z.camelCase(t),c=e.style;return t=Z.cssProps[s]||(Z.cssProps[s]=A(c,s)),r=Z.cssHooks[t]||Z.cssHooks[s],void 0===n?r&&"get"in r&&void 0!==(o=r.get(e,!1,i))?o:c[t]:(a=typeof n,"string"===a&&(o=We.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(Z.css(e,t)),a="number"),void(null!=n&&n===n&&("number"!==a||Z.cssNumber[s]||(n+="px"),G.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i))||(c[t]=n))))}},css:function(e,t,n,i){var o,a,r,s=Z.camelCase(t);return t=Z.cssProps[s]||(Z.cssProps[s]=A(e.style,s)),r=Z.cssHooks[t]||Z.cssHooks[s],r&&"get"in r&&(o=r.get(e,!0,n)),void 0===o&&(o=x(e,t,i)),"normal"===o&&t in Qe&&(o=Qe[t]),""===n||n?(a=parseFloat(o),n===!0||Z.isNumeric(a)?a||0:o):o}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?$e.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,ze,function(){return M(e,t,i)}):M(e,t,i):void 0},set:function(e,n,i){var o=i&&je(e);return B(e,n,i?w(e,t,i,"border-box"===Z.css(e,"boxSizing",!1,o),o):0)}}}),Z.cssHooks.marginRight=k(G.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},x,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var i=0,o={},a="string"==typeof n?n.split(" "):[n];4>i;i++)o[e+ke[i]+t]=a[i]||a[i-2]||a[0];return o}},Ie.test(e)||(Z.cssHooks[e+t].set=B)}),Z.fn.extend({css:function(e,t){return he(this,function(e,t,n){var i,o,a={},r=0;if(Z.isArray(t)){for(i=je(e),o=t.length;o>r;r++)a[t[r]]=Z.css(e,t[r],!1,i);return a}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=U,U.prototype={constructor:U,init:function(e,t,n,i,o,a){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(Z.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=U.prototype.init,Z.fx.step={};var Ge,Ye,Xe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[T],nt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=Ze.exec(t),a=o&&o[3]||(Z.cssNumber[e]?"":"px"),r=(Z.cssNumber[e]||"px"!==a&&+i)&&Ze.exec(Z.css(n.elem,e)),s=1,c=20;if(r&&r[3]!==a){a=a||r[3],o=o||[],r=+i||1;do s=s||".5",r/=s,Z.style(n.elem,e,r+a);while(s!==(s=n.cur()/i)&&1!==s&&--c)}return o&&(r=n.start=+r||+i||0,n.unit=a,n.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),n}]};Z.Animation=Z.extend(O,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=Z.isEmptyObject(e),a=Z.speed(t,n,i),r=function(){var t=O(this,Z.extend({},e),a);(o||ve.get(this,"finish"))&&t.stop(!0)};return r.finish=r,o||a.queue===!1?this.each(r):this.queue(a.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",a=Z.timers,r=ve.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&et.test(o)&&i(r[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(n),t=!1,a.splice(o,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],a=Z.timers,r=i?i.length:0;for(n.finish=!0,Z.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;r>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,i,o)}}),Z.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Ge=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Ge=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Ye||(Ye=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Ye),Ye=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=Y.createElement("input"),t=Y.createElement("select"),n=t.appendChild(Y.createElement("option"));e.type="checkbox",G.checkOn=""!==e.value,G.optSelected=n.selected,t.disabled=!0,G.optDisabled=!n.disabled,e=Y.createElement("input"),e.value="t",e.type="radio",G.radioValue="t"===e.value}();var it,ot,at=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return he(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var i,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?typeof e.getAttribute===we?Z.prop(e,t,n):(1===a&&Z.isXMLDoc(e)||(t=t.toLowerCase(),i=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?ot:it)),void 0===n?i&&"get"in i&&null!==(o=i.get(e,t))?o:(o=Z.find.attr(e,t),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,i,o=0,a=t&&t.match(fe);if(a&&1===e.nodeType)for(;n=a[o++];)i=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!G.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),ot={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=at[t]||Z.find.attr;at[t]=function(e,t,i){var o,a;return i||(a=at[t],at[t]=o,o=null!=n(e,t,i)?t.toLowerCase():null,at[t]=a),o}});var rt=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return he(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,o,a,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?(a=1!==r||!Z.isXMLDoc(e),a&&(t=Z.propFix[t]||t,o=Z.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rt.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),G.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,i,o,a,r,s="string"==typeof e&&e,c=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];l>c;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r=Z.trim(i),n.className!==r&&(n.className=r)}return this},removeClass:function(e){var t,n,i,o,a,r,s=0===arguments.length||"string"==typeof e&&e,c=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];l>c;c++)if(n=this[c],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");r=e?Z.trim(i):"",n.className!==r&&(n.className=r)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,o=Z(this),a=e.match(fe)||[];t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===we||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var ct=/\r/g;Z.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=Z.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,Z(this).val()):e,null==o?o="":"number"==typeof o?o+="":Z.isArray(o)&&(o=Z.map(o,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=Z.valHooks[o.type]||Z.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(ct,""):null==n?"":n)):void 0}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,a="select-one"===e.type||0>o,r=a?null:[],s=a?o+1:i.length,c=0>o?s:a?o:0;s>c;c++)if(n=i[c],!(!n.selected&&c!==o||(G.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),a)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,a=Z.makeArray(t),r=o.length;r--;)i=o[r],(i.selected=Z.inArray(i.value,a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},G.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=Z.now(),ut=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var dt=/#.*$/,pt=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,ht=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},St={},bt="*/".concat("*"),xt=e.location.href,kt=vt.exec(xt.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt,type:"GET",isLocal:mt.test(kt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?D(D(e,Z.ajaxSettings),t):D(Z.ajaxSettings,e)},ajaxPrefilter:N(yt),ajaxTransport:N(St),ajax:function(e,t){function n(e,t,n,r){var c,u,v,y,b,k=t;2!==S&&(S=2,s&&clearTimeout(s),i=void 0,a=r||"",x.readyState=e>0?4:0,c=e>=200&&300>e||304===e,n&&(y=P(d,x,n)),y=L(d,y,x,c),c?(d.ifModified&&(b=x.getResponseHeader("Last-Modified"),b&&(Z.lastModified[o]=b),b=x.getResponseHeader("etag"),b&&(Z.etag[o]=b)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=y.state,u=y.data,v=y.error,c=!v)):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),x.status=e,x.statusText=(t||k)+"",c?m.resolveWith(p,[u,k,x]):m.rejectWith(p,[x,k,v]),x.statusCode(h),h=void 0,l&&f.trigger(c?"ajaxSuccess":"ajaxError",[x,d,c?u:v]),g.fireWith(p,[x,k]),l&&(f.trigger("ajaxComplete",[x,d]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,a,r,s,c,l,u,d=Z.ajaxSetup({},t),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?Z(p):Z.event,m=Z.Deferred(),g=Z.Callbacks("once memory"),h=d.statusCode||{},v={},y={},S=0,b="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===S){if(!r)for(r={};t=ft.exec(a);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===S?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return S||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return S||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>S)for(t in e)h[t]=[h[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||b;return i&&i.abort(t),n(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||xt)+"").replace(dt,"").replace(ht,kt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Z.trim(d.dataType||"*").toLowerCase().match(fe)||[""],null==d.crossDomain&&(c=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===kt[1]&&c[2]===kt[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(kt[3]||("http:"===kt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Z.param(d.data,d.traditional)),F(yt,d,t,x),2===S)return x;l=Z.event&&d.global,l&&0===Z.active++&&Z.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!gt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(ut.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=pt.test(o)?o.replace(pt,"$1_="+lt++):o+(ut.test(o)?"&":"?")+"_="+lt++)),d.ifModified&&(Z.lastModified[o]&&x.setRequestHeader("If-Modified-Since",Z.lastModified[o]),Z.etag[o]&&x.setRequestHeader("If-None-Match",Z.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+bt+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)x.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===S))return x.abort();b="abort";for(u in{success:1,error:1,complete:1})x[u](d[u]);if(i=F(St,d,t,x)){x.readyState=1,l&&f.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},d.timeout));try{S=1,i.send(v,n)}catch(k){if(!(2>S))throw k;n(-1,k)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,i,o){return Z.isFunction(n)&&(o=o||i,i=n,n=void 0),Z.ajax({url:e,type:t,dataType:o,data:n,success:i})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var At=/%20/g,Bt=/\[\]$/,wt=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,i=[],o=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t);
};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){o(this.name,this.value)});else for(n in e)V(n,e[n],t,o);return i.join("&").replace(At,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Ct.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!Be.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:n.replace(wt,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Ut=0,Jt={},_t={0:200,1223:204},Et=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Jt)Jt[e]()}),G.cors=!!Et&&"withCredentials"in Et,G.ajax=Et=!!Et,Z.ajaxTransport(function(e){var t;return G.cors||Et&&!e.crossDomain?{send:function(n,i){var o,a=e.xhr(),r=++Ut;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)a.setRequestHeader(o,n[o]);t=function(e){return function(){t&&(delete Jt[r],t=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?i(a.status,a.statusText):i(_t[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=t(),a.onerror=t("error"),t=Jt[r]=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),Y.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Tt=[],Rt=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Tt.pop()||Z.expando+"_"+lt++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,i){var o,a,r,s=t.jsonp!==!1&&(Rt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Rt,"$1"+o):t.jsonp!==!1&&(t.url+=(ut.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return r||Z.error(o+" was not called"),r[0]},t.dataTypes[0]="json",a=e[o],e[o]=function(){r=arguments},i.always(function(){e[o]=a,t[o]&&(t.jsonpCallback=n.jsonpCallback,Tt.push(o)),r&&Z.isFunction(a)&&a(r[0]),r=a=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Y;var i=re.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,o),o&&o.length&&Z(o).remove(),Z.merge([],i.childNodes))};var Ot=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var i,o,a,r=this,s=e.indexOf(" ");return s>=0&&(i=Z.trim(e.slice(s)),e=e.slice(0,s)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),r.length>0&&Z.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){a=arguments,r.html(i?Z("<div>").append(Z.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){r.each(n,a||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Nt=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var i,o,a,r,s,c,l,u=Z.css(e,"position"),d=Z(e),p={};"static"===u&&(e.style.position="relative"),s=d.offset(),a=Z.css(e,"top"),c=Z.css(e,"left"),l=("absolute"===u||"fixed"===u)&&(a+c).indexOf("auto")>-1,l?(i=d.position(),r=i.top,o=i.left):(r=parseFloat(a)||0,o=parseFloat(c)||0),Z.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+r),null!=t.left&&(p.left=t.left-s.left+o),"using"in t?t.using.call(e,p):d.css(p)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,i=this[0],o={top:0,left:0},a=i&&i.ownerDocument;return a?(t=a.documentElement,Z.contains(t,i)?(typeof i.getBoundingClientRect!==we&&(o=i.getBoundingClientRect()),n=I(a),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(i=e.offset()),i.top+=Z.css(e[0],"borderTopWidth",!0),i.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Z.css(n,"marginTop",!0),left:t.left-i.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Nt;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Nt})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Z.fn[t]=function(o){return he(this,function(t,o,a){var r=I(t);return void 0===a?r?r[n]:t[o]:void(r?r.scrollTo(i?e.pageXOffset:a,i?a:e.pageYOffset):t[o]=a)},t,o,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=k(G.pixelPosition,function(e,n){return n?(n=x(e,t),qe.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Z.fn[i]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),r=n||(i===!0||o===!0?"margin":"border");return he(this,function(t,n,i){var o;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?Z.css(t,n,r):Z.style(t,n,i,r)},t,a?i:void 0,a,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Ft=e.jQuery,Dt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Dt),t&&e.jQuery===Z&&(e.jQuery=Ft),Z},typeof t===we&&(e.jQuery=e.$=Z),Z}),/*!
 * Knockout JavaScript library v3.2.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
function(){!function(e){var t=this||(0,eval)("this"),n=t.document,i=t.navigator,o=t.jQuery,a=t.JSON;!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(module.exports||exports,require):"function"==typeof define&&define.amd?define("knockout",["exports","require"],e):e(t.ko={})}(function(r,s){function c(e,t){return null===e||typeof e in f?e===t:!1}function l(t,n){var i;return function(){i||(i=setTimeout(function(){i=e,t()},n))}}function u(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function d(e,t,n,i){p.d[e]={init:function(e,o,a,r,s){var c,l;return p.s(function(){var a=p.a.c(o()),r=!n!=!a,u=!l;(u||t||r!==c)&&(u&&p.Y.la()&&(l=p.a.ia(p.f.childNodes(e),!0)),r?(u||p.f.T(e,p.a.ia(l)),p.Ca(i?i(s,a):s,e)):p.f.ja(e),c=r)},null,{o:e}),{controlsDescendantBindings:!0}}},p.h.ha[e]=!1,p.f.Q[e]=!0}var p="undefined"!=typeof r?r:{};p.b=function(e,t){for(var n=e.split("."),i=p,o=0;o<n.length-1;o++)i=i[n[o]];i[n[n.length-1]]=t},p.A=function(e,t,n){e[t]=n},p.version="3.2.0",p.b("version",p.version),p.a=function(){function r(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function s(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function c(e,t){return e.__proto__=t,e}var l={__proto__:[]}instanceof Array,u={},d={};u[i&&/Firefox\/2/i.test(i.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],u.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),r(u,function(e,t){if(t.length)for(var n=0,i=t.length;i>n;n++)d[t[n]]=e});var f={propertychange:!0},m=n&&function(){for(var t=3,i=n.createElement("div"),o=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",o[0];);return t>4?t:e}();return{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],n)},m:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},qb:function(e,t,n){for(var i=0,o=e.length;o>i;i++)if(t.call(n,e[i],i))return e[i];return null},ua:function(e,t){var n=p.a.m(e,t);n>0?e.splice(n,1):0===n&&e.shift()},rb:function(e){e=e||[];for(var t=[],n=0,i=e.length;i>n;n++)0>p.a.m(t,e[n])&&t.push(e[n]);return t},Da:function(e,t){e=e||[];for(var n=[],i=0,o=e.length;o>i;i++)n.push(t(e[i],i));return n},ta:function(e,t){e=e||[];for(var n=[],i=0,o=e.length;o>i;i++)t(e[i],i)&&n.push(e[i]);return n},ga:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;i>n;n++)e.push(t[n]);return e},ea:function(e,t,n){var i=p.a.m(p.a.Xa(e),t);0>i?n&&e.push(t):n||e.splice(i,1)},xa:l,extend:s,za:c,Aa:l?c:s,G:r,na:function(e,t){if(!e)return e;var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=t(e[n],n,e));return i},Ka:function(e){for(;e.firstChild;)p.removeNode(e.firstChild)},oc:function(e){e=p.a.S(e);for(var t=n.createElement("div"),i=0,o=e.length;o>i;i++)t.appendChild(p.R(e[i]));return t},ia:function(e,t){for(var n=0,i=e.length,o=[];i>n;n++){var a=e[n].cloneNode(!0);o.push(t?p.R(a):a)}return o},T:function(e,t){if(p.a.Ka(e),t)for(var n=0,i=t.length;i>n;n++)e.appendChild(t[n])},Lb:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],o=i.parentNode,a=0,r=t.length;r>a;a++)o.insertBefore(t[a],i);for(a=0,r=n.length;r>a;a++)p.removeNode(n[a])}},ka:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.shift();if(1<e.length){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)if(e.push(n),n=n.nextSibling,!n)return;e.push(i)}}return e},Nb:function(e,t){7>m?e.setAttribute("selected",t):e.selected=t},cb:function(t){return null===t||t===e?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(e,t){return e=e||"",t.length>e.length?!1:e.substring(0,t.length)===t},cc:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Ja:function(e){return p.a.cc(e,e.ownerDocument.documentElement)},ob:function(e){return!!p.a.qb(e,p.a.Ja)},t:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},n:function(e,t,n){var i=m&&f[t];if(!i&&o)o(e).bind(t,n);else if(i||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var a=function(t){n.call(e,t)},r="on"+t;e.attachEvent(r,a),p.a.w.da(e,function(){e.detachEvent(r,a)})}else e.addEventListener(t,n,!1)},oa:function(e,i){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var a;if("input"===p.a.t(e)&&e.type&&"click"==i.toLowerCase()?(a=e.type,a="checkbox"==a||"radio"==a):a=!1,o&&!a)o(e).trigger(i);else if("function"==typeof n.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");a=n.createEvent(d[i]||"HTMLEvents"),a.initEvent(i,!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(a)}else if(a&&e.click)e.click();else{if("undefined"==typeof e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+i)}},c:function(e){return p.C(e)?e():e},Xa:function(e){return p.C(e)?e.v():e},Ba:function(e,t,n){if(t){var i=/\S+/g,o=e.className.match(i)||[];p.a.u(t.match(i),function(e){p.a.ea(o,e,n)}),e.className=o.join(" ")}},bb:function(t,n){var i=p.a.c(n);(null===i||i===e)&&(i="");var o=p.f.firstChild(t);!o||3!=o.nodeType||p.f.nextSibling(o)?p.f.T(t,[t.ownerDocument.createTextNode(i)]):o.data=i,p.a.fc(t)},Mb:function(e,t){if(e.name=t,7>=m)try{e.mergeAttributes(n.createElement("<input name='"+e.name+"'/>"),!1)}catch(i){}},fc:function(e){m>=9&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},dc:function(e){if(m){var t=e.style.width;e.style.width=0,e.style.width=t}},sc:function(e,t){e=p.a.c(e),t=p.a.c(t);for(var n=[],i=e;t>=i;i++)n.push(i);return n},S:function(e){for(var t=[],n=0,i=e.length;i>n;n++)t.push(e[n]);return t},yc:6===m,zc:7===m,L:m,xb:function(e,t){for(var n=p.a.S(e.getElementsByTagName("input")).concat(p.a.S(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},o=[],a=n.length-1;a>=0;a--)i(n[a])&&o.push(n[a]);return o},pc:function(e){return"string"==typeof e&&(e=p.a.cb(e))?a&&a.parse?a.parse(e):new Function("return "+e)():null},eb:function(e,t,n){if(!a||!a.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(p.a.c(e),t,n)},qc:function(e,t,i){i=i||{};var o=i.params||{},a=i.includeFields||this.vb,s=e;if("object"==typeof e&&"form"===p.a.t(e))for(var s=e.action,c=a.length-1;c>=0;c--)for(var l=p.a.xb(e,a[c]),u=l.length-1;u>=0;u--)o[l[u].name]=l[u].value;t=p.a.c(t);var d=n.createElement("form");d.style.display="none",d.action=s,d.method="post";for(var f in t)e=n.createElement("input"),e.type="hidden",e.name=f,e.value=p.a.eb(p.a.c(t[f])),d.appendChild(e);r(o,function(e,t){var i=n.createElement("input");i.type="hidden",i.name=e,i.value=t,d.appendChild(i)}),n.body.appendChild(d),i.submitter?i.submitter(d):d.submit(),setTimeout(function(){d.parentNode.removeChild(d)},0)}}}(),p.b("utils",p.a),p.b("utils.arrayForEach",p.a.u),p.b("utils.arrayFirst",p.a.qb),p.b("utils.arrayFilter",p.a.ta),p.b("utils.arrayGetDistinctValues",p.a.rb),p.b("utils.arrayIndexOf",p.a.m),p.b("utils.arrayMap",p.a.Da),p.b("utils.arrayPushAll",p.a.ga),p.b("utils.arrayRemoveItem",p.a.ua),p.b("utils.extend",p.a.extend),p.b("utils.fieldsIncludedWithJsonPost",p.a.vb),p.b("utils.getFormFields",p.a.xb),p.b("utils.peekObservable",p.a.Xa),p.b("utils.postJson",p.a.qc),p.b("utils.parseJson",p.a.pc),p.b("utils.registerEventHandler",p.a.n),p.b("utils.stringifyJson",p.a.eb),p.b("utils.range",p.a.sc),p.b("utils.toggleDomNodeCssClass",p.a.Ba),p.b("utils.triggerEvent",p.a.oa),p.b("utils.unwrapObservable",p.a.c),p.b("utils.objectForEach",p.a.G),p.b("utils.addOrRemoveItem",p.a.ea),p.b("unwrap",p.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments);return e=n.shift(),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),p.a.e=new function(){function t(t,a){var r=t[i];if(!r||"null"===r||!o[r]){if(!a)return e;r=t[i]="ko"+n++,o[r]={}}return o[r]}var n=0,i="__ko__"+(new Date).getTime(),o={};return{get:function(n,i){var o=t(n,!1);return o===e?e:o[i]},set:function(n,i,o){(o!==e||t(n,!1)!==e)&&(t(n,!0)[i]=o)},clear:function(e){var t=e[i];return t?(delete o[t],e[i]=null,!0):!1},F:function(){return n++ +i}}},p.b("utils.domData",p.a.e),p.b("utils.domData.clear",p.a.e.clear),p.a.w=new function(){function t(t,n){var o=p.a.e.get(t,i);return o===e&&n&&(o=[],p.a.e.set(t,i,o)),o}function n(e){var i=t(e,!1);if(i)for(var i=i.slice(0),o=0;o<i.length;o++)i[o](e);if(p.a.e.clear(e),p.a.w.cleanExternalData(e),r[e.nodeType])for(i=e.firstChild;e=i;)i=e.nextSibling,8===e.nodeType&&n(e)}var i=p.a.e.F(),a={1:!0,8:!0,9:!0},r={1:!0,9:!0};return{da:function(e,n){if("function"!=typeof n)throw Error("Callback must be a function");t(e,!0).push(n)},Kb:function(n,o){var a=t(n,!1);a&&(p.a.ua(a,o),0==a.length&&p.a.e.set(n,i,e))},R:function(e){if(a[e.nodeType]&&(n(e),r[e.nodeType])){var t=[];p.a.ga(t,e.getElementsByTagName("*"));for(var i=0,o=t.length;o>i;i++)n(t[i])}return e},removeNode:function(e){p.R(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){o&&"function"==typeof o.cleanData&&o.cleanData([e])}}},p.R=p.a.w.R,p.removeNode=p.a.w.removeNode,p.b("cleanNode",p.R),p.b("removeNode",p.removeNode),p.b("utils.domNodeDisposal",p.a.w),p.b("utils.domNodeDisposal.addDisposeCallback",p.a.w.da),p.b("utils.domNodeDisposal.removeDisposeCallback",p.a.w.Kb),function(){p.a.ba=function(e){var i;if(o){if(o.parseHTML)i=o.parseHTML(e)||[];else if((i=o.clean([e]))&&i[0]){for(e=i[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var a=p.a.cb(e).toLowerCase();for(i=n.createElement("div"),a=a.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!a.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!a.indexOf("<td")||!a.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],e="ignored<div>"+a[1]+e+a[2]+"</div>","function"==typeof t.innerShiv?i.appendChild(t.innerShiv(e)):i.innerHTML=e;a[0]--;)i=i.lastChild;i=p.a.S(i.lastChild.childNodes)}return i},p.a.$a=function(t,n){if(p.a.Ka(t),n=p.a.c(n),null!==n&&n!==e)if("string"!=typeof n&&(n=n.toString()),o)o(t).html(n);else for(var i=p.a.ba(n),a=0;a<i.length;a++)t.appendChild(i[a])}}(),p.b("utils.parseHtmlFragment",p.a.ba),p.b("utils.setHtml",p.a.$a),p.D=function(){function t(e,n){if(e)if(8==e.nodeType){var i=p.D.Gb(e.nodeValue);null!=i&&n.push({bc:e,mc:i})}else if(1==e.nodeType)for(var i=0,o=e.childNodes,a=o.length;a>i;i++)t(o[i],n)}var n={};return{Ua:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return n[t]=e,"<!--[ko_memo:"+t+"]-->"},Rb:function(t,i){var o=n[t];if(o===e)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return o.apply(null,i||[]),!0}finally{delete n[t]}},Sb:function(e,n){var i=[];t(e,i);for(var o=0,a=i.length;a>o;o++){var r=i[o].bc,s=[r];n&&p.a.ga(s,n),p.D.Rb(i[o].mc,s),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)}},Gb:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),p.b("memoization",p.D),p.b("memoization.memoize",p.D.Ua),p.b("memoization.unmemoize",p.D.Rb),p.b("memoization.parseMemoText",p.D.Gb),p.b("memoization.unmemoizeDomNodeAndDescendants",p.D.Sb),p.La={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return p.j({read:e,write:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}})},rateLimit:function(e,t){var n,i,o;"number"==typeof t?n=t:(n=t.timeout,i=t.method),o="notifyWhenChangesStop"==i?u:l,e.Ta(function(e){return o(e,n)})},notify:function(e,t){e.equalityComparer="always"==t?null:c}};var f={undefined:1,"boolean":1,number:1,string:1};p.b("extenders",p.La),p.Pb=function(e,t,n){this.target=e,this.wa=t,this.ac=n,this.Cb=!1,p.A(this,"dispose",this.K)},p.Pb.prototype.K=function(){this.Cb=!0,this.ac()},p.P=function(){p.a.Aa(this,p.P.fn),this.M={}};var m="change",g={U:function(e,t,n){var i=this;n=n||m;var o=new p.Pb(i,t?e.bind(t):e,function(){p.a.ua(i.M[n],o),i.nb&&i.nb()});return i.va&&i.va(n),i.M[n]||(i.M[n]=[]),i.M[n].push(o),o},notifySubscribers:function(e,t){if(t=t||m,this.Ab(t))try{p.k.Ea();for(var n,i=this.M[t].slice(0),o=0;n=i[o];++o)n.Cb||n.wa(e)}finally{p.k.end()}},Ta:function(e){var t,n,i,o=this,a=p.C(o);o.qa||(o.qa=o.notifySubscribers,o.notifySubscribers=function(e,t){t&&t!==m?"beforeChange"===t?o.kb(e):o.qa(e,t):o.lb(e)});var r=e(function(){a&&i===o&&(i=o()),t=!1,o.Pa(n,i)&&o.qa(n=i)});o.lb=function(e){t=!0,i=e,r()},o.kb=function(e){t||(n=e,o.qa(e,"beforeChange"))}},Ab:function(e){return this.M[e]&&this.M[e].length},yb:function(){var e=0;return p.a.G(this.M,function(t,n){e+=n.length}),e},Pa:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var t=this;return e&&p.a.G(e,function(e,n){var i=p.La[e];"function"==typeof i&&(t=i(t,n)||t)}),t}};p.A(g,"subscribe",g.U),p.A(g,"extend",g.extend),p.A(g,"getSubscriptionsCount",g.yb),p.a.xa&&p.a.za(g,Function.prototype),p.P.fn=g,p.Db=function(e){return null!=e&&"function"==typeof e.U&&"function"==typeof e.notifySubscribers},p.b("subscribable",p.P),p.b("isSubscribable",p.Db),p.Y=p.k=function(){function e(e){i.push(n),n=e}function t(){n=i.pop()}var n,i=[],o=0;return{Ea:e,end:t,Jb:function(e){if(n){if(!p.Db(e))throw Error("Only subscribable things can act as dependencies");n.wa(e,e.Vb||(e.Vb=++o))}},B:function(n,i,o){try{return e(),n.apply(i,o||[])}finally{t()}},la:function(){return n?n.s.la():void 0},ma:function(){return n?n.ma:void 0}}}(),p.b("computedContext",p.Y),p.b("computedContext.getDependenciesCount",p.Y.la),p.b("computedContext.isInitial",p.Y.ma),p.b("computedContext.isSleeping",p.Y.Ac),p.p=function(e){function t(){return 0<arguments.length?(t.Pa(n,arguments[0])&&(t.X(),n=arguments[0],t.W()),this):(p.k.Jb(t),n)}var n=e;return p.P.call(t),p.a.Aa(t,p.p.fn),t.v=function(){return n},t.W=function(){t.notifySubscribers(n)},t.X=function(){t.notifySubscribers(n,"beforeChange")},p.A(t,"peek",t.v),p.A(t,"valueHasMutated",t.W),p.A(t,"valueWillMutate",t.X),t},p.p.fn={equalityComparer:c};var h=p.p.rc="__ko_proto__";p.p.fn[h]=p.p,p.a.xa&&p.a.za(p.p.fn,p.P.fn),p.Ma=function(t,n){return null===t||t===e||t[h]===e?!1:t[h]===n?!0:p.Ma(t[h],n)},p.C=function(e){return p.Ma(e,p.p)},p.Ra=function(e){return"function"==typeof e&&e[h]===p.p||"function"==typeof e&&e[h]===p.j&&e.hc?!0:!1},p.b("observable",p.p),p.b("isObservable",p.C),p.b("isWriteableObservable",p.Ra),p.b("isWritableObservable",p.Ra),p.aa=function(e){if(e=e||[],"object"!=typeof e||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=p.p(e),p.a.Aa(e,p.aa.fn),e.extend({trackArrayChanges:!0})},p.aa.fn={remove:function(e){for(var t=this.v(),n=[],i="function"!=typeof e||p.C(e)?function(t){return t===e}:e,o=0;o<t.length;o++){var a=t[o];i(a)&&(0===n.length&&this.X(),n.push(a),t.splice(o,1),o--)}return n.length&&this.W(),n},removeAll:function(t){if(t===e){var n=this.v(),i=n.slice(0);return this.X(),n.splice(0,n.length),this.W(),i}return t?this.remove(function(e){return 0<=p.a.m(t,e)}):[]},destroy:function(e){var t=this.v(),n="function"!=typeof e||p.C(e)?function(t){return t===e}:e;this.X();for(var i=t.length-1;i>=0;i--)n(t[i])&&(t[i]._destroy=!0);this.W()},destroyAll:function(t){return t===e?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=p.a.m(t,e)}):[]},indexOf:function(e){var t=this();return p.a.m(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.X(),this.v()[n]=t,this.W())}},p.a.u("pop push reverse shift sort splice unshift".split(" "),function(e){p.aa.fn[e]=function(){var t=this.v();return this.X(),this.sb(t,e,arguments),t=t[e].apply(t,arguments),this.W(),t}}),p.a.u(["slice"],function(e){p.aa.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),p.a.xa&&p.a.za(p.aa.fn,p.p.fn),p.b("observableArray",p.aa);var v="arrayChange";p.La.trackArrayChanges=function(e){function t(){if(!n){n=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,n){return n&&n!==m||++o,t.apply(this,arguments)};var a=[].concat(e.v()||[]);i=null,e.U(function(t){if(t=[].concat(t||[]),e.Ab(v)){var n;(!i||o>1)&&(i=p.a.Fa(a,t,{sparse:!0})),n=i,n.length&&e.notifySubscribers(n,v)}a=t,i=null,o=0})}}if(!e.sb){var n=!1,i=null,o=0,a=e.U;e.U=e.subscribe=function(e,n,i){return i===v&&t(),a.apply(this,arguments)},e.sb=function(e,t,a){function r(e,t,n){return s[s.length]={status:e,value:t,index:n}}if(n&&!o){var s=[],c=e.length,l=a.length,u=0;switch(t){case"push":u=c;case"unshift":for(t=0;l>t;t++)r("added",a[t],u+t);break;case"pop":u=c-1;case"shift":c&&r("deleted",e[u],u);break;case"splice":t=Math.min(Math.max(0,0>a[0]?c+a[0]:a[0]),c);for(var c=1===l?c:Math.min(t+(a[1]||0),c),l=t+l-2,u=Math.max(c,l),d=[],f=[],m=2;u>t;++t,++m)c>t&&f.push(r("deleted",e[t],t)),l>t&&d.push(r("added",a[m],t));p.a.wb(f,d);break;default:return}i=s}}}},p.s=p.j=function(t,n,i){function o(){p.a.G(w,function(e,t){t.K()}),w={}}function a(){o(),M=0,h=!0,f=!1}function r(){var e=c.throttleEvaluation;e&&e>=0?(clearTimeout(C),C=setTimeout(s,e)):c.ib?c.ib():s()}function s(t){if(m){if(y)throw Error("A 'pure' computed must not be called recursively")}else if(!h){if(A&&A()){if(!g)return void B()}else g=!1;if(m=!0,S)try{var i={};p.k.Ea({wa:function(e,t){i[t]||(i[t]=1,++M)},s:c,ma:e}),M=0,d=v.call(n)}finally{p.k.end(),m=!1}else try{var o=w,a=M;p.k.Ea({wa:function(e,t){h||(a&&o[t]?(w[t]=o[t],++M,delete o[t],--a):w[t]||(w[t]=e.U(r),++M))},s:c,ma:y?e:!M}),w={},M=0;try{var s=n?v.call(n):v()}finally{p.k.end(),a&&p.a.G(o,function(e,t){t.K()}),f=!1}c.Pa(d,s)&&(c.notifySubscribers(d,"beforeChange"),d=s,!0!==t&&c.notifySubscribers(d))}finally{m=!1}M||B()}}function c(){if(0<arguments.length){if("function"!=typeof b)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return b.apply(n,arguments),this}return p.k.Jb(c),f&&s(!0),d}function l(){return f&&!M&&s(!0),d}function u(){return f||M>0}var d,f=!0,m=!1,g=!1,h=!1,v=t,y=!1,S=!1;if(v&&"object"==typeof v?(i=v,v=i.read):(i=i||{},v||(v=i.read)),"function"!=typeof v)throw Error("Pass a function that returns the value of the ko.computed");var b=i.write,x=i.disposeWhenNodeIsRemoved||i.o||null,k=i.disposeWhen||i.Ia,A=k,B=a,w={},M=0,C=null;n||(n=i.owner),p.P.call(c),p.a.Aa(c,p.j.fn),c.v=l,c.la=function(){return M},c.hc="function"==typeof i.write,c.K=function(){B()},c.Z=u;var U=c.Ta;return c.Ta=function(e){U.call(c,e),c.ib=function(){c.kb(d),f=!0,c.lb(c)}},i.pure?(S=y=!0,c.va=function(){S&&(S=!1,s(!0))},c.nb=function(){c.yb()||(o(),S=f=!0)}):i.deferEvaluation&&(c.va=function(){l(),delete c.va}),p.A(c,"peek",c.v),p.A(c,"dispose",c.K),p.A(c,"isActive",c.Z),p.A(c,"getDependenciesCount",c.la),x&&(g=!0,x.nodeType&&(A=function(){return!p.a.Ja(x)||k&&k()})),S||i.deferEvaluation||s(),x&&u()&&x.nodeType&&(B=function(){p.a.w.Kb(x,B),a()},p.a.w.da(x,B)),c},p.jc=function(e){return p.Ma(e,p.j)},g=p.p.rc,p.j[g]=p.p,p.j.fn={equalityComparer:c},p.j.fn[g]=p.j,p.a.xa&&p.a.za(p.j.fn,p.P.fn),p.b("dependentObservable",p.j),p.b("computed",p.j),p.b("isComputed",p.jc),p.Ib=function(e,t){return"function"==typeof e?p.s(e,t,{pure:!0}):(e=p.a.extend({},e),e.pure=!0,p.s(e,t))},p.b("pureComputed",p.Ib),function(){function t(o,a,r){if(r=r||new i,o=a(o),"object"!=typeof o||null===o||o===e||o instanceof Date||o instanceof String||o instanceof Number||o instanceof Boolean)return o;var s=o instanceof Array?[]:{};return r.save(o,s),n(o,function(n){var i=a(o[n]);switch(typeof i){case"boolean":case"number":case"string":case"function":s[n]=i;break;case"object":case"undefined":var c=r.get(i);s[n]=c!==e?c:t(i,a,r)}}),s}function n(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}function i(){this.keys=[],this.hb=[]}p.Qb=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return t(e,function(e){for(var t=0;p.C(e)&&10>t;t++)e=e();return e})},p.toJSON=function(e,t,n){return e=p.Qb(e),p.a.eb(e,t,n)},i.prototype={save:function(e,t){var n=p.a.m(this.keys,e);n>=0?this.hb[n]=t:(this.keys.push(e),this.hb.push(t))},get:function(t){return t=p.a.m(this.keys,t),t>=0?this.hb[t]:e}}}(),p.b("toJS",p.Qb),p.b("toJSON",p.toJSON),function(){p.i={q:function(t){switch(p.a.t(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?p.a.e.get(t,p.d.options.Va):7>=p.a.L?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?p.i.q(t.options[t.selectedIndex]):e;default:return t.value}},ca:function(t,n,i){switch(p.a.t(t)){case"option":switch(typeof n){case"string":p.a.e.set(t,p.d.options.Va,e),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=n;break;default:p.a.e.set(t,p.d.options.Va,n),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof n?n:""}break;case"select":(""===n||null===n)&&(n=e);for(var o,a=-1,r=0,s=t.options.length;s>r;++r)if(o=p.i.q(t.options[r]),o==n||""==o&&n===e){a=r;break}(i||a>=0||n===e&&1<t.size)&&(t.selectedIndex=a);break;default:(null===n||n===e)&&(n=""),t.value=n}}}}(),p.b("selectExtensions",p.i),p.b("selectExtensions.readValue",p.i.q),p.b("selectExtensions.writeValue",p.i.ca),p.h=function(){function e(e){e=p.a.cb(e),123===e.charCodeAt(0)&&(e=e.slice(1,-1));var t,n,r=[],s=e.match(i),c=0;if(s){s.push(",");for(var l,u=0;l=s[u];++u){var d=l.charCodeAt(0);if(44===d){if(0>=c){t&&r.push(n?{key:t,value:n.join("")}:{unknown:t}),t=n=c=0;continue}}else if(58===d){if(!n)continue}else if(47===d&&u&&1<l.length)(d=s[u-1].match(o))&&!a[d[0]]&&(e=e.substr(e.indexOf(l)+1),s=e.match(i),s.push(","),u=-1,l="/");else if(40===d||123===d||91===d)++c;else if(41===d||125===d||93===d)--c;else if(!t&&!n){t=34===d||39===d?l.slice(1,-1):l;continue}n?n.push(l):n=[l]}}return r}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),o=/[\])"'A-Za-z0-9_$]+$/,a={"in":1,"return":1,"typeof":1},r={};return{ha:[],V:r,Wa:e,ya:function(i,o){function a(e,i){var o;if(!u){var d=p.getBindingHandler(e);if(d&&d.preprocess&&!(i=d.preprocess(i,e,a)))return;(d=r[e])&&(o=i,0<=p.a.m(t,o)?o=!1:(d=o.match(n),o=null===d?!1:d[1]?"Object("+d[1]+")"+d[2]:o),d=o),d&&c.push("'"+e+"':function(_z){"+o+"=_z}")}l&&(i="function(){return "+i+" }"),s.push("'"+e+"':"+i)}o=o||{};var s=[],c=[],l=o.valueAccessors,u=o.bindingParams,d="string"==typeof i?e(i):i;return p.a.u(d,function(e){a(e.key||e.unknown,e.value)}),c.length&&a("_ko_property_writers","{"+c.join(",")+" }"),s.join(",")},lc:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},pa:function(e,t,n,i,o){e&&p.C(e)?!p.Ra(e)||o&&e.v()===i||e(i):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](i)}}}(),p.b("expressionRewriting",p.h),p.b("expressionRewriting.bindingRewriteValidators",p.h.ha),p.b("expressionRewriting.parseObjectLiteral",p.h.Wa),p.b("expressionRewriting.preProcessBindings",p.h.ya),p.b("expressionRewriting._twoWayBindings",p.h.V),p.b("jsonExpressionRewriting",p.h),p.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",p.h.ya),function(){function e(e){return 8==e.nodeType&&r.test(a?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&s.test(a?e.text:e.nodeValue)}function i(n,i){for(var o=n,a=1,r=[];o=o.nextSibling;){if(t(o)&&(a--,0===a))return r;r.push(o),e(o)&&a++}if(!i)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function o(e,t){var n=i(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:null}var a=n&&"<!--test-->"===n.createComment("test").text,r=a?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=a?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,c={ul:!0,ol:!0};p.f={Q:{},childNodes:function(t){return e(t)?i(t):t.childNodes},ja:function(t){if(e(t)){t=p.f.childNodes(t);for(var n=0,i=t.length;i>n;n++)p.removeNode(t[n])}else p.a.Ka(t)},T:function(t,n){if(e(t)){p.f.ja(t);for(var i=t.nextSibling,o=0,a=n.length;a>o;o++)i.parentNode.insertBefore(n[o],i)}else p.a.T(t,n)},Hb:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},Bb:function(t,n,i){i?e(t)?t.parentNode.insertBefore(n,i.nextSibling):i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):p.f.Hb(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=o(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},gc:e,xc:function(e){return(e=(a?e.text:e.nodeValue).match(r))?e[1]:null},Fb:function(n){if(c[p.a.t(n)]){var i=n.firstChild;if(i)do if(1===i.nodeType){var a;a=i.firstChild;var r=null;if(a)do if(r)r.push(a);else if(e(a)){var s=o(a,!0);s?a=s:r=[a]}else t(a)&&(r=[a]);while(a=a.nextSibling);if(a=r)for(r=i.nextSibling,s=0;s<a.length;s++)r?n.insertBefore(a[s],r):n.appendChild(a[s])}while(i=i.nextSibling)}}}}(),p.b("virtualElements",p.f),p.b("virtualElements.allowedBindings",p.f.Q),p.b("virtualElements.emptyNode",p.f.ja),p.b("virtualElements.insertAfter",p.f.Bb),p.b("virtualElements.prepend",p.f.Hb),p.b("virtualElements.setDomNodeChildren",p.f.T),function(){p.J=function(){this.Yb={}},p.a.extend(p.J.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||p.g.getComponentNameForNode(e);case 8:return p.f.gc(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t),n=n?this.parseBindingsString(n,t,e):null;return p.g.mb(n,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t),n=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return p.g.mb(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return p.f.xc(e);default:return null}},parseBindingsString:function(e,t,n,i){try{var o,a=this.Yb,r=e+(i&&i.valueAccessors||"");if(!(o=a[r])){var s,c="with($context){with($data||{}){return{"+p.h.ya(e,i)+"}}}";s=new Function("$context","$element",c),o=a[r]=s}return o(t,n)}catch(l){throw l.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+l.message,l}}}),p.J.instance=new p.J}(),p.b("bindingProvider",p.J),function(){function n(e){return function(){return e}}function i(e){return e()}function a(e){return p.a.na(p.k.B(e),function(t,n){return function(){return e()[n]}})}function r(e,t){return a(this.getBindings.bind(this,e,t))}function s(e,t,n){var i,o=p.f.firstChild(t),a=p.J.instance,r=a.preprocessNode;if(r){for(;i=o;)o=p.f.nextSibling(i),r.call(a,i);o=p.f.firstChild(t)}for(;i=o;)o=p.f.nextSibling(i),c(e,i,n)}function c(e,t,n){var i=!0,o=1===t.nodeType;o&&p.f.Fb(t),(o&&n||p.J.instance.nodeHasBindings(t))&&(i=u(t,null,e,n).shouldBindDescendants),i&&!f[p.a.t(t)]&&s(e,t,!o)}function l(e){var t=[],n={},i=[];return p.a.G(e,function o(a){if(!n[a]){var r=p.getBindingHandler(a);r&&(r.after&&(i.push(a),p.a.u(r.after,function(t){if(e[t]){if(-1!==p.a.m(i,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));o(t)}}),i.length--),t.push({key:a,zb:r})),n[a]=!0}}),t}function u(t,n,o,a){var s=p.a.e.get(t,m);if(!n){if(s)throw Error("You cannot apply bindings multiple times to the same element.");p.a.e.set(t,m,!0)}!s&&a&&p.Ob(t,o);var c;if(n&&"function"!=typeof n)c=n;else{var u=p.J.instance,d=u.getBindingAccessors||r,f=p.j(function(){return(c=n?n(o,t):d.call(u,t,o))&&o.I&&o.I(),c},null,{o:t});c&&f.Z()||(f=null)}var g;if(c){var h=f?function(e){return function(){return i(f()[e])}}:function(e){return c[e]},v=function(){return p.a.na(f?f():c,i)};v.get=function(e){return c[e]&&i(h(e))},v.has=function(e){return e in c},a=l(c),p.a.u(a,function(n){var i=n.zb.init,a=n.zb.update,r=n.key;if(8===t.nodeType&&!p.f.Q[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof i&&p.k.B(function(){var n=i(t,h(r),v,o.$data,o);if(n&&n.controlsDescendantBindings){if(g!==e)throw Error("Multiple bindings ("+g+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");g=r}}),"function"==typeof a&&p.j(function(){a(t,h(r),v,o.$data,o)},null,{o:t})}catch(s){throw s.message='Unable to process binding "'+r+": "+c[r]+'"\nMessage: '+s.message,s}})}return{shouldBindDescendants:g===e}}function d(e){return e&&e instanceof p.N?e:new p.N(e)}p.d={};var f={script:!0};p.getBindingHandler=function(e){return p.d[e]},p.N=function(t,n,i,o){var a,r=this,s="function"==typeof t&&!p.C(t),c=p.j(function(){var e=s?t():t,a=p.a.c(e);return n?(n.I&&n.I(),p.a.extend(r,n),c&&(r.I=c)):(r.$parents=[],r.$root=a,r.ko=p),r.$rawData=e,r.$data=a,i&&(r[i]=a),o&&o(r,n,a),r.$data},null,{Ia:function(){return a&&!p.a.ob(a)},o:!0});c.Z()&&(r.I=c,c.equalityComparer=null,a=[],c.Tb=function(t){a.push(t),p.a.w.da(t,function(t){p.a.ua(a,t),a.length||(c.K(),r.I=c=e)})})},p.N.prototype.createChildContext=function(e,t,n){return new p.N(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},p.N.prototype.extend=function(e){return new p.N(this.I||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,p.a.extend(t,"function"==typeof e?e():e)})};var m=p.a.e.F(),g=p.a.e.F();p.Ob=function(e,t){return 2!=arguments.length?p.a.e.get(e,g):(p.a.e.set(e,g,t),void(t.I&&t.I.Tb(e)))},p.ra=function(e,t,n){return 1===e.nodeType&&p.f.Fb(e),u(e,t,d(n),!0)},p.Wb=function(e,t,i){return i=d(i),p.ra(e,"function"==typeof t?a(t.bind(null,i,e)):p.a.na(t,n),i)},p.Ca=function(e,t){1!==t.nodeType&&8!==t.nodeType||s(d(e),t,!0)},p.pb=function(e,n){if(!o&&t.jQuery&&(o=t.jQuery),n&&1!==n.nodeType&&8!==n.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");n=n||t.document.body,c(d(e),n,!0)},p.Ha=function(t){switch(t.nodeType){case 1:case 8:var n=p.Ob(t);if(n)return n;if(t.parentNode)return p.Ha(t.parentNode)}return e},p.$b=function(t){return(t=p.Ha(t))?t.$data:e},p.b("bindingHandlers",p.d),p.b("applyBindings",p.pb),p.b("applyBindingsToDescendants",p.Ca),p.b("applyBindingAccessorsToNode",p.ra),p.b("applyBindingsToNode",p.Wb),p.b("contextFor",p.Ha),p.b("dataFor",p.$b)}(),function(e){function t(t,i){var r,s=o.hasOwnProperty(t)?o[t]:e;s||(s=o[t]=new p.P,n(t,function(e){a[t]=e,delete o[t],r?s.notifySubscribers(e):setTimeout(function(){s.notifySubscribers(e)},0)}),r=!0),s.U(i)}function n(e,t){i("getConfig",[e],function(n){n?i("loadComponent",[e,n],function(e){t(e)}):t(null)})}function i(t,n,o,a){a||(a=p.g.loaders.slice(0));var r=a.shift();if(r){var s=r[t];if(s){var c=!1;if(s.apply(r,n.concat(function(e){c?o(null):null!==e?o(e):i(t,n,o,a)}))!==e&&(c=!0,!r.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else i(t,n,o,a)}else o(null)}var o={},a={};p.g={get:function(n,i){var o=a.hasOwnProperty(n)?a[n]:e;o?setTimeout(function(){i(o)},0):t(n,i)},tb:function(e){delete a[e]},jb:i},p.g.loaders=[],p.b("components",p.g),
p.b("components.get",p.g.get),p.b("components.clearCachedDefinition",p.g.tb)}(),function(){function e(e,t,n,i){function o(){0===--s&&i(a)}var a={},s=2,c=n.template;n=n.viewModel,c?r(t,c,function(t){p.g.jb("loadTemplate",[e,t],function(e){a.template=e,o()})}):o(),n?r(t,n,function(t){p.g.jb("loadViewModel",[e,t],function(e){a[u]=e,o()})}):o()}function i(e,t,n){if("function"==typeof t)n(function(e){return new t(e)});else if("function"==typeof t[u])n(t[u]);else if("instance"in t){var o=t.instance;n(function(){return o})}else"viewModel"in t?i(e,t.viewModel,n):e("Unknown viewModel value: "+t)}function o(e){switch(p.a.t(e)){case"script":return p.a.ba(e.text);case"textarea":return p.a.ba(e.value);case"template":if(a(e.content))return p.a.ia(e.content.childNodes)}return p.a.ia(e.childNodes)}function a(e){return t.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function r(e,n,i){"string"==typeof n.require?s||t.require?(s||t.require)([n.require],i):e("Uses require, but no AMD loader is present"):i(n)}function c(e){return function(t){throw Error("Component '"+e+"': "+t)}}var l={};p.g.tc=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(p.g.Qa(e))throw Error("Component "+e+" is already registered");l[e]=t},p.g.Qa=function(e){return e in l},p.g.wc=function(e){delete l[e],p.g.tb(e)},p.g.ub={getConfig:function(e,t){t(l.hasOwnProperty(e)?l[e]:null)},loadComponent:function(t,n,i){var o=c(t);r(o,n,function(n){e(t,o,n,i)})},loadTemplate:function(e,i,r){if(e=c(e),"string"==typeof i)r(p.a.ba(i));else if(i instanceof Array)r(i);else if(a(i))r(p.a.S(i.childNodes));else if(i.element)if(i=i.element,t.HTMLElement?i instanceof HTMLElement:i&&i.tagName&&1===i.nodeType)r(o(i));else if("string"==typeof i){var s=n.getElementById(i);s?r(o(s)):e("Cannot find element with ID "+i)}else e("Unknown element type: "+i);else e("Unknown template value: "+i)},loadViewModel:function(e,t,n){i(c(e),t,n)}};var u="createViewModel";p.b("components.register",p.g.tc),p.b("components.isRegistered",p.g.Qa),p.b("components.unregister",p.g.wc),p.b("components.defaultLoader",p.g.ub),p.g.loaders.push(p.g.ub),p.g.Ub=l}(),function(){function e(e,n){var i=e.getAttribute("params");if(i){var i=t.parseBindingsString(i,n,e,{valueAccessors:!0,bindingParams:!0}),i=p.a.na(i,function(t){return p.s(t,null,{o:e})}),o=p.a.na(i,function(t){return t.Z()?p.s(function(){return p.a.c(t())},null,{o:e}):t.v()});return o.hasOwnProperty("$raw")||(o.$raw=i),o}return{$raw:{}}}p.g.getComponentNameForNode=function(e){return e=p.a.t(e),p.g.Qa(e)&&e},p.g.mb=function(t,n,i,o){if(1===n.nodeType){var a=p.g.getComponentNameForNode(n);if(a){if(t=t||{},t.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var r={name:a,params:e(n,i)};t.component=o?function(){return r}:r}}return t};var t=new p.J;9>p.a.L&&(p.g.register=function(e){return function(t){return n.createElement(t),e.apply(this,arguments)}}(p.g.register),n.createDocumentFragment=function(e){return function(){var t,n=e(),i=p.g.Ub;for(t in i)i.hasOwnProperty(t)&&n.createElement(t);return n}}(n.createDocumentFragment))}(),function(){var e=0;p.d.component={init:function(t,n,i,o,a){function r(){var e=s&&s.dispose;"function"==typeof e&&e.call(s),c=null}var s,c;return p.a.w.da(t,r),p.s(function(){var i,o,l=p.a.c(n());if("string"==typeof l?i=l:(i=p.a.c(l.name),o=p.a.c(l.params)),!i)throw Error("No component name specified");var u=c=++e;p.g.get(i,function(e){if(c===u){if(r(),!e)throw Error("Unknown component '"+i+"'");var n=e.template;if(!n)throw Error("Component '"+i+"' has no template");n=p.a.ia(n),p.f.T(t,n);var n=o,l=e.createViewModel;e=l?l.call(e,n,{element:t}):n,n=a.createChildContext(e),s=e,p.Ca(n,t)}})},null,{o:t}),{controlsDescendantBindings:!0}}},p.f.Q.component=!0}();var y={"class":"className","for":"htmlFor"};p.d.attr={update:function(t,n){var i=p.a.c(n())||{};p.a.G(i,function(n,i){i=p.a.c(i);var o=!1===i||null===i||i===e;o&&t.removeAttribute(n),8>=p.a.L&&n in y?(n=y[n],o?t.removeAttribute(n):t[n]=i):o||t.setAttribute(n,i.toString()),"name"===n&&p.a.Mb(t,o?"":i.toString())})}},function(){p.d.checked={after:["value","attr"],init:function(t,n,i){function o(){var e=t.checked,o=d?r():e;if(!p.Y.ma()&&(!c||e)){var a=p.k.B(n);l?u!==o?(e&&(p.a.ea(a,o,!0),p.a.ea(a,u,!1)),u=o):p.a.ea(a,o,e):p.h.pa(a,i,"checked",o,!0)}}function a(){var e=p.a.c(n());t.checked=l?0<=p.a.m(e,r()):s?e:r()===e}var r=p.Ib(function(){return i.has("checkedValue")?p.a.c(i.get("checkedValue")):i.has("value")?p.a.c(i.get("value")):t.value}),s="checkbox"==t.type,c="radio"==t.type;if(s||c){var l=s&&p.a.c(n())instanceof Array,u=l?r():e,d=c||l;c&&!t.name&&p.d.uniqueName.init(t,function(){return!0}),p.s(o,null,{o:t}),p.a.n(t,"click",o),p.s(a,null,{o:t})}}},p.h.V.checked=!0,p.d.checkedValue={update:function(e,t){e.value=p.a.c(t())}}}(),p.d.css={update:function(e,t){var n=p.a.c(t());"object"==typeof n?p.a.G(n,function(t,n){n=p.a.c(n),p.a.Ba(e,t,n)}):(n=String(n||""),p.a.Ba(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,p.a.Ba(e,n,!0))}},p.d.enable={update:function(e,t){var n=p.a.c(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},p.d.disable={update:function(e,t){p.d.enable.update(e,function(){return!p.a.c(t())})}},p.d.event={init:function(e,t,n,i,o){var a=t()||{};p.a.G(a,function(a){"string"==typeof a&&p.a.n(e,a,function(e){var r,s=t()[a];if(s){try{var c=p.a.S(arguments);i=o.$data,c.unshift(i),r=s.apply(i,c)}finally{!0!==r&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(a+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},p.d.foreach={Eb:function(e){return function(){var t=e(),n=p.a.Xa(t);return n&&"number"!=typeof n.length?(p.a.c(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:p.O.Oa}):{foreach:t,templateEngine:p.O.Oa}}},init:function(e,t){return p.d.template.init(e,p.d.foreach.Eb(t))},update:function(e,t,n,i,o){return p.d.template.update(e,p.d.foreach.Eb(t),n,i,o)}},p.h.ha.foreach=!1,p.f.Q.foreach=!0,p.d.hasfocus={init:function(e,t,n){function i(i){e.__ko_hasfocusUpdating=!0;var o=e.ownerDocument;if("activeElement"in o){var a;try{a=o.activeElement}catch(r){a=o.body}i=a===e}o=t(),p.h.pa(o,n,"hasfocus",i,!0),e.__ko_hasfocusLastValue=i,e.__ko_hasfocusUpdating=!1}var o=i.bind(null,!0),a=i.bind(null,!1);p.a.n(e,"focus",o),p.a.n(e,"focusin",o),p.a.n(e,"blur",a),p.a.n(e,"focusout",a)},update:function(e,t){var n=!!p.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),p.k.B(p.a.oa,null,[e,n?"focusin":"focusout"]))}},p.h.V.hasfocus=!0,p.d.hasFocus=p.d.hasfocus,p.h.V.hasFocus=!0,p.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){p.a.$a(e,t())}},d("if"),d("ifnot",!1,!0),d("with",!0,!1,function(e,t){return e.createChildContext(t)});var S={};p.d.options={init:function(e){if("select"!==p.a.t(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(t,n,i){function o(){return p.a.ta(t.options,function(e){return e.selected})}function a(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function r(e,n){if(d.length){var i=0<=p.a.m(d,p.i.q(n[0]));p.a.Nb(n[0],i),f&&!i&&p.k.B(p.a.oa,null,[t,"change"])}}var s=0!=t.length&&t.multiple?t.scrollTop:null,c=p.a.c(n()),l=i.get("optionsIncludeDestroyed");n={};var u,d;d=t.multiple?p.a.Da(o(),p.i.q):0<=t.selectedIndex?[p.i.q(t.options[t.selectedIndex])]:[],c&&("undefined"==typeof c.length&&(c=[c]),u=p.a.ta(c,function(t){return l||t===e||null===t||!p.a.c(t._destroy)}),i.has("optionsCaption")&&(c=p.a.c(i.get("optionsCaption")),null!==c&&c!==e&&u.unshift(S)));var f=!1;n.beforeRemove=function(e){t.removeChild(e)},c=r,i.has("optionsAfterRender")&&(c=function(t,n){r(0,n),p.k.B(i.get("optionsAfterRender"),null,[n[0],t!==S?t:e])}),p.a.Za(t,u,function(n,o,r){return r.length&&(d=r[0].selected?[p.i.q(r[0])]:[],f=!0),o=t.ownerDocument.createElement("option"),n===S?(p.a.bb(o,i.get("optionsCaption")),p.i.ca(o,e)):(r=a(n,i.get("optionsValue"),n),p.i.ca(o,p.a.c(r)),n=a(n,i.get("optionsText"),r),p.a.bb(o,n)),[o]},n,c),p.k.B(function(){i.get("valueAllowUnset")&&i.has("value")?p.i.ca(t,p.a.c(i.get("value")),!0):(t.multiple?d.length&&o().length<d.length:d.length&&0<=t.selectedIndex?p.i.q(t.options[t.selectedIndex])!==d[0]:d.length||0<=t.selectedIndex)&&p.a.oa(t,"change")}),p.a.dc(t),s&&20<Math.abs(s-t.scrollTop)&&(t.scrollTop=s)}},p.d.options.Va=p.a.e.F(),p.d.selectedOptions={after:["options","foreach"],init:function(e,t,n){p.a.n(e,"change",function(){var i=t(),o=[];p.a.u(e.getElementsByTagName("option"),function(e){e.selected&&o.push(p.i.q(e))}),p.h.pa(i,n,"selectedOptions",o)})},update:function(e,t){if("select"!=p.a.t(e))throw Error("values binding applies only to SELECT elements");var n=p.a.c(t());n&&"number"==typeof n.length&&p.a.u(e.getElementsByTagName("option"),function(e){var t=0<=p.a.m(n,p.i.q(e));p.a.Nb(e,t)})}},p.h.V.selectedOptions=!0,p.d.style={update:function(t,n){var i=p.a.c(n()||{});p.a.G(i,function(n,i){i=p.a.c(i),(null===i||i===e||!1===i)&&(i=""),t.style[n]=i})}},p.d.submit={init:function(e,t,n,i,o){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");p.a.n(e,"submit",function(n){var i,a=t();try{i=a.call(o.$data,e)}finally{!0!==i&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},p.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){p.a.bb(e,t())}},p.f.Q.text=!0,function(){if(t&&t.navigator)var n=function(e){return e?parseFloat(e[1]):void 0},i=t.opera&&t.opera.version&&parseInt(t.opera.version()),o=t.navigator.userAgent,a=n(o.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),r=n(o.match(/Firefox\/([^ ]*)/));if(10>p.a.L)var s=p.a.e.F(),c=p.a.e.F(),l=function(e){var t=this.activeElement;(t=t&&p.a.e.get(t,c))&&t(e)},u=function(e,t){var n=e.ownerDocument;p.a.e.get(n,s)||(p.a.e.set(n,s,!0),p.a.n(n,"selectionchange",l)),p.a.e.set(e,c,t)};p.d.textInput={init:function(t,n,o){function s(e,n){p.a.n(t,e,n)}function c(){var i=p.a.c(n());(null===i||i===e)&&(i=""),m!==e&&i===m?setTimeout(c,4):t.value!==i&&(g=i,t.value=i)}function l(){f||(m=t.value,f=setTimeout(d,4))}function d(){clearTimeout(f),m=f=e;var i=t.value;g!==i&&(g=i,p.h.pa(n(),o,"textInput",i))}var f,m,g=t.value;10>p.a.L?(s("propertychange",function(e){"value"===e.propertyName&&d()}),8==p.a.L&&(s("keyup",d),s("keydown",d)),8<=p.a.L&&(u(t,d),s("dragend",l))):(s("input",d),5>a&&"textarea"===p.a.t(t)?(s("keydown",l),s("paste",l),s("cut",l)):11>i?s("keydown",l):4>r&&(s("DOMAutoComplete",d),s("dragdrop",d),s("drop",d))),s("change",d),p.s(c,null,{o:t})}},p.h.V.textInput=!0,p.d.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),p.d.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++p.d.uniqueName.Zb;p.a.Mb(e,n)}}},p.d.uniqueName.Zb=0,p.d.value={after:["options","foreach"],init:function(e,t,n){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var i=["change"],o=n.get("valueUpdate"),a=!1,r=null;o&&("string"==typeof o&&(o=[o]),p.a.ga(i,o),i=p.a.rb(i));var s=function(){r=null,a=!1;var i=t(),o=p.i.q(e);p.h.pa(i,n,"value",o)};!p.a.L||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=p.a.m(i,"propertychange")||(p.a.n(e,"propertychange",function(){a=!0}),p.a.n(e,"focus",function(){a=!1}),p.a.n(e,"blur",function(){a&&s()})),p.a.u(i,function(t){var n=s;p.a.vc(t,"after")&&(n=function(){r=p.i.q(e),setTimeout(s,0)},t=t.substring(5)),p.a.n(e,t,n)});var c=function(){var i=p.a.c(t()),o=p.i.q(e);if(null!==r&&i===r)setTimeout(c,0);else if(i!==o)if("select"===p.a.t(e)){var a=n.get("valueAllowUnset"),o=function(){p.i.ca(e,i,a)};o(),a||i===p.i.q(e)?setTimeout(o,0):p.k.B(p.a.oa,null,[e,"change"])}else p.i.ca(e,i)};p.s(c,null,{o:e})}else p.ra(e,{checkedValue:t})},update:function(){}},p.h.V.value=!0,p.d.visible={update:function(e,t){var n=p.a.c(t()),i="none"!=e.style.display;n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},function(e){p.d[e]={init:function(t,n,i,o,a){return p.d.event.init.call(this,t,function(){var t={};return t[e]=n(),t},i,o,a)}}}("click"),p.H=function(){},p.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},p.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},p.H.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||n;var i=t.getElementById(e);if(!i)throw Error("Cannot find template with ID "+e);return new p.r.l(i)}if(1==e.nodeType||8==e.nodeType)return new p.r.fa(e);throw Error("Unknown template type: "+e)},p.H.prototype.renderTemplate=function(e,t,n,i){return e=this.makeTemplateSource(e,i),this.renderTemplateSource(e,t,n)},p.H.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(e,t).data("isRewritten")},p.H.prototype.rewriteTemplate=function(e,t,n){e=this.makeTemplateSource(e,n),t=t(e.text()),e.text(t),e.data("isRewritten",!0)},p.b("templateEngine",p.H),p.fb=function(){function e(e,t,n,i){e=p.h.Wa(e);for(var o=p.h.ha,a=0;a<e.length;a++){var r=e[a].key;if(o.hasOwnProperty(r)){var s=o[r];if("function"==typeof s){if(r=s(e[a].value))throw Error(r)}else if(!s)throw Error("This template engine does not support the '"+r+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+p.h.ya(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ec:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return p.fb.nc(e,t)},n)},nc:function(i,o){return i.replace(t,function(t,n,i,a,r){return e(r,n,i,o)}).replace(n,function(t,n){return e(n,"<!-- ko -->","#comment",o)})},Xb:function(e,t){return p.D.Ua(function(n,i){var o=n.nextSibling;o&&o.nodeName.toLowerCase()===t&&p.ra(o,e,i)})}}}(),p.b("__tr_ambtns",p.fb.Xb),function(){p.r={},p.r.l=function(e){this.l=e},p.r.l.prototype.text=function(){var e=p.a.t(this.l),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.l[e];var t=arguments[0];"innerHTML"===e?p.a.$a(this.l,t):this.l[e]=t};var t=p.a.e.F()+"_";p.r.l.prototype.data=function(e){return 1===arguments.length?p.a.e.get(this.l,t+e):void p.a.e.set(this.l,t+e,arguments[1])};var n=p.a.e.F();p.r.fa=function(e){this.l=e},p.r.fa.prototype=new p.r.l,p.r.fa.prototype.text=function(){if(0==arguments.length){var t=p.a.e.get(this.l,n)||{};return t.gb===e&&t.Ga&&(t.gb=t.Ga.innerHTML),t.gb}p.a.e.set(this.l,n,{gb:arguments[0]})},p.r.l.prototype.nodes=function(){return 0==arguments.length?(p.a.e.get(this.l,n)||{}).Ga:void p.a.e.set(this.l,n,{Ga:arguments[0]})},p.b("templateSources",p.r),p.b("templateSources.domElement",p.r.l),p.b("templateSources.anonymousTemplate",p.r.fa)}(),function(){function t(e,t,n){var i;for(t=p.f.nextSibling(t);e&&(i=e)!==t;)e=p.f.nextSibling(i),n(i,e)}function n(e,n){if(e.length){var i=e[0],o=e[e.length-1],a=i.parentNode,r=p.J.instance,s=r.preprocessNode;if(s){if(t(i,o,function(e,t){var n=e.previousSibling,a=s.call(r,e);a&&(e===i&&(i=a[0]||t),e===o&&(o=a[a.length-1]||n))}),e.length=0,!i)return;i===o?e.push(i):(e.push(i,o),p.a.ka(e,a))}t(i,o,function(e){1!==e.nodeType&&8!==e.nodeType||p.pb(n,e)}),t(i,o,function(e){1!==e.nodeType&&8!==e.nodeType||p.D.Sb(e,[n])}),p.a.ka(e,a)}}function i(e){return e.nodeType?e:0<e.length?e[0]:null}function o(e,t,o,r,s){s=s||{};var c=e&&i(e),c=c&&c.ownerDocument,l=s.templateEngine||a;if(p.fb.ec(o,l,c),o=l.renderTemplate(o,r,s,c),"number"!=typeof o.length||0<o.length&&"number"!=typeof o[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(c=!1,t){case"replaceChildren":p.f.T(e,o),c=!0;break;case"replaceNode":p.a.Lb(e,o),c=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return c&&(n(o,r),s.afterRender&&p.k.B(s.afterRender,null,[o,r.$data])),o}var a;p.ab=function(t){if(t!=e&&!(t instanceof p.H))throw Error("templateEngine must inherit from ko.templateEngine");a=t},p.Ya=function(t,n,r,s,c){if(r=r||{},(r.templateEngine||a)==e)throw Error("Set a template engine before calling renderTemplate");if(c=c||"replaceChildren",s){var l=i(s);return p.j(function(){var e=n&&n instanceof p.N?n:new p.N(p.a.c(n)),a=p.C(t)?t():"function"==typeof t?t(e.$data,e):t,e=o(s,c,a,e,r);"replaceNode"==c&&(s=e,l=i(s))},null,{Ia:function(){return!l||!p.a.Ja(l)},o:l&&"replaceNode"==c?l.parentNode:l})}return p.D.Ua(function(e){p.Ya(t,n,r,e,"replaceNode")})},p.uc=function(t,i,a,r,s){function c(e,t){n(t,u),a.afterRender&&a.afterRender(t,e)}function l(e,n){u=s.createChildContext(e,a.as,function(e){e.$index=n});var i=p.C(t)?t():"function"==typeof t?t(e,u):t;return o(null,"ignoreTargetNode",i,u,a)}var u;return p.j(function(){var t=p.a.c(i)||[];"undefined"==typeof t.length&&(t=[t]),t=p.a.ta(t,function(t){return a.includeDestroyed||t===e||null===t||!p.a.c(t._destroy)}),p.k.B(p.a.Za,null,[r,t,l,a,c])},null,{o:r})};var r=p.a.e.F();p.d.template={init:function(e,t){var n=p.a.c(t());return"string"==typeof n||n.name?p.f.ja(e):(n=p.f.childNodes(e),n=p.a.oc(n),new p.r.fa(e).nodes(n)),{controlsDescendantBindings:!0}},update:function(t,n,i,o,a){var s,c=n();n=p.a.c(c),i=!0,o=null,"string"==typeof n?n={}:(c=n.name,"if"in n&&(i=p.a.c(n["if"])),i&&"ifnot"in n&&(i=!p.a.c(n.ifnot)),s=p.a.c(n.data)),"foreach"in n?o=p.uc(c||t,i&&n.foreach||[],n,t,a):i?(a="data"in n?a.createChildContext(s,n.as):a,o=p.Ya(c||t,a,n,t)):p.f.ja(t),a=o,(s=p.a.e.get(t,r))&&"function"==typeof s.K&&s.K(),p.a.e.set(t,r,a&&a.Z()?a:e)}},p.h.ha.template=function(e){return e=p.h.Wa(e),1==e.length&&e[0].unknown||p.h.lc(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},p.f.Q.template=!0}(),p.b("setTemplateEngine",p.ab),p.b("renderTemplate",p.Ya),p.a.wb=function(e,t,n){if(e.length&&t.length){var i,o,a,r,s;for(i=o=0;(!n||n>i)&&(r=e[o]);++o){for(a=0;s=t[a];++a)if(r.value===s.value){r.moved=s.index,s.moved=r.index,t.splice(a,1),i=a=0;break}i+=a}}},p.a.Fa=function(){function e(e,t,n,i,o){var a,r,s,c,l,u=Math.min,d=Math.max,f=[],m=e.length,g=t.length,h=g-m||1,v=m+g+1;for(a=0;m>=a;a++)for(c=s,f.push(s=[]),l=u(g,a+h),r=d(0,a-1);l>=r;r++)s[r]=r?a?e[a-1]===t[r-1]?c[r-1]:u(c[r]||v,s[r-1]||v)+1:r+1:a+1;for(u=[],d=[],h=[],a=m,r=g;a||r;)g=f[a][r]-1,r&&g===f[a][r-1]?d.push(u[u.length]={status:n,value:t[--r],index:r}):a&&g===f[a-1][r]?h.push(u[u.length]={status:i,value:e[--a],index:a}):(--r,--a,o.sparse||u.push({status:"retained",value:t[r]}));return p.a.wb(d,h,10*m),u.reverse()}return function(t,n,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},t=t||[],n=n||[],t.length<=n.length?e(t,n,"added","deleted",i):e(n,t,"deleted","added",i)}}(),p.b("utils.compareArrays",p.a.Fa),function(){function t(t,n,i,o,a){var r=[],s=p.j(function(){var e=n(i,a,p.a.ka(r,t))||[];0<r.length&&(p.a.Lb(r,e),o&&p.k.B(o,null,[i,e,a])),r.length=0,p.a.ga(r,e)},null,{o:t,Ia:function(){return!p.a.ob(r)}});return{$:r,j:s.Z()?s:e}}var n=p.a.e.F();p.a.Za=function(i,o,a,r,s){function c(e,t){b=d[t],v!==t&&(A[e]=b),b.Na(v++),p.a.ka(b.$,i),g.push(b),S.push(b)}function l(e,t){if(e)for(var n=0,i=t.length;i>n;n++)t[n]&&p.a.u(t[n].$,function(i){e(i,n,t[n].sa)})}o=o||[],r=r||{};var u=p.a.e.get(i,n)===e,d=p.a.e.get(i,n)||[],f=p.a.Da(d,function(e){return e.sa}),m=p.a.Fa(f,o,r.dontLimitMoves),g=[],h=0,v=0,y=[],S=[];o=[];for(var b,x,k,A=[],f=[],B=0;x=m[B];B++)switch(k=x.moved,x.status){case"deleted":k===e&&(b=d[h],b.j&&b.j.K(),y.push.apply(y,p.a.ka(b.$,i)),r.beforeRemove&&(o[B]=b,S.push(b))),h++;break;case"retained":c(B,h++);break;case"added":k!==e?c(B,k):(b={sa:x.value,Na:p.p(v++)},g.push(b),S.push(b),u||(f[B]=b))}l(r.beforeMove,A),p.a.u(y,r.beforeRemove?p.R:p.removeNode);for(var w,B=0,u=p.f.firstChild(i);b=S[B];B++){for(b.$||p.a.extend(b,t(i,a,b.sa,s,b.Na)),h=0;m=b.$[h];u=m.nextSibling,w=m,h++)m!==u&&p.f.Bb(i,m,w);!b.ic&&s&&(s(b.sa,b.$,b.Na),b.ic=!0)}l(r.beforeRemove,o),l(r.afterMove,A),l(r.afterAdd,f),p.a.e.set(i,n,g)}}(),p.b("utils.setDomNodeChildrenFromArrayMapping",p.a.Za),p.O=function(){this.allowTemplateRewriting=!1},p.O.prototype=new p.H,p.O.prototype.renderTemplateSource=function(e){var t=(9>p.a.L?0:e.nodes)?e.nodes():null;return t?p.a.S(t.cloneNode(!0).childNodes):(e=e.text(),p.a.ba(e))},p.O.Oa=new p.O,p.ab(p.O.Oa),p.b("nativeTemplateEngine",p.O),function(){p.Sa=function(){var e=this.kc=function(){if(!o||!o.tmpl)return 0;try{if(0<=o.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,i,a){if(a=a||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var r=t.data("precompiled");return r||(r=t.text()||"",r=o.template(null,"{{ko_with $item.koBindingContext}}"+r+"{{/ko_with}}"),t.data("precompiled",r)),t=[i.$data],i=o.extend({koBindingContext:i},a.templateOptions),i=o.tmpl(r,t,i),i.appendTo(n.createElement("div")),o.fragments={},i},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){n.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},e>0&&(o.tmpl.tag.ko_code={open:"__.push($1 || '');"},o.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},p.Sa.prototype=new p.H;var e=new p.Sa;0<e.kc&&p.ab(e),p.b("jqueryTmplTemplateEngine",p.Sa)}()})}()}(),/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
function(e){if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("promise",e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof self)throw new Error("This environment was not anticiapted by Q. Please file a bug.");self.Q=e()}}(function(){function e(e){return function(){return z.apply(e,arguments)}}function t(e){return e===Object(e)}function n(e){return"[object StopIteration]"===te(e)||e instanceof j}function i(e,t){if(V&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(ne)){for(var n=[],i=t;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(e.stack);var a=n.join("\n"+ne+"\n");e.stack=o(a)}}function o(e){for(var t=e.split("\n"),n=[],i=0;i<t.length;++i){var o=t[i];s(o)||a(o)||!o||n.push(o)}return n.join("\n")}function a(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function r(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(e);return i?[i[1],Number(i[2])]:void 0}function s(e){var t=r(e);if(!t)return!1;var n=t[0],i=t[1];return n===q&&i>=$&&re>=i}function c(){if(V)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],i=r(n);if(!i)return;return q=i[0],i[1]}}function l(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}function u(e){return e instanceof m?e:y(e)?C(e):M(e)}function d(){function e(e){t=e,a.source=e,K(n,function(t,n){u.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,i=void 0}var t,n=[],i=[],o=X(d.prototype),a=X(m.prototype);if(a.promiseDispatch=function(e,o,a){var r=Q(arguments);n?(n.push(r),"when"===o&&a[1]&&i.push(a[1])):u.nextTick(function(){t.promiseDispatch.apply(t,r)})},a.valueOf=function(){if(n)return a;var e=h(t);return v(e)&&(t=e),e},a.inspect=function(){return t?t.inspect():{state:"pending"}},u.longStackSupport&&V)try{throw new Error}catch(r){a.stack=r.stack.substring(r.stack.indexOf("\n")+1)}return o.promise=a,o.resolve=function(n){t||e(u(n))},o.fulfill=function(n){t||e(M(n))},o.reject=function(n){t||e(w(n))},o.notify=function(e){t||K(i,function(t,n){u.nextTick(function(){n(e)})},void 0)},o}function p(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=d();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function f(e){return p(function(t,n){for(var i=0,o=e.length;o>i;i++)u(e[i]).then(t,n)})}function m(e,t,n){void 0===t&&(t=function(e){return w(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var i=X(m.prototype);if(i.promiseDispatch=function(n,o,a){var r;try{r=e[o]?e[o].apply(i,a):t.call(i,o,a)}catch(s){r=w(s)}n&&n(r)},i.inspect=n,n){var o=n();"rejected"===o.state&&(i.exception=o.reason),i.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?i:e.value}}return i}function g(e,t,n,i){return u(e).then(t,n,i)}function h(e){if(v(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function v(e){return e instanceof m}function y(e){return t(e)&&"function"==typeof e.then}function S(e){return v(e)&&"pending"===e.inspect().state}function b(e){return!v(e)||"fulfilled"===e.inspect().state}function x(e){return v(e)&&"rejected"===e.inspect().state}function k(){ie.length=0,oe.length=0,ae||(ae=!0)}function A(e,t){ae&&(oe.push(e),t&&"undefined"!=typeof t.stack?ie.push(t.stack):ie.push("(no stack) "+t))}function B(e){if(ae){var t=G(oe,e);-1!==t&&(oe.splice(t,1),ie.splice(t,1))}}function w(e){var t=m({when:function(t){return t&&B(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return A(t,e),t}function M(e){return m({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return ee(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function C(e){var t=d();return u.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function U(e){return m({isDef:function(){}},function(t,n){return O(e,t,n)},function(){return u(e).inspect()})}function J(e,t,n){return u(e).spread(t,n)}function _(e){return function(){function t(e,t){var r;if("undefined"==typeof StopIteration){try{r=i[e](t)}catch(s){return w(s)}return r.done?u(r.value):g(r.value,o,a)}try{r=i[e](t)}catch(s){return n(s)?u(s.value):w(s)}return g(r,o,a)}var i=e.apply(this,arguments),o=t.bind(t,"next"),a=t.bind(t,"throw");return o()}}function E(e){u.done(u.async(e)())}function T(e){throw new j(e)}function R(e){return function(){return J([this,N(arguments)],function(t,n){return e.apply(t,n)})}}function O(e,t,n){return u(e).dispatch(t,n)}function N(e){return g(e,function(e){var t=0,n=d();return K(e,function(i,o,a){var r;v(o)&&"fulfilled"===(r=o.inspect()).state?e[a]=r.value:(++t,g(o,function(i){e[a]=i,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:a,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function F(e){return g(e,function(e){return e=Y(e,u),g(N(Y(e,function(e){return g(e,H,H)})),function(){return e})})}function D(e){return u(e).allSettled()}function P(e,t){return u(e).then(void 0,void 0,t)}function L(e,t){return u(e).nodeify(t)}var V=!1;try{throw new Error}catch(I){V=!!I.stack}var q,j,$=c(),H=function(){},W=function(){function e(){for(;t.next;){t=t.next;var n=t.task;t.task=void 0;var o=t.domain;o&&(t.domain=void 0,o.enter());try{n()}catch(r){if(a)throw o&&o.exit(),setTimeout(e,0),o&&o.enter(),r;setTimeout(function(){throw r},0)}o&&o.exit()}i=!1}var t={task:void 0,next:null},n=t,i=!1,o=void 0,a=!1;if(W=function(e){n=n.next={task:e,domain:a&&process.domain,next:null},i||(i=!0,o())},"undefined"!=typeof process&&process.nextTick)a=!0,o=function(){process.nextTick(e)};else if("function"==typeof setImmediate)o="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var r=new MessageChannel;r.port1.onmessage=function(){o=s,r.port1.onmessage=e,e()};var s=function(){r.port2.postMessage(0)};o=function(){setTimeout(e,0),s()}}else o=function(){setTimeout(e,0)};return W}(),z=Function.call,Q=e(Array.prototype.slice),K=e(Array.prototype.reduce||function(e,t){var n=0,i=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=i)throw new TypeError}for(;i>n;n++)n in this&&(t=e(t,this[n],n));return t}),G=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Y=e(Array.prototype.map||function(e,t){var n=this,i=[];return K(n,function(o,a,r){i.push(e.call(t,a,r,n))},void 0),i}),X=Object.create||function(e){function t(){}return t.prototype=e,new t},Z=e(Object.prototype.hasOwnProperty),ee=Object.keys||function(e){var t=[];for(var n in e)Z(e,n)&&t.push(n);return t},te=e(Object.prototype.toString);j="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var ne="From previous event:";u.resolve=u,u.nextTick=W,u.longStackSupport=!1,"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(u.longStackSupport=!0),u.defer=d,d.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(Q(arguments,1)):e.resolve(n)}},u.Promise=p,u.promise=p,p.race=f,p.all=N,p.reject=w,p.resolve=u,u.passByCopy=function(e){return e},m.prototype.passByCopy=function(){return this},u.join=function(e,t){return u(e).join(t)},m.prototype.join=function(e){return u([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},u.race=f,m.prototype.race=function(){return this.then(u.race)},u.makePromise=m,m.prototype.toString=function(){return"[object Promise]"},m.prototype.then=function(e,t,n){function o(t){try{return"function"==typeof e?e(t):t}catch(n){return w(n)}}function a(e){if("function"==typeof t){i(e,s);try{return t(e)}catch(n){return w(n)}}return w(e)}function r(e){return"function"==typeof n?n(e):e}var s=this,c=d(),l=!1;return u.nextTick(function(){s.promiseDispatch(function(e){l||(l=!0,c.resolve(o(e)))},"when",[function(e){l||(l=!0,c.resolve(a(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=r(e)}catch(i){if(n=!0,!u.onerror)throw i;u.onerror(i)}n||c.notify(t)}]),c.promise},u.tap=function(e,t){return u(e).tap(t)},m.prototype.tap=function(e){return e=u(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},u.when=g,m.prototype.thenResolve=function(e){return this.then(function(){return e})},u.thenResolve=function(e,t){return u(e).thenResolve(t)},m.prototype.thenReject=function(e){return this.then(function(){throw e})},u.thenReject=function(e,t){return u(e).thenReject(t)},u.nearer=h,u.isPromise=v,u.isPromiseAlike=y,u.isPending=S,m.prototype.isPending=function(){return"pending"===this.inspect().state},u.isFulfilled=b,m.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},u.isRejected=x,m.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ie=[],oe=[],ae=!0;u.resetUnhandledRejections=k,u.getUnhandledReasons=function(){return ie.slice()},u.stopUnhandledRejectionTracking=function(){k(),ae=!1},k(),u.reject=w,u.fulfill=M,u.master=U,u.spread=J,m.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},u.async=_,u.spawn=E,u["return"]=T,u.promised=R,u.dispatch=O,m.prototype.dispatch=function(e,t){var n=this,i=d();return u.nextTick(function(){n.promiseDispatch(i.resolve,e,t)}),i.promise},u.get=function(e,t){return u(e).dispatch("get",[t])},m.prototype.get=function(e){return this.dispatch("get",[e])},u.set=function(e,t,n){return u(e).dispatch("set",[t,n])},m.prototype.set=function(e,t){return this.dispatch("set",[e,t])},u.del=u["delete"]=function(e,t){return u(e).dispatch("delete",[t])},m.prototype.del=m.prototype["delete"]=function(e){return this.dispatch("delete",[e])},u.mapply=u.post=function(e,t,n){return u(e).dispatch("post",[t,n])},m.prototype.mapply=m.prototype.post=function(e,t){return this.dispatch("post",[e,t])},u.send=u.mcall=u.invoke=function(e,t){return u(e).dispatch("post",[t,Q(arguments,2)])},m.prototype.send=m.prototype.mcall=m.prototype.invoke=function(e){return this.dispatch("post",[e,Q(arguments,1)])},u.fapply=function(e,t){return u(e).dispatch("apply",[void 0,t])},m.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},u["try"]=u.fcall=function(e){return u(e).dispatch("apply",[void 0,Q(arguments,1)])},m.prototype.fcall=function(){return this.dispatch("apply",[void 0,Q(arguments)])},u.fbind=function(e){var t=u(e),n=Q(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(Q(arguments))])}},m.prototype.fbind=function(){var e=this,t=Q(arguments);return function(){return e.dispatch("apply",[this,t.concat(Q(arguments))])}},u.keys=function(e){return u(e).dispatch("keys",[])},m.prototype.keys=function(){return this.dispatch("keys",[])},u.all=N,m.prototype.all=function(){return N(this)},u.allResolved=l(F,"allResolved","allSettled"),m.prototype.allResolved=function(){return F(this)},u.allSettled=D,m.prototype.allSettled=function(){return this.then(function(e){return N(Y(e,function(e){function t(){return e.inspect()}return e=u(e),e.then(t,t)}))})},u.fail=u["catch"]=function(e,t){return u(e).then(void 0,t)},m.prototype.fail=m.prototype["catch"]=function(e){return this.then(void 0,e)},u.progress=P,m.prototype.progress=function(e){return this.then(void 0,void 0,e)},u.fin=u["finally"]=function(e,t){return u(e)["finally"](t)},m.prototype.fin=m.prototype["finally"]=function(e){return e=u(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},u.done=function(e,t,n,i){return u(e).done(t,n,i)},m.prototype.done=function(e,t,n){var o=function(e){u.nextTick(function(){if(i(e,a),!u.onerror)throw e;u.onerror(e)})},a=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(o=process.domain.bind(o)),a.then(void 0,o)},u.timeout=function(e,t,n){return u(e).timeout(t,n)},m.prototype.timeout=function(e,t){var n=d(),i=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(i),n.resolve(e)},function(e){clearTimeout(i),n.reject(e)},n.notify),n.promise},u.delay=function(e,t){return void 0===t&&(t=e,e=void 0),u(e).delay(t)},m.prototype.delay=function(e){return this.then(function(t){var n=d();return setTimeout(function(){n.resolve(t)},e),n.promise})},u.nfapply=function(e,t){return u(e).nfapply(t)},m.prototype.nfapply=function(e){var t=d(),n=Q(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},u.nfcall=function(e){var t=Q(arguments,1);return u(e).nfapply(t)},m.prototype.nfcall=function(){var e=Q(arguments),t=d();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},u.nfbind=u.denodeify=function(e){var t=Q(arguments,1);return function(){var n=t.concat(Q(arguments)),i=d();return n.push(i.makeNodeResolver()),u(e).fapply(n).fail(i.reject),i.promise}},m.prototype.nfbind=m.prototype.denodeify=function(){var e=Q(arguments);return e.unshift(this),u.denodeify.apply(void 0,e)},u.nbind=function(e,t){var n=Q(arguments,2);return function(){function i(){return e.apply(t,arguments)}var o=n.concat(Q(arguments)),a=d();return o.push(a.makeNodeResolver()),u(i).fapply(o).fail(a.reject),a.promise}},m.prototype.nbind=function(){var e=Q(arguments,0);return e.unshift(this),u.nbind.apply(void 0,e)},u.nmapply=u.npost=function(e,t,n){return u(e).npost(t,n)},m.prototype.nmapply=m.prototype.npost=function(e,t){var n=Q(t||[]),i=d();return n.push(i.makeNodeResolver()),this.dispatch("post",[e,n]).fail(i.reject),i.promise},u.nsend=u.nmcall=u.ninvoke=function(e,t){var n=Q(arguments,2),i=d();return n.push(i.makeNodeResolver()),u(e).dispatch("post",[t,n]).fail(i.reject),i.promise},m.prototype.nsend=m.prototype.nmcall=m.prototype.ninvoke=function(e){var t=Q(arguments,1),n=d();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},u.nodeify=L,m.prototype.nodeify=function(e){return e?void this.then(function(t){u.nextTick(function(){e(null,t)})},function(t){u.nextTick(function(){e(t)})}):this};var re=c();return u}),define("network",["jquery","promise","knockout"],function(e,t,n){function i(t,n,i,o){var r=(t.type||"POST",t.path),s=(new Date).getTime(),c=t.headers||{},n=n||{},l=6e5,u=location.protocol+"//"+location.host;e.ajax({type:"POST",url:r,data:n,contentType:"application/json; charset=utf-8",dataType:"json",timeout:l,tryCount:0,retryLimit:3,headers:c,xhrFields:{withCredentials:!0},beforeSend:function(e,t){a(!0)},success:function(n,o,r){if(a(!1),n.messages&&n.messages.length>0){var c=BankingJS.getAppContext().notifications,l=new BankingJS.Models.Notification;l.text=n.messages[0].message,l.type=n.messages[0].type,c.notifyGlobal(l),n.context.next[0]&&BankingJS.getAppContext().notifications.setClearNotifications(!0)}var d=(new Date).getTime(),p=d-s;window.ga("send","timing","serviceCall",t.path,p,u),i(n),e(".logo").focus()},error:function(n,i,r){if(a(!1),n.status&&449==n.status)this.tryCount++,this.tryCount<=this.retryLimit&&(n.responseJSON.response&&n.responseJSON.response.token&&(this.headers["X-Transaction-Token"]=n.responseJSON.response.token),e.ajax(this));else if(404==n.status||500==n.status||503==n.status||502==n.status)BankingJS.Utilities.Navigator.replace("service-unavailable");else{var c=BankingJS.getAppContext().notifications,l=new BankingJS.Models.Notification;"Forbidden"==n.statusText&&n.responseJSON.exception&&1e3==n.responseJSON.exception.id?(BankingJS.getAppContext().getUser().userTimeoutSession(),l.text=BankingJS.getAppContext().i18n.t("Errors.SessionTimeout"),l.type="ERROR"):n.responseJSON&&n.responseJSON.exception?(l.text=n.responseJSON.exception.message,l.type="ERROR"):l.text=JSON.stringify(i+": "+r),c.notifyGlobal(l),n.responseJSON&&n.responseJSON.context&&n.responseJSON.context.next&&n.responseJSON.context.next[0]&&BankingJS.getAppContext().notifications.setClearNotifications(!0);var d=(new Date).getTime(),p=d-s;window.ga("send","timing","serviceCall",t.path,p,u),o(n.responseJSON)}e(".error-message-image").focus()}})}function o(e,n){return t.Promise(function(t,o,a){i(e,n,t,o)})}var a=n.observable(!1);return{isLoading:a,invokeHttp:o}}),function(e){function t(e,t,n,i,o){this._listener=t,this._isOnce=n,this.context=i,this._signal=e,this._priority=o||0}function n(e,t){if("function"!=typeof e)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function i(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){i.prototype.dispatch.apply(e,arguments)}}t.prototype={active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(e=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,e),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},i.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,n,i,o){var a=this._indexOfListener(e,i);if(-1!==a){if(e=this._bindings[a],e.isOnce()!==n)throw Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else e=new t(this,e,n,i,o),this._addBinding(e);return this.memorize&&this._prevParams&&e.execute(this._prevParams),e},_addBinding:function(e){var t=this._bindings.length;do--t;while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n._listener===e&&n.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,i){return n(e,"add"),this._registerListener(e,!1,t,i)},addOnce:function(e,t,i){return n(e,"addOnce"),this._registerListener(e,!0,t,i)},remove:function(e,t){n(e,"remove");var i=this._indexOfListener(e,t);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,n=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=n),i){t=this._bindings.slice(),this._shouldPropagate=!0;do i--;while(t[i]&&this._shouldPropagate&&t[i].execute(n)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var o=i;o.Signal=i,"function"==typeof define&&define.amd?define("signals",[],function(){return o}):"undefined"!=typeof module&&module.exports?module.exports=o:e.signals=o}(this),/*!
 * Hasher <http://github.com/millermedeiros/hasher>
 * @author Miller Medeiros
 * @version 1.2.0 (2013/11/11 03:18 PM)
 * Released under the MIT License
 */
function(){var e=function(e){var t=function(t){function n(e){return String(e||"").replace(/\W/g,"\\$&")}function i(e){if(!e)return"";var t=new RegExp("^"+n(f.prependHash)+"|"+n(f.appendHash)+"$","g");return e.replace(t,"")}function o(){var e=k.exec(f.getURL()),t=e&&e[1]||"";try{return f.raw?t:decodeURIComponent(t)}catch(n){return t}}function a(){return v?v.contentWindow.frameHash:null}function r(){v=b.createElement("iframe"),v.src="about:blank",v.style.display="none",b.body.appendChild(v)}function s(){if(v&&m!==a()){var e=v.contentWindow.document;e.open(),e.write("<html><head><title>"+b.title+'</title><script type="text/javascript">var frameHash="'+m+'";</script></head><body>&nbsp;</body></html>'),e.close()}}function c(e,t){if(m!==e){var n=m;m=e,C&&(t?v.contentWindow.frameHash=e:s()),f.changed.dispatch(i(e),i(n))}}function l(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function u(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function d(e){e=Array.prototype.slice.call(arguments);var t=e.join(f.separator);return t=t?f.prependHash+t.replace(B,"")+f.appendHash:t}function p(e){return e=encodeURI(e),w&&U&&(e=e.replace(/\?/,"%3F")),e}var f,m,g,h,v,y,S=25,b=t.document,x=(t.history,e.Signal),k=/#(.*)$/,A=/(\?.*)|(\#.*)/,B=/^\#/,w=!1,M="onhashchange"in t&&7!==b.documentMode,C=w&&!M,U="file:"===location.protocol;return y=C?function(){var e=o(),t=a();t!==m&&t!==e?f.setHash(i(t)):e!==m&&c(e)}:function(){var e=o();e!==m&&c(e)},f={VERSION:"1.2.0",raw:!1,appendHash:"",prependHash:"/",separator:"/",changed:new x,stopped:new x,initialized:new x,init:function(){h||(m=o(),M?l(t,"hashchange",y):(C&&(v||r(),s()),g=setInterval(y,S)),h=!0,f.initialized.dispatch(i(m)))},stop:function(){h&&(M?u(t,"hashchange",y):(clearInterval(g),g=null),h=!1,f.stopped.dispatch(i(m)))},isActive:function(){return h},getURL:function(){return t.location.href},getBaseURL:function(){return f.getURL().replace(A,"")},setHash:function(e){e=d.apply(null,arguments),e!==m&&(c(e),e===m&&(f.raw||(e=p(e)),t.location.hash="#"+e))},replaceHash:function(e){e=d.apply(null,arguments),e!==m&&(c(e,!0),e===m&&(f.raw||(e=p(e)),t.location.replace("#"+e)))},getHash:function(){return i(m)},getHashAsArray:function(){return f.getHash().split(f.separator)},dispose:function(){f.stop(),f.initialized.dispose(),f.stopped.dispose(),f.changed.dispose(),v=f=t.hasher=null},toString:function(){return'[hasher version="'+f.VERSION+'" hash="'+f.getHash()+'"]'}},f.initialized.memorize=!0,f}(window);return t};"function"==typeof define&&define.amd?define("hasher",["signals"],e):"object"==typeof exports?module.exports=e(require("signals")):window.hasher=e(window.signals)}(),define("navigator",["hasher"],function(e){function t(e,t){for(var n=1;n<t.length;n++)e+="/"+t[n];return"#"+e}function n(){var n=arguments[0];e.setHash(t(n,arguments))}function i(){var n=arguments[0];e.replaceHash(t(n,arguments))}function o(){window.history.back()}function a(e){window.location.href=e}function r(e,t){t||(t="_blank"),window.open(e,t)}return{navigate:n,replace:i,back:o,location:a,openLocation:r}}),define("storage",[],function(){function e(e,t,n){var i=n||10,o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3);var a="expires="+o.toUTCString(),r=e+"="+JSON.stringify(t)+"; ",s=window.location.hostname.indexOf(".");(0>s||null!=window.location.hostname.match(/^[0-9.]+$/))&&(s=0);var c=window.location.hostname.substring(s);r+="domain="+c+"; ",0===i&&(r+=a),document.cookie=r}function t(t){e(t,"",-1)}function n(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return JSON.parse(o.substring(t.length,o.length))}}return{storeObjectData:e,deleteObjectData:t,retrieveObjectData:n}}),define("analytics",[],function(){function e(e,t,n){window.ga("send","event",e,t,n)}function t(e){splitHash.length>1&&"account"===splitHash[0]&&"details"===splitHash[1]?window.ga("send","pageview","account/details"):window.ga("send","pageview",newHash)}return{event:e,pageChange:t}}),define("databinder",["knockout"],function(e){function t(t){var n=e.observable(t);return n.setProperty=function(e){n(e)},n}function n(t){return e.observableArray(t||[])}function i(e){return t(e)}function o(t){return e.computed(function(){var e=t.currency();return"CAD"!==e?t.balance()+" "+t.currency():t.balance()})}return{createBinding:t,createArrayBinding:n,createDateBinding:i,createBalanceCurrencyComputed:o}}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("bankingjs",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.BankingJS=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(t,n,i,o,a,r,s,c){this.ActionBase=e("./core/Common/SharedActions/ActionBase"),this.NavigationAction=e("./core/Common/SharedActions/NavigationAction"),this.ObservableModelBase=e("./core/Common/SharedModels/ObservableModelBase"),this.ViewModelBase=e("./core/Common/SharedViewModels/ViewModelBase"),this.ListItem=e("./core/Common/SharedViewModels/ListItem"),this.Models={ApplicationContext:e("./core/Common/SharedModels/ApplicationContext"),Menu:e("./core/Common/NavigationMenu/Actions/Menu"),Notifications:e("./core/Common/Notifications/Models/Notifications"),Notification:e("./core/Common/Notifications/Models/Notification")},this.Services={},this.Actions={},this.ViewModels={Core:{NavigationBar:e("./core/Common/NavigationBar/ViewModels/NavigationBarSetup"),NavigationMenu:e("./core/Common/NavigationMenu/ViewModels/NavigationMenuSetup"),Notifier:e("./core/Common/Notifications/ViewModels/Notifier")}},this.Utilities={Promise:t,Network:n,Navigator:i,DataBinder:o||e("./core/Common/Utilities/DataBinder"),SessionHandler:e("./core/Common/Utilities/SessionHandler"),Tools:e("./core/Common/Utilities/Tools"),BrowserDetectUtils:e("./core/Common/Utilities/BrowserDetectUtils"),Components:e("./core/Common/Utilities/Components"),Storage:a,Analytics:r,KnockOut:s,KnockOutMapping:c};var l;this.getAppContext=function(){return l||(l=new this.Models.ApplicationContext),l}.bind(this),this.components={}}t.exports=i},{"./core/Common/NavigationBar/ViewModels/NavigationBarSetup":3,"./core/Common/NavigationMenu/Actions/Menu":4,"./core/Common/NavigationMenu/ViewModels/NavigationMenuSetup":5,"./core/Common/Notifications/Models/Notification":6,"./core/Common/Notifications/Models/Notifications":7,"./core/Common/Notifications/ViewModels/Notifier":8,"./core/Common/SharedActions/ActionBase":10,"./core/Common/SharedActions/NavigationAction":11,"./core/Common/SharedModels/ApplicationContext":15,"./core/Common/SharedModels/ObservableModelBase":16,"./core/Common/SharedViewModels/ListItem":19,"./core/Common/SharedViewModels/ViewModelBase":20,"./core/Common/Utilities/BrowserDetectUtils":21,"./core/Common/Utilities/Components":22,"./core/Common/Utilities/DataBinder":23,"./core/Common/Utilities/SessionHandler":24,"./core/Common/Utilities/Tools":25}],2:[function(e,t,n){!function(e){function n(e,t){if(!t||"function"==typeof t)return e;for(var n in t)e[n]=t[n];return e}function i(e,t){for(var n in t)n in e?i(e[n],t[n]):e[n]=t[n];return e}function o(e,t,n){var i,o=0,a=e.length,r=void 0===a||"[object Array]"!==Object.prototype.toString.apply(e)||"function"==typeof e;if(n)if(r){for(i in e)if(t.apply(e[i],n)===!1)break}else for(;a>o&&t.apply(e[o++],n)!==!1;);else if(r){for(i in e)if(t.call(e[i],i,e[i])===!1)break}else for(;a>o&&t.call(e[o],o,e[o++])!==!1;);return e}function a(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return W[e]}):e}function r(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if("string"==typeof e)return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},i=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},o=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=i(e);var n,o,a,r,s,c,l,u="",d=0;do n=e.charCodeAt(d++),o=e.charCodeAt(d++),a=e.charCodeAt(d++),r=n>>2,s=(3&n)<<4|o>>4,c=(15&o)<<2|a>>6,l=63&a,isNaN(o)?c=l=64:isNaN(a)&&(l=64),u+=t.charAt(r)+t.charAt(s)+t.charAt(c)+t.charAt(l),n=o=a="",r=s=c=l="";while(d<e.length);return u},a=function(){for(var e=arguments[0],t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},r=function(e,i,o,s){"function"==typeof o&&(s=o,o={}),o.cache=o.cache||!1,o.data=o.data||{},o.headers=o.headers||{},o.jsonp=o.jsonp||!1,o.async=void 0===o.async?!0:o.async;var c,l=a({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},r.headers,o.headers);if(c="application/json"===l["content-type"]?JSON.stringify(o.data):n(o.data),"GET"===e){var u=[];if(c&&(u.push(c),c=null),o.cache||u.push("_="+(new Date).getTime()),o.jsonp&&(u.push("callback="+o.jsonp),u.push("jsonp="+o.jsonp)),u=u.join("&"),u.length>1&&(i+=i.indexOf("?")>-1?"&"+u:"?"+u),o.jsonp){var d=document.getElementsByTagName("head")[0],p=document.createElement("script");return p.type="text/javascript",p.src=i,void d.appendChild(p)}}t(function(t,n){if(t)return s(t);n.open(e,i,o.async);for(var a in l)l.hasOwnProperty(a)&&n.setRequestHeader(a,l[a]);n.onreadystatechange=function(){if(4===n.readyState){var e=n.responseText||"";if(!s)return;s(n.status,{text:function(){return e},json:function(){try{return JSON.parse(e)}catch(t){return K.error("Can not parse JSON. URL: "+i),{}}}})}},n.send(c)})},s={authBasic:function(e,t){r.headers.Authorization="Basic "+o(e+":"+t)},connect:function(e,t,n){return r("CONNECT",e,t,n)},del:function(e,t,n){return r("DELETE",e,t,n)},get:function(e,t,n){return r("GET",e,t,n)},head:function(e,t,n){return r("HEAD",e,t,n)},headers:function(e){r.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,i){n(-1!==i.text().indexOf(t))})},options:function(e,t,n){return r("OPTIONS",e,t,n)},patch:function(e,t,n){return r("PATCH",e,t,n)},post:function(e,t,n){return r("POST",e,t,n)},put:function(e,t,n){return r("PUT",e,t,n)},trace:function(e,t,n){return r("TRACE",e,t,n)}},c=e.type?e.type.toLowerCase():"get";s[c](e.url,e,function(t,n){200===t||0===t&&n.text()?e.success(n.json(),t,null):e.error(n.text(),t,null)})}function s(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},K.extend(H,e),delete H.fixLng,H.functions&&(delete H.functions,K.extend(K,e.functions)),"string"==typeof H.ns&&(H.ns={namespaces:[H.ns],defaultNs:H.ns}),"string"==typeof H.fallbackNS&&(H.fallbackNS=[H.fallbackNS]),("string"==typeof H.fallbackLng||"boolean"==typeof H.fallbackLng)&&(H.fallbackLng=[H.fallbackLng]),H.interpolationPrefixEscaped=K.regexEscape(H.interpolationPrefix),H.interpolationSuffixEscaped=K.regexEscape(H.interpolationSuffix),H.lng||(H.lng=K.detectLanguage()),I=K.toLanguages(H.lng),F=I[0],K.log("currentLng set to: "+F),H.useCookie&&K.cookie.read(H.cookieName)!==F&&K.cookie.create(H.cookieName,F,H.cookieExpirationTime,H.cookieDomain),H.detectLngFromLocalStorage&&"undefined"!=typeof document&&window.localStorage&&K.localStorage.setItem("i18next_lng",F);var n=_;e.fixLng&&(n=function(e,t){return t=t||{},t.lng=t.lng||n.lng,_(e,t)},n.lng=F),X.setCurrentLng(F),D&&H.setJqueryExt&&A();var i;if(D&&D.Deferred&&(i=D.Deferred()),!H.resStore){var o=K.toLanguages(H.lng);"string"==typeof H.preload&&(H.preload=[H.preload]);for(var a=0,r=H.preload.length;r>a;a++)for(var s=K.toLanguages(H.preload[a]),c=0,l=s.length;l>c;c++)o.indexOf(s[c])<0&&o.push(s[c]);return P.sync.load(o,H,function(e,o){L=o,q=!0,t&&t(n),i&&i.resolve(n)}),i?i.promise():void 0}return L=H.resStore,q=!0,t&&t(n),i&&i.resolve(n),i?i.promise():void 0}function c(){return q}function l(e,t){"string"==typeof e&&(e=[e]);for(var n=0,i=e.length;i>n;n++)H.preload.indexOf(e[n])<0&&H.preload.push(e[n]);return s(t)}function u(e,t,n,i){"string"!=typeof t?(n=t,t=H.ns.defaultNs):H.ns.namespaces.indexOf(t)<0&&H.ns.namespaces.push(t),L[e]=L[e]||{},L[e][t]=L[e][t]||{},i?K.deepExtend(L[e][t],n):K.extend(L[e][t],n),H.useLocalStorage&&j._storeLocal(L)}function d(e,t){"string"!=typeof t&&(t=H.ns.defaultNs),L[e]=L[e]||{};var n=L[e][t]||{},i=!1;for(var o in n)n.hasOwnProperty(o)&&(i=!0);return i}function p(e,t){return"string"!=typeof t&&(t=H.ns.defaultNs),L[e]=L[e]||{},K.extend({},L[e][t])}function f(e,t){"string"!=typeof t&&(t=H.ns.defaultNs),L[e]=L[e]||{},L[e][t]={},H.useLocalStorage&&j._storeLocal(L)}function m(e,t,n,i){"string"!=typeof t?(resource=t,t=H.ns.defaultNs):H.ns.namespaces.indexOf(t)<0&&H.ns.namespaces.push(t),L[e]=L[e]||{},L[e][t]=L[e][t]||{};for(var o=n.split(H.keyseparator),a=0,r=L[e][t];o[a];)a==o.length-1?r[o[a]]=i:(null==r[o[a]]&&(r[o[a]]={}),r=r[o[a]]),a++;H.useLocalStorage&&j._storeLocal(L)}function g(e,t,n){"string"!=typeof t?(resource=t,t=H.ns.defaultNs):H.ns.namespaces.indexOf(t)<0&&H.ns.namespaces.push(t);for(var i in n)"string"==typeof n[i]&&m(e,t,i,n[i])}function h(e){H.ns.defaultNs=e}function v(e,t){y([e],t)}function y(e,t){var n={dynamicLoad:H.dynamicLoad,resGetPath:H.resGetPath,getAsync:H.getAsync,customLoad:H.customLoad,ns:{namespaces:e,defaultNs:""}},i=K.toLanguages(H.lng);"string"==typeof H.preload&&(H.preload=[H.preload]);for(var o=0,a=H.preload.length;a>o;o++)for(var r=K.toLanguages(H.preload[o]),s=0,c=r.length;c>s;s++)i.indexOf(r[s])<0&&i.push(r[s]);for(var l=[],u=0,d=i.length;d>u;u++){var p=!1,f=L[i[u]];if(f)for(var m=0,g=e.length;g>m;m++)f[e[m]]||(p=!0);else p=!0;p&&l.push(i[u])}l.length?P.sync._fetch(l,n,function(n,i){var o=e.length*l.length;K.each(e,function(e,n){H.ns.namespaces.indexOf(n)<0&&H.ns.namespaces.push(n),K.each(l,function(e,a){L[a]=L[a]||{},L[a][n]=i[a][n],o--,0===o&&t&&(H.useLocalStorage&&P.sync._storeLocal(L),t())})})}):t&&t()}function S(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),t.lng=e,s(t,n)}function b(){return F}function x(e){L={},S(F,e)}function k(){window.i18next=window.i18n,$?window.i18n=$:delete window.i18n}function A(){function e(e,t,n){if(0!==t.length){var i="text";if(0===t.indexOf("[")){var o=t.split("]");t=o[1],i=o[0].substr(1,o[0].length-1)}t.indexOf(";")===t.length-1&&(t=t.substr(0,t.length-2));var a;if("html"===i)a=H.defaultValueFromContent?D.extend({defaultValue:e.html()},n):n,e.html(D.t(t,a));else if("text"===i)a=H.defaultValueFromContent?D.extend({defaultValue:e.text()},n):n,e.text(D.t(t,a));else if("prepend"===i)a=H.defaultValueFromContent?D.extend({defaultValue:e.html()},n):n,e.prepend(D.t(t,a));else if("append"===i)a=H.defaultValueFromContent?D.extend({defaultValue:e.html()},n):n,e.append(D.t(t,a));else if(0===i.indexOf("data-")){var r=i.substr("data-".length);a=H.defaultValueFromContent?D.extend({defaultValue:e.data(r)},n):n;var s=D.t(t,a);e.data(r,s),e.attr(i,s)}else a=H.defaultValueFromContent?D.extend({defaultValue:e.attr(i)},n):n,e.attr(i,D.t(t,a))}}function t(t,n){var i=t.attr(H.selectorAttr);if(i||"undefined"==typeof i||i===!1||(i=t.text()||t.val()),i){var o=t,a=t.data("i18n-target");if(a&&(o=t.find(a)||t),n||H.useDataAttrOptions!==!0||(n=t.data("i18n-options")),n=n||{},i.indexOf(";")>=0){var r=i.split(";");D.each(r,function(t,i){""!==i&&e(o,i,n)})}else e(o,i,n);H.useDataAttrOptions===!0&&t.data("i18n-options",n)}}D.t=D.t||_,D.fn.i18n=function(e){return this.each(function(){t(D(this),e);var n=D(this).find("["+H.selectorAttr+"]");n.each(function(){t(D(this),e)})})}}function B(e,t,n,i){if(!e)return e;if(i=i||t,e.indexOf(i.interpolationPrefix||H.interpolationPrefix)<0)return e;var o=i.interpolationPrefix?K.regexEscape(i.interpolationPrefix):H.interpolationPrefixEscaped,a=i.interpolationSuffix?K.regexEscape(i.interpolationSuffix):H.interpolationSuffixEscaped,r="HTML"+a,s=t.replace&&"object"==typeof t.replace?t.replace:t;return K.each(s,function(t,s){var c=n?n+H.keyseparator+t:t;"object"==typeof s&&null!==s?e=B(e,s,c,i):i.escapeInterpolation||H.escapeInterpolation?(e=e.replace(new RegExp([o,c,r].join(""),"g"),K.regexReplacementEscape(s)),e=e.replace(new RegExp([o,c,a].join(""),"g"),K.regexReplacementEscape(K.escape(s)))):e=e.replace(new RegExp([o,c,a].join(""),"g"),K.regexReplacementEscape(s))}),e}function w(e,t){var n=",",i="{",o="}",a=K.extend({},t);for(delete a.postProcess;-1!=e.indexOf(H.reusePrefix)&&(V++,!(V>H.maxRecursion));){var r=e.lastIndexOf(H.reusePrefix),s=e.indexOf(H.reuseSuffix,r)+H.reuseSuffix.length,c=e.substring(r,s),l=c.replace(H.reusePrefix,"").replace(H.reuseSuffix,"");if(r>=s)return K.error("there is an missing closing in following translation value",e),"";if(-1!=l.indexOf(n)){var u=l.indexOf(n);if(-1!=l.indexOf(i,u)&&-1!=l.indexOf(o,u)){var d=l.indexOf(i,u),p=l.indexOf(o,d)+o.length;try{a=K.extend(a,JSON.parse(l.substring(d,p))),l=l.substring(0,u)}catch(f){}}}var m=R(l,a);e=e.replace(c,K.regexReplacementEscape(m))}return e}function M(e){return e.context&&("string"==typeof e.context||"number"==typeof e.context)}function C(e,t){return void 0!==e.count&&"string"!=typeof e.count}function U(e){return void 0!==e.indefinite_article&&"string"!=typeof e.indefinite_article&&e.indefinite_article}function J(e,t){t=t||{};var n=E(e,t),i=O(e,t);return void 0!==i||i===n}function _(e,t){return t=t||{},q?(V=0,R.apply(null,arguments)):(K.log("i18next not finished initialization. you might have called t function before loading resources finished."),t.defaultValue||"")}function E(e,t){return void 0!==t.defaultValue?t.defaultValue:e}function T(){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);return{postProcess:"sprintf",sprintf:e}}function R(e,t){if(t&&"object"!=typeof t?"sprintf"===H.shortcutFunction?t=T.apply(null,arguments):"defaultValue"===H.shortcutFunction&&(t={defaultValue:t}):t=t||{},"object"==typeof H.defaultVariables&&(t=K.extend({},H.defaultVariables,t)),void 0===e||null===e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var n=e[0];if(e.length>1)for(var i=0;i<e.length&&(n=e[i],!J(n,t));i++);var o,a=E(n,t),r=O(n,t),s=t.lng?K.toLanguages(t.lng,t.fallbackLng):I,c=t.ns||H.ns.defaultNs;n.indexOf(H.nsseparator)>-1&&(o=n.split(H.nsseparator),c=o[0],n=o[1]),void 0===r&&H.sendMissing&&"function"==typeof H.missingKeyHandler&&(t.lng?H.missingKeyHandler(s[0],c,n,a,s):H.missingKeyHandler(H.lng,c,n,a,s));var l;l="string"==typeof H.postProcess&&""!==H.postProcess?[H.postProcess]:"array"==typeof H.postProcess||"object"==typeof H.postProcess?H.postProcess:[],"string"==typeof t.postProcess&&""!==t.postProcess?l=l.concat([t.postProcess]):("array"==typeof t.postProcess||"object"==typeof t.postProcess)&&(l=l.concat(t.postProcess)),void 0!==r&&l.length&&l.forEach(function(e){Z[e]&&(r=Z[e](r,n,t))});var u=a;if(a.indexOf(H.nsseparator)>-1&&(o=a.split(H.nsseparator),u=o[1]),u===n&&H.parseMissingKey&&(a=H.parseMissingKey(a)),void 0===r&&(a=B(a,t),a=w(a,t),l.length)){var d=E(n,t);l.forEach(function(e){Z[e]&&(r=Z[e](d,n,t))})}return void 0!==r?r:a}function O(e,t){t=t||{};var n,i,o=E(e,t),a=I;if(!L)return o;if("cimode"===a[0].toLowerCase())return o;if(t.lngs&&(a=t.lngs),t.lng&&(a=K.toLanguages(t.lng,t.fallbackLng),!L[a[0]])){var r=H.getAsync;H.getAsync=!1,P.sync.load(a,H,function(e,t){K.extend(L,t),H.getAsync=r})}var s=t.ns||H.ns.defaultNs;if(e.indexOf(H.nsseparator)>-1){var c=e.split(H.nsseparator);s=c[0],e=c[1]}if(M(t)){n=K.extend({},t),delete n.context,n.defaultValue=H.contextNotFound;var l=s+H.nsseparator+e+"_"+t.context;if(i=_(l,n),i!=H.contextNotFound)return B(i,{context:t.context})}if(C(t,a[0])){n=K.extend({lngs:[a[0]]},t),delete n.count,n._origLng=n._origLng||n.lng||a[0],delete n.lng,n.defaultValue=H.pluralNotFound;var u;if(X.needsPlural(a[0],t.count)){u=s+H.nsseparator+e+H.pluralSuffix;var d=X.get(a[0],t.count);d>=0?u=u+"_"+d:1===d&&(u=s+H.nsseparator+e)}else u=s+H.nsseparator+e;if(i=_(u,n),i!=H.pluralNotFound)return B(i,{count:t.count,interpolationPrefix:t.interpolationPrefix,interpolationSuffix:t.interpolationSuffix});if(!(a.length>1))return n.lng=n._origLng,delete n._origLng,i=_(s+H.nsseparator+e,n),B(i,{count:t.count,interpolationPrefix:t.interpolationPrefix,interpolationSuffix:t.interpolationSuffix});var p=a.slice();if(p.shift(),t=K.extend(t,{lngs:p}),t._origLng=n._origLng,delete t.lng,i=_(s+H.nsseparator+e,t),i!=H.pluralNotFound)return i}if(U(t)){var f=K.extend({},t);delete f.indefinite_article,f.defaultValue=H.indefiniteNotFound;var m=s+H.nsseparator+e+(t.count&&!C(t,a[0])||!t.count?H.indefiniteSuffix:"");if(i=_(m,f),i!=H.indefiniteNotFound)return i}for(var g,h=e.split(H.keyseparator),v=0,y=a.length;y>v&&void 0===g;v++){for(var S=a[v],b=0,x=L[S]&&L[S][s];h[b];)x=x&&x[h[b]],b++;if(void 0!==x&&(!H.showKeyIfEmpty||""!==x)){var k=Object.prototype.toString.apply(x);if("string"==typeof x)x=B(x,t),x=w(x,t);else if("[object Array]"!==k||H.returnObjectTrees||t.returnObjectTrees){if(null===x&&H.fallbackOnNull===!0)x=void 0;else if(null!==x)if(H.returnObjectTrees||t.returnObjectTrees){if("[object Number]"!==k&&"[object Function]"!==k&&"[object RegExp]"!==k){var A="[object Array]"===k?[]:{};K.each(x,function(n){A[n]=R(s+H.nsseparator+e+H.keyseparator+n,t)}),x=A}}else H.objectTreeKeyHandler&&"function"==typeof H.objectTreeKeyHandler?x=H.objectTreeKeyHandler(e,x,S,s,t):(x="key '"+s+":"+e+" ("+S+")' returned an object instead of string.",K.log(x))}else x=x.join("\n"),x=B(x,t),x=w(x,t);"string"==typeof x&&""===x.trim()&&H.fallbackOnEmpty===!0&&(x=void 0),g=x}}if(void 0===g&&!t.isFallbackLookup&&(H.fallbackToDefaultNS===!0||H.fallbackNS&&H.fallbackNS.length>0)){if(t.isFallbackLookup=!0,H.fallbackNS.length){for(var J=0,T=H.fallbackNS.length;T>J;J++)if(g=O(H.fallbackNS[J]+H.nsseparator+e,t),g||""===g&&H.fallbackOnEmpty===!1){var N=g.indexOf(H.nsseparator)>-1?g.split(H.nsseparator)[1]:g,F=o.indexOf(H.nsseparator)>-1?o.split(H.nsseparator)[1]:o;if(N!==F)break}}else t.ns=H.ns.defaultNs,g=O(e,t);t.isFallbackLookup=!1}return g}function N(){var e,t=H.lngWhitelist||[],n=[];if("undefined"!=typeof window&&!function(){for(var e=window.location.search.substring(1),t=e.split("&"),i=0;i<t.length;i++){var o=t[i].indexOf("=");if(o>0){var a=t[i].substring(0,o);a==H.detectLngQS&&n.push(t[i].substring(o+1))}}}(),H.useCookie&&"undefined"!=typeof document){var i=K.cookie.read(H.cookieName);i&&n.push(i)}if(H.detectLngFromLocalStorage&&"undefined"!=typeof window&&window.localStorage){var o=K.localStorage.getItem("i18next_lng");o&&n.push(o)}if("undefined"!=typeof navigator){if(navigator.languages)for(var a=0;a<navigator.languages.length;a++)n.push(navigator.languages[a]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return function(){for(var i=0;i<n.length;i++){var o=n[i];if(o.indexOf("-")>-1){var a=o.split("-");o=H.lowerCaseLng?a[0].toLowerCase()+"-"+a[1].toLowerCase():a[0].toLowerCase()+"-"+a[1].toUpperCase()}if(0===t.length||t.indexOf(o)>-1){e=o;break}}}(),e||(e=H.fallbackLng[0]),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&i!=1/0&&i!=-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var o=i>=0?i:Math.max(n-Math.abs(i),0);n>o;o++)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=n;arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&i!=1/0&&i!=-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i))));for(var o=i>=0?Math.min(i,n-1):n-Math.abs(i);o>=0;o--)if(o in t&&t[o]===e)return o;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var F,D=e.jQuery||e.Zepto,P={},L={},V=0,I=[],q=!1,j={},$=null;"undefined"!=typeof t&&t.exports?t.exports=P:(D&&(D.i18n=D.i18n||P),e.i18n&&($=e.i18n),e.i18n=P),j={load:function(e,t,n){t.useLocalStorage?j._loadLocal(e,t,function(i,o){for(var a=[],r=0,s=e.length;s>r;r++)o[e[r]]||a.push(e[r]);a.length>0?j._fetch(a,t,function(e,t){K.extend(o,t),j._storeLocal(t),n(null,o)}):n(null,o)}):j._fetch(e,t,function(e,t){n(null,t)})},_loadLocal:function(e,t,n){var i={},o=(new Date).getTime();if(window.localStorage){var a=e.length;K.each(e,function(e,r){var s=K.localStorage.getItem("res_"+r);s&&(s=JSON.parse(s),s.i18nStamp&&s.i18nStamp+t.localStorageExpirationTime>o&&(i[r]=s)),a--,0===a&&n(null,i)})}},_storeLocal:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=(new Date).getTime(),K.localStorage.setItem("res_"+t,JSON.stringify(e[t]))},_fetch:function(e,t,n){var i=t.ns,o={};if(t.dynamicLoad){var a=function(e,t){n(null,t)};if("function"==typeof t.customLoad)t.customLoad(e,i.namespaces,t,a);else{var r=B(t.resGetPath,{lng:e.join("+"),ns:i.namespaces.join("+")});K.ajax({url:r,cache:t.cache,success:function(e,t,n){K.log("loaded: "+r),a(null,e)},error:function(e,t,n){K.log("failed loading: "+r),a("failed loading resource.json error: "+n)},dataType:"json",async:t.getAsync,timeout:t.ajaxTimeout})}}else{var s,c=i.namespaces.length*e.length;K.each(i.namespaces,function(i,a){K.each(e,function(e,i){var r=function(e,t){e&&(s=s||[],s.push(e)),o[i]=o[i]||{},o[i][a]=t,c--,0===c&&n(s,o)};"function"==typeof t.customLoad?t.customLoad(i,a,t,r):j._fetchOne(i,a,t,r)})})}},_fetchOne:function(e,t,n,i){var o=B(n.resGetPath,{lng:e,ns:t});K.ajax({url:o,cache:n.cache,success:function(e,t,n){K.log("loaded: "+o),i(null,e)},error:function(e,t,n){if(t&&200==t||e&&e.status&&200==e.status)K.error("There is a typo in: "+o);else if(t&&404==t||e&&e.status&&404==e.status)K.log("Does not exist: "+o);else{var a=t?t:e&&e.status?e.status:null;K.log(a+" when loading "+o)}i(n,{})},dataType:"json",async:n.getAsync,timeout:n.ajaxTimeout})},postMissing:function(e,t,n,i,o){var a={};a[n]=i;var r=[];if("fallback"===H.sendMissingTo&&H.fallbackLng[0]!==!1)for(var s=0;s<H.fallbackLng.length;s++)r.push({lng:H.fallbackLng[s],url:B(H.resPostPath,{lng:H.fallbackLng[s],ns:t})});else if("current"===H.sendMissingTo||"fallback"===H.sendMissingTo&&H.fallbackLng[0]===!1)r.push({lng:e,url:B(H.resPostPath,{lng:e,ns:t})});else if("all"===H.sendMissingTo)for(var s=0,c=o.length;c>s;s++)r.push({lng:o[s],url:B(H.resPostPath,{lng:o[s],ns:t})});for(var l=0,u=r.length;u>l;l++){var d=r[l];K.ajax({url:d.url,type:H.sendType,data:a,success:function(e,o,a){K.log("posted missing key '"+n+"' to: "+d.url);for(var r=n.split("."),s=0,c=L[d.lng][t];r[s];)c=s===r.length-1?c[r[s]]=i:c[r[s]]=c[r[s]]||{},s++},error:function(e,t,i){K.log("failed posting missing key '"+n+"' to: "+d.url)},dataType:"json",async:H.postAsync,timeout:H.ajaxTimeout})}},reload:x};var H={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",detectLngFromLocalStorage:!1,ns:{namespaces:["translation"],defaultNs:"translation"},fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,showKeyIfEmpty:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",defaultVariables:!1,reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,indefiniteSuffix:"_indefinite",indefiniteNotFound:["indefinite_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,missingKeyHandler:j.postMissing,ajaxTimeout:0,shortcutFunction:"sprintf"},W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},z={create:function(e,t,n,i){var o;if(n){var a=new Date;a.setTime(a.getTime()+60*n*1e3),o="; expires="+a.toGMTString()}else o="";i=i?"domain="+i+";":"",document.cookie=e+"="+t+o+";"+i+"path=/"},read:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},remove:function(e){this.create(e,"",-1)}},Q={create:function(e,t,n,i){},read:function(e){return null},remove:function(e){}},K={extend:D?D.extend:n,deepExtend:i,each:D?D.each:o,ajax:D?D.ajax:"undefined"!=typeof document?r:function(){},cookie:"undefined"!=typeof document?z:Q,detectLanguage:N,escape:a,log:function(e){H.debug&&"undefined"!=typeof console&&console.log(e)},error:function(e){"undefined"!=typeof console&&console.error(e)},getCountyIndexOfLng:function(e){var t=0;return("nb-NO"===e||"nn-NO"===e||"nb-no"===e||"nn-no"===e)&&(t=1),t},toLanguages:function(e){function t(e){var t=e;if("string"==typeof e&&e.indexOf("-")>-1){var n=e.split("-");t=H.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase()}else t=H.lowerCaseLng?e.toLowerCase():e;return t}var n=this.log,i=[],o=H.lngWhitelist||!1,a=function(e){!o||o.indexOf(e)>-1?i.push(e):n("rejecting non-whitelisted language: "+e)};if("string"==typeof e&&e.indexOf("-")>-1){var r=e.split("-");"unspecific"!==H.load&&a(t(e)),"current"!==H.load&&a(t(r[this.getCountyIndexOfLng(e)]))}else a(t(e));for(var s=0;s<H.fallbackLng.length;s++)-1===i.indexOf(H.fallbackLng[s])&&H.fallbackLng[s]&&i.push(t(H.fallbackLng[s]));return i},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexReplacementEscape:function(e){return"string"==typeof e?e.replace(/\$/g,"$$$$"):e},localStorage:{setItem:function(e,t){if(window.localStorage)try{window.localStorage.setItem(e,t)}catch(n){K.log('failed to set value for key "'+e+'" to localStorage.')}},getItem:function(e,t){if(window.localStorage)try{return window.localStorage.getItem(e,t)}catch(n){return void K.log('failed to get value for key "'+e+'" from localStorage.')}}}};K.applyReplacement=B;var G=[["ach","Acholi",[1,2],1],["af","Afrikaans",[1,2],2],["ak","Akan",[1,2],1],["am","Amharic",[1,2],1],["an","Aragonese",[1,2],2],["ar","Arabic",[0,1,2,3,11,100],5],["arn","Mapudungun",[1,2],1],["ast","Asturian",[1,2],2],["ay","Aymar",[1],3],["az","Azerbaijani",[1,2],2],["be","Belarusian",[1,2,5],4],["bg","Bulgarian",[1,2],2],["bn","Bengali",[1,2],2],["bo","Tibetan",[1],3],["br","Breton",[1,2],1],["bs","Bosnian",[1,2,5],4],["ca","Catalan",[1,2],2],["cgg","Chiga",[1],3],["cs","Czech",[1,2,5],6],["csb","Kashubian",[1,2,5],7],["cy","Welsh",[1,2,3,8],8],["da","Danish",[1,2],2],["de","German",[1,2],2],["dev","Development Fallback",[1,2],2],["dz","Dzongkha",[1],3],["el","Greek",[1,2],2],["en","English",[1,2],2],["eo","Esperanto",[1,2],2],["es","Spanish",[1,2],2],["es_ar","Argentinean Spanish",[1,2],2],["et","Estonian",[1,2],2],["eu","Basque",[1,2],2],["fa","Persian",[1],3],["fi","Finnish",[1,2],2],["fil","Filipino",[1,2],1],["fo","Faroese",[1,2],2],["fr","French",[1,2],9],["fur","Friulian",[1,2],2],["fy","Frisian",[1,2],2],["ga","Irish",[1,2,3,7,11],10],["gd","Scottish Gaelic",[1,2,3,20],11],["gl","Galician",[1,2],2],["gu","Gujarati",[1,2],2],["gun","Gun",[1,2],1],["ha","Hausa",[1,2],2],["he","Hebrew",[1,2],2],["hi","Hindi",[1,2],2],["hr","Croatian",[1,2,5],4],["hu","Hungarian",[1,2],2],["hy","Armenian",[1,2],2],["ia","Interlingua",[1,2],2],["id","Indonesian",[1],3],["is","Icelandic",[1,2],12],["it","Italian",[1,2],2],["ja","Japanese",[1],3],["jbo","Lojban",[1],3],["jv","Javanese",[0,1],13],["ka","Georgian",[1],3],["kk","Kazakh",[1],3],["km","Khmer",[1],3],["kn","Kannada",[1,2],2],["ko","Korean",[1],3],["ku","Kurdish",[1,2],2],["kw","Cornish",[1,2,3,4],14],["ky","Kyrgyz",[1],3],["lb","Letzeburgesch",[1,2],2],["ln","Lingala",[1,2],1],["lo","Lao",[1],3],["lt","Lithuanian",[1,2,10],15],["lv","Latvian",[1,2,0],16],["mai","Maithili",[1,2],2],["mfe","Mauritian Creole",[1,2],1],["mg","Malagasy",[1,2],1],["mi","Maori",[1,2],1],["mk","Macedonian",[1,2],17],["ml","Malayalam",[1,2],2],["mn","Mongolian",[1,2],2],["mnk","Mandinka",[0,1,2],18],["mr","Marathi",[1,2],2],["ms","Malay",[1],3],["mt","Maltese",[1,2,11,20],19],["nah","Nahuatl",[1,2],2],["nap","Neapolitan",[1,2],2],["nb","Norwegian Bokmal",[1,2],2],["ne","Nepali",[1,2],2],["nl","Dutch",[1,2],2],["nn","Norwegian Nynorsk",[1,2],2],["no","Norwegian",[1,2],2],["nso","Northern Sotho",[1,2],2],["oc","Occitan",[1,2],1],["or","Oriya",[2,1],2],["pa","Punjabi",[1,2],2],["pap","Papiamento",[1,2],2],["pl","Polish",[1,2,5],7],["pms","Piemontese",[1,2],2],["ps","Pashto",[1,2],2],["pt","Portuguese",[1,2],2],["pt_br","Brazilian Portuguese",[1,2],2],["rm","Romansh",[1,2],2],["ro","Romanian",[1,2,20],20],["ru","Russian",[1,2,5],4],["sah","Yakut",[1],3],["sco","Scots",[1,2],2],["se","Northern Sami",[1,2],2],["si","Sinhala",[1,2],2],["sk","Slovak",[1,2,5],6],["sl","Slovenian",[5,1,2,3],21],["so","Somali",[1,2],2],["son","Songhay",[1,2],2],["sq","Albanian",[1,2],2],["sr","Serbian",[1,2,5],4],["su","Sundanese",[1],3],["sv","Swedish",[1,2],2],["sw","Swahili",[1,2],2],["ta","Tamil",[1,2],2],["te","Telugu",[1,2],2],["tg","Tajik",[1,2],1],["th","Thai",[1],3],["ti","Tigrinya",[1,2],1],["tk","Turkmen",[1,2],2],["tr","Turkish",[1,2],1],["tt","Tatar",[1],3],["ug","Uyghur",[1],3],["uk","Ukrainian",[1,2,5],4],["ur","Urdu",[1,2],2],["uz","Uzbek",[1,2],1],["vi","Vietnamese",[1],3],["wa","Walloon",[1,2],1],["wo","Wolof",[1],3],["yo","Yoruba",[1,2],2],["zh","Chinese",[1],3]],Y={
1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&10>=e%100?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&4>=e?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:7>e?2:11>e?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&20>e?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(10>e%100||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&11>e%100?1:e%100>10&&20>e%100?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&20>e%100?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},X={rules:function(){var e,t={};for(e=G.length;e--;)t[G[e][0]]={name:G[e][1],numbers:G[e][2],plurals:Y[G[e][3]]};return t}(),addRule:function(e,t){X.rules[e]=t},setCurrentLng:function(e){if(!X.currentRule||X.currentRule.lng!==e){var t=e.split("-");X.currentRule={lng:e,rule:X.rules[t[0]]}}},needsPlural:function(e,t){var n,i=e.split("-");return n=X.currentRule&&X.currentRule.lng===e?X.currentRule.rule:X.rules[i[K.getCountyIndexOfLng(e)]],n&&n.numbers.length<=1?!1:1!==this.get(e,t)},get:function(e,t){function n(t,n){var i;if(i=X.currentRule&&X.currentRule.lng===e?X.currentRule.rule:X.rules[t]){var o;o=i.noAbs?i.plurals(n):i.plurals(Math.abs(n));var a=i.numbers[o];return 2===i.numbers.length&&1===i.numbers[0]&&(2===a?a=-1:1===a&&(a=1)),a}return 1===n?"1":"-1"}var i=e.split("-");return n(i[K.getCountyIndexOfLng(e)],t)}},Z={},ee=function(e,t){Z[e]=t},te=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var o,a,r,s,c,l,u,d=1,p=n.length,f="",m=[];for(a=0;p>a;a++)if(f=e(n[a]),"string"===f)m.push(n[a]);else if("array"===f){if(s=n[a],s[2])for(o=i[d],r=0;r<s[2].length;r++){if(!o.hasOwnProperty(s[2][r]))throw te('[sprintf] property "%s" does not exist',s[2][r]);o=o[s[2][r]]}else o=s[1]?i[s[1]]:i[d++];if(/[^s]/.test(s[8])&&"number"!=e(o))throw te("[sprintf] expecting number but found %s",e(o));switch(s[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=s[7]?o.toExponential(s[7]):o.toExponential();break;case"f":o=s[7]?parseFloat(o).toFixed(s[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&s[7]?o.substring(0,s[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(s[8])&&s[3]&&o>=0?"+"+o:o,l=s[4]?"0"==s[4]?"0":s[4].charAt(1):" ",u=s[6]-String(o).length,c=s[6]?t(l,u):"",m.push(s[5]?o+c:c+o)}return m.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],i=[],o=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){o|=1;var a=[],r=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(r)))throw"[sprintf] huh?";for(a.push(s[1]);""!==(r=r.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(r)))a.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(r)))throw"[sprintf] huh?";a.push(s[1])}n[2]=a}else o|=2;if(3===o)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";i.push(n)}t=t.substring(n[0].length)}return i},n}(),ne=function(e,t){return t.unshift(e),te.apply(null,t)};ee("sprintf",function(e,t,n){return n.sprintf?"[object Array]"===Object.prototype.toString.apply(n.sprintf)?ne(e,n.sprintf):"object"==typeof n.sprintf?te(e,n.sprintf):e:e}),P.init=s,P.isInitialized=c,P.setLng=S,P.preload=l,P.addResourceBundle=u,P.hasResourceBundle=d,P.getResourceBundle=p,P.addResource=m,P.addResources=g,P.removeResourceBundle=f,P.loadNamespace=v,P.loadNamespaces=y,P.setDefaultNamespace=h,P.t=_,P.translate=_,P.exists=J,P.detectLanguage=K.detectLanguage,P.pluralExtensions=X,P.sync=j,P.functions=K,P.lng=b,P.addPostProcessor=ee,P.applyReplacement=K.applyReplacement,P.options=H,P.noConflict=k}("undefined"==typeof n?window:n)},{}],3:[function(e,t,n){function i(){o.call(this)}var o=e("../../SharedModels/ObservableModelBase");t.exports=i},{"../../SharedModels/ObservableModelBase":16}],4:[function(e,t,n){function i(e){this.actionList=function(e){var t=BankingJS.Models.ApplicationContext,n=[];return e.forEach(function(e){n.push(t.getActionContext("pageMenu",null,e))}),n}(e)}t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this),this.actionList=BankingJS.getAppContext().getActionContext("navigationMenu","topNav")}var o=e("../../SharedModels/ObservableModelBase");t.exports=i},{"../../SharedModels/ObservableModelBase":16}],6:[function(e,t,n){function i(){this.id,this.text,this.type}t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this);var e=[],t={},n=!1;this.getNumberOfNotifications=function(){return e.length},this.shouldClearNotifications=function(){return n},this.setClearNotifications=function(e){n=e},this.getLastNotification=function(){return e.slice(-1).pop()},this.notifyGlobal=function(t){var n=!0;e.forEach(function(e){t.text===e.text&&(n=!1)}),n&&(e.push(t),this.notifySubscribers("globalNotify",t))},this.notifyContext=function(e,n){t[e]||(t[e]=[]),t[e].push(n),this.notifySubscribers("contextNotify",n)},this.popGlobalNotification=function(){e.pop(),this.notifySubscribers("globalPop",e[e.length-1]||"")},this.popContextNotification=function(e){if(t[e]){var n=t[e].pop();this.notifySubscribers("contextPop",n)}},this.clearNotifications=function(){this.notifySubscribers("clear"),e=[]}}var o=e("../../SharedModels/ObservableModelBase");i.prototype=o.prototype,t.exports=i},{"../../SharedModels/ObservableModelBase":16}],8:[function(e,t,n){function i(){o.call(this);var e=BankingJS.getAppContext().notifications;this.globalNotification=BankingJS.Utilities.DataBinder.createBinding(),this.localNotification=BankingJS.Utilities.DataBinder.createBinding(),this.hasNotification=BankingJS.Utilities.DataBinder.createBinding(!1),this.popGlobalNotification=function(){e.popGlobalNotification()},this.popLocalNotification=function(){e.popLocalNotification()},e.subscribe(function(e,t){var n=new a;t&&(n.notificationId=t.id,n.notifcationText=t.text,n.notificationType=t.type),"globalNotify"===e&&n?this.globalNotification(n):"globalPop"===e&&n?this.globalNotification(n):"clear"===e?(this.globalNotification(""),this.localNotification("")):n&&this.localNotification(n),this.globalNotification().notifcationText?this.hasNotification(!0):this.hasNotification(!1)}.bind(this))}var o=e("../../SharedModels/ObservableModelBase"),a=e("./NotifierAlert");t.exports=i},{"../../SharedModels/ObservableModelBase":16,"./NotifierAlert":9}],9:[function(e,t,n){function i(){o.call(this),this.notificationId,this.notificationText,this.notificationIcon,this.notificationType}var o=e("../../SharedModels/ObservableModelBase");t.exports=i},{"../../SharedModels/ObservableModelBase":16}],10:[function(e,t,n){function i(e,t,n,i){this.actionName=e||"ActionBase",this.actionDescription=t,this.actionIcon=n,this.eventCategory=i||"action"}i.prototype.processAction=function(e){throw this.actionName+" action's run function must be implemented."},i.prototype.execute=function(e){var t=this;return BankingJS.Utilities.Analytics&&BankingJS.Utilities.Analytics.event(this.eventCategory,"clicked",this.actionName),BankingJS.Utilities.Promise.Promise(function(n,i,o){t.processAction(e).done(function(e){if(e.nextContexts)for(var t=0;t<e.nextContexts.length;t++){var i=BankingJS.getAppContext().actions.getContext(e.nextContexts[t].action);i&&(i.execute(e.nextContexts[t].params,e.nextContexts[t].required),t=e.nextContexts.length)}n(e.data)},function(e){if(e&&e.context&&e.context.next)for(var t=0;t<e.context.next.length;t++){var n=BankingJS.getAppContext().actions.getContext(e.context.next[t].action);n&&"true"==n.required&&(n.execute(),t=e.context.next.length)}i(e)})})},t.exports=i},{}],11:[function(e,t,n){function i(e,t,n,i){o.call(this,t,n,i),this.actionContext=e}var o=e("./ActionBase");i.prototype=o.prototype,t.exports=i},{"./ActionBase":10}],12:[function(e,t,n){function i(){function e(e){var t=this.accountKey;return BankingJS.Utilities.Promise.Promise(function(i,o,a){(e||n)&&t?BankingJS.Services.Accounts.AccountDetails.AccountDetailsService.getAccountDetails(t).done(function(e){var t=e.response.account;t.details&&(this.accountKey=t.accountKey,this.category=t.category,this.description=t.description,this.maskedAccount=t.maskedAccount,this.balances=t.balances,this.details.actions=t.details.actions,this.details.detailsList=t.details.detailsList,this.details.historyList=t.details.historyList),this.disclaimer=t.disclaimer,this.info=t.info,this.alert=t.alert,i({nextContexts:e.context.next,data:this})}.bind(this)):i({nextContexts:void 0,data:this}),n=!1}.bind(this))}function t(){}var n=!0,i=null,o=null,a={details:null,options:[]},r=null,s=null,c={effectiveDate:null,referenceId:null,sourceBalance:[],processingDate:null},l={actions:[],detailsList:null,historyList:null,disclaimer:null,info:null};return{accountKey:i,category:o,actions:a,description:r,maskedAccount:s,details:l,confirmation:c,refreshDetails:e,getExtendedHistory:t}}t.exports=i},{}],13:[function(e,t,n){function i(){this.requiresUpdate=!0,this.accounts=[],this.emptyAllAccounts=function(){this.accounts.splice(0)},this.addAccount=function(e){if(null==this.findByAccountKey(e.accountKey)){var t=new o;t.accountKey=e.accountKey,t.category=e.category,e.actions&&(e.actions.details&&(t.actions.details=e.actions.details),e.actions.options&&(t.actions.options=e.actions.options)),t.description=e.description,t.maskedAccount=e.maskedAccount,t.balances=e.balance,t.hideInSummary=e.hideInSummary,this.accounts.push(t)}},this.totalAccounts=function(){return this.accounts.length},this.findByAccountKey=function(e){for(var t=0;t<this.accounts.length;t++)if(this.accounts[t].accountKey==e)return this.accounts[t];return null},this.getAccounts=function(){return this.accounts}}var o=e("./AccountModel");t.exports=i},{"./AccountModel":12}],14:[function(e,t,n){function i(){function e(e,t){n[e]=t}function t(e){return n[e]}var n={},i={navigationMenu:[],pageMenu:{},settingsMenu:[],detailsOptions:{login:[]},dataRowMenu:{}};return{addContext:e,getContext:t,actionsMap:i}}t.exports=i},{}],15:[function(e,t,n){var i=e("./ActionContexts"),o=e("../Notifications/Models/Notifications"),a=e("./UserModel"),r=function(){this.user=new a,this.i18n=e("i18next-client"),this.i18n.init({lng:this.user.getUserLanguage(),fallbackLng:"en",detectLngFromHeaders:!0,useCookie:!1}),this.geti18n=function(e){this.i18n.init({lng:this.user.getUserLanguage(),fallbackLng:"en",detectLngFromHeaders:!0,useCookie:!1},function(){e()})};this.user.userLanguage.subscribe(function(e){this.i18n.setLng(e,function(e){}.bind(this))}.bind(this));this.usernameRules=null,this.passwordRules=null,this.actions=new i,this.actionsMap=this.actions.actionsMap,this.notifications=new o,this.infoData,this.getUser=function(){return this.user},this.setActionContext=function(e,t,n,i){n?(null==this.actionsMap[e][n]&&(this.actionsMap[e][n]=[]),i?t.weight=i:t.weight=0,this.actionsMap[e][n].push(t),this.actionsMap[e][n].sort(function(e,t){return e.weight-t.weight})):this.actionsMap[e].push(t)},this.getActionContext=function(e,t){return t?this.actionsMap[e][t]:this.actionsMap[e]}};t.exports=r},{"../Notifications/Models/Notifications":7,"./ActionContexts":14,"./UserModel":18,"i18next-client":2}],16:[function(e,t,n){function i(){this.subscribers=[],this.subscribe=function(e){return function(e){var t=this.subscribers,n=function(e){var n=e;return{dispose:function(){var e=t.indexOf(n);t.splice(e,1)}}}(e);return t.push(e),n}.bind(this)(e)},this.notifySubscribers=function(e,t){this.subscribers.forEach(function(n){n(e,t)})}}t.exports=i},{}],17:[function(e,t,n){function i(e){o.call(this);var t=e;this.setValue=function(e){t=e,this.notifySubscribers(t)},this.getValue=function(){return t}}var o=e("./ObservableModelBase");i.prototype=o.prototype,t.exports=i},{"./ObservableModelBase":16}],18:[function(e,t,n){function i(){function e(){var e=BankingJS.getAppContext().getUser().userEvents.timeoutSession;e&&e.forEach(function(e){e.execute()}),this.clearSession}this.loggedIn=!1,this.loggedInAcceptedTerms=new a(!1),this.cardSaved=!1,this.userLanguage=new a(""),this.isPilotUser=!1,this.hasUniversalAccount=!1,this.isRcp3User=!1,this.username="",this.accounts=new o,this.userEvents={timeoutSession:[]},this.paymentId=null,this.paymentType=null,this.agreementUrl=null,this.bannerMessageRequired=!1,this.siteBranding="scotiabank",this.purpose="",this.isUniversalAccessDisabled=!1,this.loginPageLoaded=!1,this.path="",this.cardExpired=!1,this.ignorePasswordChange="false",this.enrolement="false",this.mock=!1,this.maskedPhone=null,this.maskedEmail=null,this.displayPageTitle=BankingJS.Utilities.DataBinder.createBinding(!1),this.pageTitle=null,this.nonceToken=null,this.enableReCaptcha=BankingJS.Utilities.DataBinder.createBinding(!1),this.dataLoaded=BankingJS.Utilities.DataBinder.createBinding(""),this.getAccounts=function(){return this.accounts},this.getUserLanguage=function(){var e=BankingJS.Utilities.Storage.retrieveObjectData("scotiaLanguage");return e?e:this.userLanguage.getValue()},this.getPilotUser=function(){return this.isPilotUser},this.getUsername=function(){return this.username},this.getPath=function(){return this.path},this.getPurpose=function(){return this.purpose},this.getHasUniversalAccount=function(){return this.hasUniversalAccount},this.getIsRcpUser=function(){return this.isRcp3User},this.isUniversalAccessDisabled=function(){return this.isUniversalAccessDisabled},this.isLoggedIn=function(){return this.loggedIn},this.isLoggedInAcceptedTerms=function(){return this.loggedInAcceptedTerms.getValue()},this.getMaskedCardNumber=function(){var e=BankingJS.Utilities.Storage.retrieveObjectData("savedUserKey");return e?e.cardNumber:""},this.getUserKey=function(){var e=BankingJS.Utilities.Storage.retrieveObjectData("savedUserKey");return e?e.userKey:""},this.isCardSaved=function(){var e=BankingJS.Utilities.Storage.retrieveObjectData("savedUserKey");return e?e.savedCard:this.cardSaved},this.getPaymentId=function(){return this.paymentId},this.getPaymentType=function(){return this.paymentType},this.getAgreementUrl=function(){return this.agreementUrl},this.getBannerMessageRequired=function(){return this.bannerMessageRequired},this.getBranding=function(){return this.siteBranding},this.isLoginPageLoaded=function(){return this.loginPageLoaded},this.isCardExpired=function(){return this.cardExpired},this.isPasswordIgnored=function(){return this.ignorePasswordChange},this.getEnrolement=function(){return this.enrolement},this.getMock=function(){return this.mock},this.getMaskedPhone=function(){return this.maskedPhone},this.getMaskedEmail=function(){return this.maskedEmail},this.getPageTitle=function(){return this.pageTitle},this.getNonceToken=function(){return this.nonceToken},this.setUserLanguage=function(e){this.userLanguage.setValue(e),BankingJS.Utilities.Storage.storeObjectData("scotiaLanguage",e)},this.setLoggedIn=function(e){this.loggedIn=e},this.setLoggedInAcceptedTerms=function(e){this.loggedInAcceptedTerms.setValue(e)},this.setPilot=function(e){this.isPilotUser=e?!0:!1},this.setUsername=function(e){this.username=e},this.setPurpose=function(e){this.purpose=e},this.setHasUniversalAccount=function(e){this.hasUniversalAccount=e},this.setIsRcp3User=function(e){this.isRcp3User=e},this.setIsUniversalAccessDisabled=function(e){this.isUniversalAccessDisabled=e},this.setCardSaved=function(e){this.cardSaved=e},this.saveCardNumberAndKey=function(e,t){this.isCardSaved()&&BankingJS.Utilities.Storage.storeObjectData("savedUserKey",{cardNumber:e,userKey:t,savedCard:this.cardSaved})},this.unsaveCard=function(){BankingJS.Utilities.Storage.deleteObjectData("savedUserKey")},this.setPaymentId=function(e){this.paymentId=e},this.setPaymentType=function(e){this.paymentType=e},this.setAgreementUrl=function(e){this.agreementUrl=e},this.setBannerMessageRequired=function(e){this.bannerMessageRequired=e},this.setBranding=function(e){this.siteBranding=""!=e?e:"scotiabank"},this.setPath=function(e){this.path=e},this.setLoginPageLoaded=function(e){this.loginPageLoaded=e},this.setCardExpired=function(e){this.cardExpired=e},this.setIsPasswordIgnored=function(e){this.ignorePasswordChange=e},this.setEnrolement=function(e){this.enrolement=e},this.setMock=function(e){this.mock=e},this.setMaskedPhone=function(e){this.maskedPhone=e},this.setMaskedEmail=function(e){this.maskedEmail=e},this.setPageTitle=function(e){this.pageTitle=e},this.setNonceToken=function(e){this.nonceToken=e},this.userTimeoutSession=function(){e()},this.loginUser=function(t,n,i,o){t&&n&&this.saveCardNumberAndKey(t,n),this.setAgreementUrl(i),this.setBannerMessageRequired(o),BankingJS.Utilities.SessionHandler.startTimer(e,6e5),this.setLoggedIn(!0)},this.userLeftSite=function(){BankingJS.Utilities.SessionHandler.startTimer(e,300)},this.addUserEvent=function(e,t){this.userEvents[e].push(t)},this.clearSession=function(){this.setLoggedIn(!1),this.setLoggedInAcceptedTerms(!1),this.setUsername(""),this.setBranding(""),this.setPilot(!1),this.setPaymentId(null),this.setPaymentType(null),this.accounts=new o,this.isCardSaved()||this.unsaveCard(),BankingJS.Utilities.SessionHandler.endTimer()}}var o=e("./AccountsModel"),a=e("./ObservableProperty");t.exports=i},{"./AccountsModel":13,"./ObservableProperty":17}],19:[function(e,t,n){function i(e,t){o.call(this),this.hasDetailAction=!1;var n,i;e&&e.action&&(n=BankingJS.getAppContext().actions.getContext(e.action),n&&(this.hasDetailAction=!0,i=e.params||{})),this.openDetailsAction=function(e){if(n){if(e)for(var t in e)i[t]=e[t];n.execute(i)}}}var o=e("./ViewModelBase");i.prototype=o.prototype,t.exports=i},{"./ViewModelBase":20}],20:[function(e,t,n){var i=function(e){this.showNavigationHeader=!0,this.isLoading=BankingJS.Utilities.DataBinder.createBinding(),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1)};t.exports=i},{}],21:[function(e,t,n){function i(){function e(){if(e.prototype._cachedResult)return e.prototype._cachedResult;var t=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,n="undefined"!=typeof InstallTrigger,i=/constructor/i.test(window.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===e.toString()}(!window.safari||safari.pushNotification),o=!!document.documentMode,a=!o&&!!window.StyleMedia,r=!!window.chrome&&!!window.chrome.webstore;(r||t)&&!!window.CSS;return e.prototype._cachedResult=t?"Opera":n?"Firefox":i?"Safari":r?"Chrome":o?"MSIE":a?"Edge":"Don't know"}function t(){var e=navigator.userAgent,t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],n="";return/trident/i.test(t[1])?(n=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"MSIE",version:n[1]||""}):"Chrome"===t[1]&&(n=e.match(/\bOPR|Edge\/(\d+)/),null!=n)?{name:"Opera",version:n[1]}:(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(n=e.match(/version\/(\d+)/i))&&t.splice(1,1,n[1]),{name:t[0],version:t[1]})}function n(){var n=e(),i=t();if(n==i.name&&("Firefox"==n&&parseInt(i.version)<27||"MSIE"==n&&parseInt(i.version)<11||"Safari"==n&&parseInt(i.version)<7)){var o=BankingJS.getAppContext(),a=o.i18n,r=a.lng().substr(0,2);"fr"==r?$("#browser-warning-frame").load("./resources/browser_warning_fr.html"):$("#browser-warning-frame").load("./resources/browser_warning_en.html")}}return{checkBrowser:n}}t.exports=new i},{}],22:[function(e,t,n){function i(){this.newInputField=function(e,t){var n={inputVal:BankingJS.Utilities.KnockOut.isObservable(e)?e:BankingJS.Utilities.DataBinder.createBinding(e),isValid:BankingJS.Utilities.DataBinder.createBinding(t),rules:BankingJS.Utilities.DataBinder.createArrayBinding([]),secondaryRules:BankingJS.Utilities.DataBinder.createBinding([])};return n},this.newCardVerificationField=function(e,t,n){var i={cvv2:BankingJS.Utilities.KnockOut.isObservable(e)?e:BankingJS.Utilities.DataBinder.createBinding(e),expiryDate:BankingJS.Utilities.KnockOut.isObservable(t)?t:BankingJS.Utilities.DataBinder.createBinding(t),isValid:BankingJS.Utilities.DataBinder.createBinding(n)};return i},this.newDropdownField=function(e,t){var n={options:e?e:BankingJS.Utilities.DataBinder.createBinding([]),selectedVal:BankingJS.Utilities.DataBinder.createBinding(""),isValid:t?BankingJS.Utilities.DataBinder.createBinding(t):BankingJS.Utilities.DataBinder.createBinding(!1)};return n},this.newDateField=function(e,t,n,i){var o={day:BankingJS.Utilities.KnockOut.isObservable(e)?e:BankingJS.Utilities.DataBinder.createBinding(e),month:BankingJS.Utilities.KnockOut.isObservable(t)?t:BankingJS.Utilities.DataBinder.createBinding(t),year:BankingJS.Utilities.KnockOut.isObservable(n)?n:BankingJS.Utilities.DataBinder.createBinding(n),isValid:BankingJS.Utilities.DataBinder.createBinding(i)};return o},this.newCheckboxField=function(e,t,n){var i={checkboxList:e?e:BankingJS.Utilities.DataBinder.createBinding([]),selectedVals:BankingJS.Utilities.DataBinder.createBinding(""),isValid:n?BankingJS.Utilities.DataBinder.createBinding(n):BankingJS.Utilities.DataBinder.createBinding(!1)};return i},this.newRadioField=function(e,t,n){var i={radioboxList:e?e:BankingJS.Utilities.DataBinder.createBinding([]),selectedVals:BankingJS.Utilities.DataBinder.createBinding(""),isValid:n?BankingJS.Utilities.DataBinder.createBinding(n):BankingJS.Utilities.DataBinder.createBinding(!1)};return i},this.newSubmitButton=function(e,t,n){var i={dependentVars:e?e:[],labelText:t,submitEnabled:BankingJS.Utilities.DataBinder.createBinding(n?!0:!1)};return i}}t.exports=new i},{}],23:[function(e,t,n){var i=function(){function e(e){var t=e;return function(e){return void 0!=e&&(t=e),t}}function t(){return[]}return{createBinding:e,createArrayBinding:t}}();t.exports=i},{}],24:[function(e,t,n){function i(){function e(){t&&clearTimeout(t),n&&i&&(t=setTimeout(n,i),o=(new Date).getTime())}var t,n,i,o;this.startTimer=function(o,a){t=void 0,n=o,i=a,e()},this.resetTimer=function(){var t=(new Date).getTime();o&&i&&t-o>i?n():e()},this.endTimer=function(){t&&(clearTimeout(t),t=void 0,n=void 0,i=void 0)}}t.exports=new i},{}],25:[function(e,t,n){function i(){this.getTypeForAMoneyInput=function(){return navigator.userAgent.match(/SAMSUNG|SGH-[I|N|T]|GT-[I|P|N]|SM-[N|P|T|Z]|SHV-E|SCH-[I|J|R|S]|SPH-L/i)?"text":"number"},this.addSlashesForRegEx=function(e){var t=e?e+"":"";return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},this.addSlashesForRegExDouble=function(e){var t=e?e+"":"";return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\\\$1")},this.getLocaleAmount=function(e,t,n){var i=n.substr(0,2),o="CAD"===t?"":t;return"fr"===i?Number(e).toFixed(2).toLocaleString(i+"-CA",{minimumFractionDigits:2}).replace(".",",")+" $ "+o:"$"+Number(e).toFixed(2).toLocaleString(i+"-CA",{minimumFractionDigits:2})+" "+o},this.formatDecimal=function(e,t){return Number(e).toFixed(2)},this.differenceA=function(e,t){for(var n=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&n.push(e[i]);return n},this.compactArray=function(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var o=e[t];o&&i.push(o)}return i},this.generateId=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;e>i;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t};var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#x2F;"};this.escapeHTML=function(t){return String(t).replace(/[&<>"'\/]/g,function(t){return e[t]})},this.getUrlParameter=function(e){if(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return t?t[1]||null:null}return null},this.startsWith=function(e){return 0==this.indexOf(e)},this.isScotiaCard=function(e){return!isNaN(e)&&"4536"===e.substr(0,4)},this.isUsername=function(e){return isNaN(e)},this.isCardNumber=function(e){return!isNaN(e)&&!/[A-Za-z]/.test(e)},this.getTfaPurposeForCurrentUser=function(e){var t=e.getPurpose(),n=null;switch(t){case"ACTIVATE":n="Enrollment";break;case"RECOVER":n="RecoverPassword";break;case"RECOVERUSERID":n="RecoverUserName";break;default:n=null}return n},this.buildQueryStringForParams=function(e){var t="";if(e){t="/?";for(var n in e){var i=n+"="+e[n];t+="/?"===t?i:"&"+i}}return t}}t.exports=new i},{}]},{},[1])(1)}),function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),exports):"function"==typeof define&&define.amd?define("knockout-mapping",["knockout","exports"],e):e(ko,ko.mapping={})}(function(e,t){function n(e,t){for(var n={},i=e.length-1;i>=0;--i)n[e[i]]=e[i];for(var i=t.length-1;i>=0;--i)n[t[i]]=t[i];var o=[];for(var a in n)o.push(n[a]);return o}function i(e,o){var a;for(var r in o)if(o.hasOwnProperty(r)&&o[r])if(a=t.getType(e[r]),r&&e[r]&&"array"!==a&&"string"!==a)i(e[r],o[r]);else{var s="array"===t.getType(e[r])&&"array"===t.getType(o[r]);s?e[r]=n(e[r],o[r]):e[r]=o[r]}}function o(e,t){var n={};return i(n,e),i(n,t),n}function a(e,t){for(var n=o({},e),i=B.length-1;i>=0;i--){var a=B[i];n[a]&&(n[""]instanceof Object||(n[""]={}),n[""][a]=n[a],delete n[a])}return t&&(n.ignore=r(t.ignore,n.ignore),n.include=r(t.include,n.include),n.copy=r(t.copy,n.copy),n.observe=r(t.observe,n.observe)),n.ignore=r(n.ignore,C.ignore),n.include=r(n.include,C.include),n.copy=r(n.copy,C.copy),n.observe=r(n.observe,C.observe),n.mappedProperties=n.mappedProperties||{},n.copiedProperties=n.copiedProperties||{},n}function r(n,i){return"array"!==t.getType(n)&&(n="undefined"===t.getType(n)?[]:[n]),"array"!==t.getType(i)&&(i="undefined"===t.getType(i)?[]:[i]),e.utils.arrayGetDistinctValues(n.concat(i))}function s(t,n){var i=e.dependentObservable;e.dependentObservable=function(n,i,o){o=o||{},n&&"object"==typeof n&&(o=n);var a=o.deferEvaluation,r=!1,s=function(n){var i=e.dependentObservable;e.dependentObservable=k;var o=e.isWriteableObservable(n);e.dependentObservable=i;var a=k({read:function(){return r||(e.utils.arrayRemoveItem(t,n),r=!0),n.apply(n,arguments)},write:o&&function(e){return n(e)},deferEvaluation:!0});return b&&(a._wrapper=!0),a.__DO=n,a};o.deferEvaluation=!0;var c=new k(n,i,o);return a||(c=s(c),t.push(c)),c},e.dependentObservable.fn=k.fn,e.computed=e.dependentObservable;var o=n();return e.dependentObservable=i,e.computed=e.dependentObservable,o}function c(n,i,a,r,u,g,h){var v="array"===t.getType(e.utils.unwrapObservable(i));if(g=g||"",t.isMapped(n)){var b=e.utils.unwrapObservable(n)[x];a=o(b,a)}var k={data:i,parent:h||u},A=function(){return a[r]&&a[r].create instanceof Function},B=function(t){return s(y,function(){return e.utils.unwrapObservable(u)instanceof Array?a[r].create({data:t||k.data,parent:k.parent,skip:w}):a[r].create({data:t||k.data,parent:k.parent})})},M=function(){return a[r]&&a[r].update instanceof Function},C=function(t,n){var i={data:n||k.data,parent:k.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(i.observable=t),a[r].update(i)},U=S.get(i);if(U)return U;if(r=r||"",v){var J=[],_=!1,E=function(e){return e};a[r]&&a[r].key&&(E=a[r].key,_=!0),e.isObservable(n)||(n=e.observableArray([]),n.mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===E(e)};return n.remove(function(e){return t(E(e))})},n.mappedRemoveAll=function(t){var i=p(t,E);return n.remove(function(t){return-1!=e.utils.arrayIndexOf(i,E(t))})},n.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===E(e)};return n.destroy(function(e){return t(E(e))})},n.mappedDestroyAll=function(t){var i=p(t,E);return n.destroy(function(t){return-1!=e.utils.arrayIndexOf(i,E(t))})},n.mappedIndexOf=function(t){var i=p(n(),E),o=E(t);return e.utils.arrayIndexOf(i,o)},n.mappedGet=function(e){return n()[n.mappedIndexOf(e)]},n.mappedCreate=function(t){if(-1!==n.mappedIndexOf(t))throw new Error("There already is an object with the key that you specified.");var i=A()?B(t):t;if(M()){var o=C(i,t);e.isWriteableObservable(i)?i(o):i=o}return n.push(i),i});var T=p(e.utils.unwrapObservable(n),E).sort(),R=p(i,E);_&&R.sort();var O,N,F=e.utils.compareArrays(T,R),D={},P=e.utils.unwrapObservable(i),L={},V=!0;for(O=0,N=P.length;N>O;O++){var I=E(P[O]);if(void 0===I||I instanceof Object){V=!1;break}L[I]=P[O]}var q=[],j=0;for(O=0,N=F.length;N>O;O++){var $,I=F[O],H=g+"["+O+"]";switch(I.status){case"added":var W=V?L[I.value]:d(e.utils.unwrapObservable(i),I.value,E);$=c(void 0,W,a,r,n,H,u),A()||($=e.utils.unwrapObservable($));var z=l(e.utils.unwrapObservable(i),W,D);$===w?j++:q[z-j]=$,D[z]=!0;break;case"retained":var W=V?L[I.value]:d(e.utils.unwrapObservable(i),I.value,E);$=d(n,I.value,E),c($,W,a,r,n,H,u);var z=l(e.utils.unwrapObservable(i),W,D);q[z]=$,D[z]=!0;break;case"deleted":$=d(n,I.value,E)}J.push({event:I.status,item:$})}n(q),a[r]&&a[r].arrayChanged&&e.utils.arrayForEach(J,function(e){a[r].arrayChanged(e.event,e.item)})}else if(m(i)){if(n=e.utils.unwrapObservable(n),!n){if(A()){var Q=B();return M()&&(Q=C(Q)),Q}if(M())return C(Q);n={}}if(M()&&(n=C(n)),S.save(i,n),M())return n;f(i,function(t){var o=g.length?g+"."+t:t;if(-1==e.utils.arrayIndexOf(a.ignore,o)){if(-1!=e.utils.arrayIndexOf(a.copy,o))return void(n[t]=i[t]);if("object"!=typeof i[t]&&"array"!=typeof i[t]&&a.observe.length>0&&-1==e.utils.arrayIndexOf(a.observe,o))return n[t]=i[t],void(a.copiedProperties[o]=!0);var r=S.get(i[t]),s=c(n[t],i[t],a,t,n,o,n),l=r||s;if(a.observe.length>0&&-1==e.utils.arrayIndexOf(a.observe,o))return n[t]=l(),void(a.copiedProperties[o]=!0);e.isWriteableObservable(n[t])?(l=e.utils.unwrapObservable(l),n[t]()!==l&&n[t](l)):(l=void 0===n[t]?l:e.utils.unwrapObservable(l),n[t]=l),a.mappedProperties[o]=!0}})}else switch(t.getType(i)){case"function":M()?e.isWriteableObservable(i)?(i(C(i)),n=i):n=C(i):n=i;break;default:if(e.isWriteableObservable(n)){if(M()){var K=C(n);return n(K),K}var K=e.utils.unwrapObservable(i);return n(K),K}var G=A()||M();if(n=A()?B():e.observable(e.utils.unwrapObservable(i)),M()&&n(C(n)),G)return n}return n}function l(e,t,n){for(var i=0,o=e.length;o>i;i++)if(n[i]!==!0&&e[i]===t)return i;return null}function u(n,i){var o;return i&&(o=i(n)),"undefined"===t.getType(o)&&(o=n),e.utils.unwrapObservable(o)}function d(t,n,i){t=e.utils.unwrapObservable(t);for(var o=0,a=t.length;a>o;o++){var r=t[o];if(u(r,i)===n)return r}throw new Error("When calling ko.update*, the key '"+n+"' was not found!")}function p(t,n){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return n?u(e,n):e})}function f(e,n){if("array"===t.getType(e))for(var i=0;i<e.length;i++)n(i);else for(var o in e)n(o)}function m(e){var n=t.getType(e);return("object"===n||"array"===n)&&null!==e}function g(e,n,i){var o=e||"";return"array"===t.getType(n)?e&&(o+="["+i+"]"):(e&&(o+="."),o+=i),o}function h(){var t=[],n=[];this.save=function(i,o){var a=e.utils.arrayIndexOf(t,i);a>=0?n[a]=o:(t.push(i),n.push(o))},this.get=function(i){var o=e.utils.arrayIndexOf(t,i),a=o>=0?n[o]:void 0;return a}}function v(){var e={},t=function(t){var n;try{n=t}catch(i){n="$$$"}var o=e[n];return void 0===o&&(o=new h,e[n]=o),o};this.save=function(e,n){t(e).save(e,n)},this.get=function(e){return t(e).get(e)}}var y,S,b=!0,x="__ko_mapping__",k=e.dependentObservable,A=0,B=["create","update","key","arrayChanged"],w={},M={
include:["_destroy"],ignore:[],copy:[],observe:[]},C=M;t.isMapped=function(t){var n=e.utils.unwrapObservable(t);return n&&n[x]},t.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{A++||(y=[],S=new v);var t,n;2==arguments.length&&(arguments[1][x]?n=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],n=arguments[2]),n&&(t=o(t,n[x])),t=a(t);var i=c(n,e,t);if(n&&(i=n),!--A)for(;y.length;){var r=y.pop();r&&(r(),r.__DO.throttleEvaluation=r.throttleEvaluation)}return i[x]=o(i[x],t),i}catch(s){throw A=0,s}},t.fromJSON=function(n){var i=e.utils.parseJson(n);return arguments[0]=i,t.fromJS.apply(this,arguments)},t.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(n,i){if(C||t.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(C.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(C.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(C.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return i=a(i,n[x]),t.visitModel(n,function(t){return e.utils.unwrapObservable(t)},i)},t.toJSON=function(n,i){var o=t.toJS(n,i);return e.utils.stringifyJson(o)},t.defaultOptions=function(){return arguments.length>0?void(C=arguments[0]):C},t.resetDefaultOptions=function(){C={include:M.include.slice(0),ignore:M.ignore.slice(0),copy:M.copy.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(n,i,o){o=o||{},o.visitedObjects=o.visitedObjects||new v;var r,s=e.utils.unwrapObservable(n);if(!m(s))return i(n,o.parentName);o=a(o,s[x]),i(n,o.parentName),r="array"===t.getType(s)?[]:{},o.visitedObjects.save(n,r);var c=o.parentName;return f(s,function(n){if(!o.ignore||-1==e.utils.arrayIndexOf(o.ignore,n)){var a=s[n];if(o.parentName=g(c,s,n),-1!==e.utils.arrayIndexOf(o.copy,n)||-1!==e.utils.arrayIndexOf(o.include,n)||!s[x]||!s[x].mappedProperties||s[x].mappedProperties[n]||!s[x].copiedProperties||s[x].copiedProperties[n]||"array"===t.getType(s)){switch(t.getType(e.utils.unwrapObservable(a))){case"object":case"array":case"undefined":var l=o.visitedObjects.get(a);r[n]="undefined"!==t.getType(l)?l:t.visitModel(a,i,o);break;default:r[n]=i(a,o.parentName)}}}}),r}}),define("bankingjsinit",["promise","network","navigator","storage","analytics","databinder","bankingjs","knockout","knockout-mapping"],function(e,t,n,i,o,a,r,s,c){return window.BankingJS=new r(e,t,n,a,i,o,s,c),window.BankingJS}),function(){var e=function(e){function t(e,t){if(e.indexOf)return e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function n(e,n){var i=t(e,n);-1!==i&&e.splice(i,1)}function i(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function o(e){return i(e,"RegExp")}function a(e){return i(e,"Array")}function r(e){return"function"==typeof e}function s(e){var t;return t=null===e||"null"===e?null:"true"===e?!0:"false"===e?!1:e===m||"undefined"===e?m:""===e||isNaN(e)?e:parseFloat(e)}function c(e){for(var t=e.length,n=[];t--;)n[t]=s(e[t]);return n}function l(e,t){for(var n,i,o=(e||"").replace("?","").split("&"),a=o.length,r={};a--;)n=o[a].split("="),i=t?s(n[1]):n[1],r[n[0]]="string"==typeof i?decodeURIComponent(i):i;return r}function u(){this.bypassed=new e.Signal,this.routed=new e.Signal,this._routes=[],this._prevRoutes=[],this._piped=[],this.resetState()}function d(t,n,i,a){var r=o(t),s=a.patternLexer;this._router=a,this._pattern=t,this._paramsIds=r?null:s.getParamIds(t),this._optionalParamsIds=r?null:s.getOptionalParamsIds(t),this._matchRegexp=r?t:s.compilePattern(t,a.ignoreCase),this.matched=new e.Signal,this.switched=new e.Signal,n&&this.matched.add(n),this._priority=i||0}var p,f,m;return f=""===/t(.+)?/.exec("t")[1],u.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(){return new u},addRoute:function(e,t,n){var i=new d(e,t,n,this);return this._sortedInsert(i),i},removeRoute:function(e){n(this._routes,e),e._destroy()},removeAllRoutes:function(){for(var e=this.getNumRoutes();e--;)this._routes[e]._destroy();this._routes.length=0},parse:function(e,t){if(e=e||"",t=t||[],this.ignoreState||e!==this._prevMatchedRequest&&e!==this._prevBypassedRequest){var n,i=this._getMatchedRoutes(e),o=0,a=i.length;if(a)for(this._prevMatchedRequest=e,this._notifyPrevRoutes(i,e),this._prevRoutes=i;a>o;)n=i[o],n.route.matched.dispatch.apply(n.route.matched,t.concat(n.params)),n.isFirst=!o,this.routed.dispatch.apply(this.routed,t.concat([e,n])),o+=1;else this._prevBypassedRequest=e,this.bypassed.dispatch.apply(this.bypassed,t.concat([e]));this._pipeParse(e,t)}},_notifyPrevRoutes:function(e,t){for(var n,i=0;n=this._prevRoutes[i++];)n.route.switched&&this._didSwitch(n.route,e)&&n.route.switched.dispatch(t)},_didSwitch:function(e,t){for(var n,i=0;n=t[i++];)if(n.route===e)return!1;return!0},_pipeParse:function(e,t){for(var n,i=0;n=this._piped[i++];)n.parse(e,t)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,n=t.length;do--n;while(t[n]&&e._priority<=t[n]._priority);t.splice(n+1,0,e)},_getMatchedRoutes:function(e){for(var t,n=[],i=this._routes,o=i.length;(t=i[--o])&&((!n.length||this.greedy||t.greedy)&&t.match(e)&&n.push({route:t,params:t._getParamsArray(e)}),this.greedyEnabled||!n.length););return n},pipe:function(e){this._piped.push(e)},unpipe:function(e){n(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},p=new u,p.VERSION="0.12.0",p.NORM_AS_ARRAY=function(e,t){return[t.vals_]},p.NORM_AS_OBJECT=function(e,t){return[t]},d.prototype={greedy:!1,rules:void 0,match:function(e){return e=e||"",this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t,n=this.rules,i=this._getParamsObject(e);for(t in n)if("normalize_"!==t&&n.hasOwnProperty(t)&&!this._isValidParam(e,t,i))return!1;return!0},_isValidParam:function(e,n,i){var s=this.rules[n],c=i[n],l=!1,u=0===n.indexOf("?");return null==c&&this._optionalParamsIds&&-1!==t(this._optionalParamsIds,n)?l=!0:o(s)?(u&&(c=i[n+"_"]),l=s.test(c)):a(s)?(u&&(c=i[n+"_"]),l=this._isValidArrayRule(s,c)):r(s)&&(l=s(c,e,i)),l},_isValidArrayRule:function(e,n){if(!this._router.ignoreCase)return-1!==t(e,n);"string"==typeof n&&(n=n.toLowerCase());for(var i,o,a=e.length;a--;)if(i=e[a],o="string"==typeof i?i.toLowerCase():i,o===n)return!0;return!1},_getParamsObject:function(e){for(var n,i,o=this._router.shouldTypecast,a=this._router.patternLexer.getParamValues(e,this._matchRegexp,o),r={},c=a.length;c--;)i=a[c],this._paramsIds&&(n=this._paramsIds[c],0===n.indexOf("?")&&i&&(r[n+"_"]=i,i=l(i,o),a[c]=i),f&&""===i&&-1!==t(this._optionalParamsIds,n)&&(i=void 0,a[c]=i),r[n]=i),r[c]=i;return r.request_=o?s(e):e,r.vals_=a,r},_getParamsArray:function(e){var t,n=this.rules?this.rules.normalize_:null;return n=n||this._router.normalizeFn,t=n&&r(n)?n(e,this._getParamsObject(e)):this._getParamsObject(e).vals_},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t))throw new Error("Generated string doesn't validate against `Route.rules`.");return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},u.prototype.patternLexer=function(){function e(){var e,t;for(e in f)f.hasOwnProperty(e)&&(t=f[e],t.id="__CR_"+e+"__",t.save="save"in t?t.save.replace("{{id}}",t.id):t.id,t.rRestore=new RegExp(t.id,"g"))}function t(e,t){var n,i=[];for(e.lastIndex=0;n=e.exec(t);)i.push(n[1]);return i}function n(e){return t(p,e)}function i(e){return t(f.OP.rgx,e)}function o(e,t){return e=e||"",e&&(v===m?e=e.replace(u,""):v===h&&(e=e.replace(d,"")),e=a(e,"rgx","save"),e=e.replace(l,"\\$&"),e=a(e,"rRestore","res"),v===m&&(e="\\/?"+e)),v!==g&&(e+="\\/?"),new RegExp("^"+e+"$",t?"i":"")}function a(e,t,n){var i,o;for(o in f)f.hasOwnProperty(o)&&(i=f[o],e=e.replace(i[t],i[n]));return e}function r(e,t,n){var i=t.exec(e);return i&&(i.shift(),n&&(i=c(i))),i}function s(e,t){if("string"!=typeof e)throw new Error("Route pattern should be a string.");var n=function(e,n){var i;if(n="?"===n.substr(0,1)?n.substr(1):n,null!=t[n]){if("object"==typeof t[n]){var o=[];for(var a in t[n])o.push(encodeURI(a+"="+t[n][a]));i="?"+o.join("&")}else i=String(t[n]);if(-1===e.indexOf("*")&&-1!==i.indexOf("/"))throw new Error('Invalid value "'+i+'" for segment "'+e+'".')}else{if(-1!==e.indexOf("{"))throw new Error("The segment "+e+" is required.");i=""}return i};return f.OS.trail||(f.OS.trail=new RegExp("(?:"+f.OS.id+")+$")),e.replace(f.OS.rgx,f.OS.save).replace(p,n).replace(f.OS.trail,"").replace(f.OS.rRestore,"/")}var l=/[\\.+*?\^$\[\](){}\/'#]/g,u=/^\/|\/$/g,d=/\/$/g,p=/(?:\{|:)([^}:]+)(?:\}|:)/g,f={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},m=1,g=2,h=3,v=m;return e(),{strict:function(){v=g},loose:function(){v=m},legacy:function(){v=h},getParamIds:n,getOptionalParamsIds:i,getParamValues:r,compilePattern:o,interpolate:s}}(),p};"function"==typeof define&&define.amd?define("crossroads",["signals"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("signals")):window.crossroads=e(window.signals)}(),/**
 * @license RequireJS text 2.0.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */
define("text",["module"],function(e){var t,n,i,o,a,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,u=l&&location.protocol&&location.protocol.replace(/\:/,""),d=l&&location.hostname,p=l&&(location.port||void 0),f={},m=e.config&&e.config()||{};return t={version:"2.0.14",strip:function(e){if(e){e=e.replace(s,"");var t=e.match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}return e},parseName:function(e){var t,n,i,o=!1,a=e.lastIndexOf("."),r=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!r||a>1)?(t=e.substring(0,a),n=e.substring(a+1)):t=e,i=n||t,a=i.indexOf("!"),-1!==a&&(o="strip"===i.substring(a+1),i=i.substring(0,a),n?n=i:t=i),{moduleName:t,ext:n,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,o){var a,r,s,c=t.xdRegExp.exec(e);return c?(a=c[2],r=c[3],r=r.split(":"),s=r[1],r=r[0],!(a&&a!==n||r&&r.toLowerCase()!==i.toLowerCase()||(s||r)&&s!==o)):!0},finishLoad:function(e,n,i,o){i=n?t.strip(i):i,m.isBuild&&(f[e]=i),o(i)},load:function(e,n,i,o){if(o&&o.isBuild&&!o.inlineText)return void i();m.isBuild=o&&o.isBuild;var a=t.parseName(e),r=a.moduleName+(a.ext?"."+a.ext:""),s=n.toUrl(r),c=m.useXhr||t.useXhr;
//!strip part to avoid file system issues.
return 0===s.indexOf("empty:")?void i():void(!l||c(s,u,d,p)?t.get(s,function(n){t.finishLoad(e,a.strip,n,i)},function(e){i.error&&i.error(e)}):n([r],function(e){t.finishLoad(a.moduleName+"."+a.ext,a.strip,e,i)}))},write:function(e,n,i,o){if(f.hasOwnProperty(n)){var a=t.jsEscape(f[n]);i.asModule(e+"!"+n,"define(function () { return '"+a+"';});\n")}},writeFile:function(e,n,i,o,a){var r=t.parseName(n),s=r.ext?"."+r.ext:"",c=r.moduleName+s,l=i.toUrl(r.moduleName+s)+".js";t.load(c,i,function(n){var i=function(e){return o(l,e)};i.asModule=function(e,t){return o.asModule(e,l,t)},t.write(e,c,i,a)},a)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(n=require.nodeRequire("fs"),t.get=function(e,t,i){try{var o=n.readFileSync(e,"utf8");"\ufeff"===o[0]&&(o=o.substring(1)),t(o)}catch(a){i&&i(a)}}):"xhr"===m.env||!m.env&&t.createXhr()?t.get=function(e,n,i,o){var a,r=t.createXhr();if(r.open("GET",e,!0),o)for(a in o)o.hasOwnProperty(a)&&r.setRequestHeader(a.toLowerCase(),o[a]);m.onXhr&&m.onXhr(r,e),r.onreadystatechange=function(t){var o,a;4===r.readyState&&(o=r.status||0,o>399&&600>o?(a=new Error(e+" HTTP status: "+o),a.xhr=r,i&&i(a)):n(r.responseText),m.onXhrComplete&&m.onXhrComplete(r,e))},r.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,i,o="utf-8",a=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),o)),c="";try{for(n=new java.lang.StringBuffer,i=s.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=s.readLine());)n.append(r),n.append(i);c=String(n.toString())}finally{s.close()}t(c)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in i,t.get=function(e,t){var n,r,s,c={};a&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),n.init(s,1,0,!1),r=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),r.init(n,"utf-8",n.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),c),r.close(),n.close(),t(c.value)}catch(l){throw new Error((s&&s.path||"")+": "+l)}}),t}),define("json",["text"],function(text){var parseJSON=JSON&&JSON.parse?JSON.parse:function(val){return eval("("+val+")")};return{load:function(e,t,n,i){i.isBuild?n(""):t(["text!"+e],function(e){n(parseJSON(e))})},loadFromFileSystem:function(e,t){var n=nodeRequire("fs"),i=require.toUrl(t),o=n.readFileSync(i).toString();return o='define("'+e+"!"+t+'", function () {\nreturn '+o+";\n});\n"},write:function(e,t,n){n(this.loadFromFileSystem(e,t))}}}),define("json!app/features.json",function(){return{authentication:{coreFeatureName:"Authentication"},dcv:{componentUrl:"components/authentication/dcv/dcv",routerUrl:"authentication/dcv"},mfa:{componentUrl:"components/authentication/mfa/mfa",routerUrl:"authentication/mfa"},"mfa-reset":{componentUrl:"components/user-management/mfa-reset/mfa-reset",routerUrl:"user-management/mfa-reset",coreFeatureName:"MFAReset"},"mfa-enrollment":{componentUrl:"components/user-management/mfa-enrollment/mfa-enrollment",routerUrl:"user-management/mfa-enrollment",coreFeatureName:"MFAEnrollment"},"mfa-lock":{componentUrl:"components/user-management/mfa-reset/mfa-lock/mfa-lock",routerUrl:"user-management/mfa-lock"},"mfa-registration":{componentUrl:"components/user-management/mfa-reset/mfa-registration/mfa-registration",routerUrl:"user-management/mfa-registration"},terms:{componentUrl:"components/authentication/terms/terms",routerUrl:"authentication/terms"},"e-access-agreement":{componentUrl:"components/authentication/e-access-agreement/e-access-agreement",routerUrl:"authentication/e-access-agreement"},"account-summary":{componentUrl:"components/accounts/summary/account-summary",routerUrl:"account/summary",coreFeatureName:"Summary"},"account-details":{componentUrl:"components/accounts/details/account-details",routerUrl:"account/details/{accountKey}",coreFeatureName:"Details"},"move-money":{componentUrl:"components/move-money/move-money/move-money",routerUrl:"move-money/move-money",coreFeatureName:"MoveMoney"},"transfer-funds":{componentUrl:"components/move-money/transfer-funds/transfer-funds",routerUrl:"move-money/transfer-funds",coreFeatureName:"Transfers"},"transfer-funds-confirm":{componentUrl:"components/move-money/transfer-funds/transfer-funds-confirm/transfer-funds-confirm",routerUrl:"move-money/transfer-funds-confirm"},"transfer-funds-complete":{componentUrl:"components/move-money/transfer-funds/transfer-funds-complete/transfer-funds-complete",routerUrl:"move-money/transfer-funds-complete"},"pay-bills":{componentUrl:"components/move-money/pay-bills/pay-bills",routerUrl:"move-money/pay-bills",coreFeatureName:"BillPayments"},"pay-bills-confirm":{componentUrl:"components/move-money/pay-bills/pay-bills-confirm/pay-bills-confirm",routerUrl:"move-money/pay-bills-confirm"},"pay-bills-complete":{componentUrl:"components/move-money/pay-bills/pay-bills-complete/pay-bills-complete",routerUrl:"move-money/pay-bills-complete"},"email-money-home":{componentUrl:"components/move-money/email-money-home/email-money-home",routerUrl:"move-money/email-money-home",coreFeatureName:"EmailMoneyHome"},"email-money-request":{componentUrl:"components/move-money/email-money-request/email-money-request",routerUrl:"move-money/email-money-request",coreFeatureName:"EmailMoneyRequest"},"email-money-request-confirm":{componentUrl:"components/move-money/email-money-request/email-money-request-confirm/email-money-request-confirm",routerUrl:"move-money/email-money-request-confirm"},"email-money-request-complete":{componentUrl:"components/move-money/email-money-request/email-money-request-complete/email-money-request-complete",routerUrl:"move-money/email-money-request-complete"},"email-money-fullfilled":{componentUrl:"components/move-money/email-money-fullfilled/email-money-fullfilled",routerUrl:"move-money/email-money-fullfilled",coreFeatureName:"EmailMoneyFullfilled"},"email-money-fullfilled-register":{componentUrl:"components/move-money/email-money-fullfilled/email-money-fullfilled-register",routerUrl:"move-money/email-money-fullfilled-register"},"email-money-fullfilled-terms":{componentUrl:"components/move-money/email-money-fullfilled/email-money-fullfilled-terms",routerUrl:"move-money/email-money-fullfilled-terms"},"email-money-fullfilled-confirm":{componentUrl:"components/move-money/email-money-fullfilled/email-money-fullfilled-confirm/email-money-fullfilled-confirm",routerUrl:"move-money/email-money-fullfilled-confirm"},"email-money-fullfilled-complete":{componentUrl:"components/move-money/email-money-fullfilled/email-money-fullfilled-complete/email-money-fullfilled-complete",routerUrl:"move-money/email-money-fullfilled-complete"},"email-money-fullfilled-decline-confirm":{componentUrl:"components/move-money/email-money-fullfilled/email-money-fullfilled-decline-confirm/email-money-fullfilled-decline-confirm",routerUrl:"move-money/email-money-fullfilled-decline-confirm"},"email-money-fullfilled-decline-complete":{componentUrl:"components/move-money/email-money-fullfilled/email-money-fullfilled-decline-complete/email-money-fullfilled-decline-complete",routerUrl:"move-money/email-money-fullfilled-decline-complete"},"email-money-first-time":{componentUrl:"components/move-money/email-money-home/email-money-first-time/email-money-first-time",routerUrl:"move-money/email-money-first-time"},"email-money-send":{componentUrl:"components/move-money/email-money-send/email-money-send",routerUrl:"move-money/email-money-send",coreFeatureName:"EmailMoneySend"},"email-money-send-confirm":{componentUrl:"components/move-money/email-money-send/email-money-send-confirm/email-money-send-confirm",routerUrl:"move-money/email-money-send-confirm"},"email-money-send-complete":{componentUrl:"components/move-money/email-money-send/email-money-send-complete/email-money-send-complete",routerUrl:"move-money/email-money-send-complete"},"email-money-receive":{componentUrl:"components/move-money/email-money-receive/email-money-receive",routerUrl:"move-money/email-money-receive",coreFeatureName:"EmailMoneyReceive"},"email-money-receive-register":{componentUrl:"components/move-money/email-money-receive/email-money-receive-register",routerUrl:"move-money/email-money-receive-register"},"email-money-receive-terms":{componentUrl:"components/move-money/email-money-receive/email-money-receive-terms",routerUrl:"move-money/email-money-receive-terms"},"email-money-receive-confirm":{componentUrl:"components/move-money/email-money-receive/email-money-receive-confirm/email-money-receive-confirm",routerUrl:"move-money/email-money-receive-confirm"},"email-money-receive-complete":{componentUrl:"components/move-money/email-money-receive/email-money-receive-complete/email-money-receive-complete",routerUrl:"move-money/email-money-receive-complete"},"email-money-decline-confirm":{componentUrl:"components/move-money/email-money-receive/email-money-decline-confirm/email-money-decline-confirm",routerUrl:"move-money/email-money-decline-confirm"},"email-money-decline-complete":{componentUrl:"components/move-money/email-money-receive/email-money-decline-complete/email-money-decline-complete",routerUrl:"move-money/email-money-decline-complete"},"western-union":{componentUrl:"components/move-money/western-union/western-union",routerUrl:"move-money/western-union",coreFeatureName:"WesternUnion"},"western-union-confirm":{componentUrl:"components/move-money/western-union/western-union-confirm/western-union-confirm",routerUrl:"move-money/western-union-confirm"},"western-union-terms":{componentUrl:"components/move-money/western-union/western-union-terms/western-union-terms",routerUrl:"move-money/western-union-terms"},"western-union-complete":{componentUrl:"components/move-money/western-union/western-union-complete/western-union-complete",routerUrl:"move-money/western-union-complete"},"replace-card":{componentUrl:"components/card-management/replace-card/replace-card",routerUrl:"card-management/replace-card",coreFeatureName:"ReplaceCard"},"activate-card":{componentUrl:"components/card-management/activate-card/activate-card",routerUrl:"card-management/activate-card",coreFeatureName:"ActivateCard"},"activate-select":{componentUrl:"components/user-management/activate/activate-select/activate-select",routerUrl:"user-management/activate-select"},"activate-tfa":{componentUrl:"components/user-management/activate/activate-tfa/activate-tfa",routerUrl:"user-management/activate-tfa"},"activate-tfa-landing":{componentUrl:"components/user-management/activate/activate-tfa-landing/activate-tfa-landing",routerUrl:"user-management/activate-tfa-landing"},"activate-landing":{componentUrl:"components/user-management/activate/activate-scotia-card/activate-scotia-card",routerUrl:"user-management/activate",coreFeatureName:"Activate"},"activate-complete":{componentUrl:"components/user-management/activate/activate-complete/activate-complete",routerUrl:"user-management/activate-complete"},"verification-code-verify":{componentUrl:"components/user-management/verification-code/verification-code-verify/verification-code-verify",routerUrl:"user-management/verification-code-verify",coreFeatureName:"VerificationCode"},"recover-userid-password":{componentUrl:"components/user-management/recover-userid-password/recover-userid-password",routerUrl:"user-management/recover",coreFeatureName:"RecoverUserIdPassword"},"recover-userid-by-account":{componentUrl:"components/user-management/recover-userid/recover-userid-by-account/recover-userid-select-account",routerUrl:"user-management/recover-userid/recover-userid-by-account",coreFeatureName:"RecoverUserId"},"recover-userid-by-scotiacard":{componentUrl:"components/user-management/recover-userid/recover-userid-by-scotiacard/recover-userid-by-scotiacard",routerUrl:"user-management/recover-userid-by-scotiacard"},"recover-userid-complete":{componentUrl:"components/user-management/recover-userid/recover-userid-complete/recover-userid-complete",routerUrl:"user-management/recover-userid/recover-userid-complete"},"recover-select":{componentUrl:"components/user-management/recover/recover-select/recover-select",routerUrl:"user-management/recover-password",coreFeatureName:"RecoverCredentials"},"recover-scotia-card":{componentUrl:"components/user-management/recover/recover-scotia-card/recover-scotia-card",routerUrl:"user-management/recover-scotia-card"},"recover-complete":{componentUrl:"components/user-management/recover/recover-complete/recover-complete",routerUrl:"user-management/recover-complete"},"user-management-options":{componentUrl:"components/user-management/user-management-options/user-management-options",routerUrl:"user-management/options",coreFeatureName:"ManageUserOptions"},"manage-username":{componentUrl:"components/user-management/manage-username/manage-username",routerUrl:"user-management/manage-username",coreFeatureName:"ManageUsername"},"manage-rcp3":{componentUrl:"components/user-management/manage-rcp3/manage-rcp3",routerUrl:"user-management/manage-rcp3",coreFeatureName:"ManageRcp3"},"recover-username":{componentUrl:"components/user-management/recover-credentials/recover-credentials",routerUrl:"user-management/recover-credentials",coreFeatureName:"ManageCredentials"},"reserve-username":{componentUrl:"components/user-management/reserve-username/reserve-username",routerUrl:"user-management/reserve-username",coreFeatureName:"ReserveUsername"},"recover-reserve-username":{componentUrl:"components/user-management/recover/recover-reserve-username/recover-reserve-username",routerUrl:"user-management/recover/recover-reserve-username"},"manage-password":{componentUrl:"components/user-management/manage-password/manage-password",routerUrl:"user-management/manage-password",coreFeatureName:"ManagePassword"},"manage-password-old":{componentUrl:"components/user-management/manage-password-old/manage-password-old",routerUrl:"user-management/manage-password-old",coreFeatureName:"ManagePasswordOld"},"temp-password":{componentUrl:"components/user-management/temp-password/temp-password",routerUrl:"user-management/temp-password",coreFeatureName:"TempPassword"},"contact-us":{componentUrl:"components/contact-us/contact-us",routerUrl:"contact-us",coreFeatureName:"ContactUs"},settings:{componentUrl:"components/settings/settings",routerUrl:"settings/settings",coreFeatureName:"Settings"},"abm-locator":{coreFeatureName:"ABMLocator"},"security-and-privacy":{coreFeatureName:"SecurityAndPrivacy"},"report-lost-card":{componentUrl:"components/report-lost-card/report-lost-card",routerUrl:"report-lost-card",coreFeatureName:"ReportLostCard"},"activate-message":{componentUrl:"components/user-management/activate/activate-message/activate-message",routerUrl:"user-management/activate-message"},"card-not-found":{componentUrl:"components/user-management/card-not-found/card-not-found",routerUrl:"user-management/card-not-found"},"dcv-lockout":{componentUrl:"components/authentication/dcv-lockout/dcv-lockout",routerUrl:"authentication/dcv-lockout"},"call-us":{componentUrl:"components/call-us/call-us",routerUrl:"call-us"},"service-unavailable":{componentUrl:"components/service-unavailable/service-unavailable",routerUrl:"service-unavailable"},"tfa-lockout-activate":{componentUrl:"components/user-management/tfa/tfa-lockout-activate/tfa-lockout-activate",routerUrl:"user-management/tfa-lockout-activate"}}}),define("app/router",["bankingjsinit","knockout","crossroads","hasher","json!./features.json"],function(e,t,n,i,o){function a(e){var i=this.currentRoute=t.observable({});t.utils.arrayForEach(e.routes,function(e){n.addRoute(e.url,function(n){i(t.utils.extend(n,e.params))})}),r()}function r(){function e(e,t){BankingJS.getAppContext().getUser().setPath(e);var i=e.indexOf("?")>=0?e.substring(0,e.indexOf("?")):e,o=i.split("/");o.length>1&&"account"===o[0]&&"details"===o[1]?window.ga("send","pageview","account/details"):window.ga("send","pageview",i),e.indexOf("brand=HW")>-1?(BankingJS.getAppContext().getUser().setBranding("HW"),$("<style>.red {color : #236192}</style>").appendTo("head")):e.indexOf("brand=")>-1&&BankingJS.getAppContext().getUser().setBranding("SC"),e.indexOf("setLng=fr")>-1?BankingJS.getAppContext().getUser().setUserLanguage("fr"):e.indexOf("setLng=en")>-1&&BankingJS.getAppContext().getUser().setUserLanguage("en"),BankingJS.Utilities.SessionHandler.resetTimer(),BankingJS.getAppContext().notifications.getNumberOfNotifications()>0?BankingJS.getAppContext().notifications.shouldClearNotifications()&&"ERROR"!=BankingJS.getAppContext().notifications.getLastNotification().type?BankingJS.getAppContext().notifications.setClearNotifications(!1):BankingJS.getAppContext().notifications.clearNotifications():BankingJS.getAppContext().notifications.setClearNotifications(!0),n.parse(i)}n.ignoreState=!0,n.normalizeFn=n.NORM_AS_OBJECT,window.location.search.indexOf("page=%2Fuser-management%2Frecover")>-1?(window.location.search.indexOf("setLng=fr")>-1?BankingJS.getAppContext().getUser().setUserLanguage("fr"):window.location.search.indexOf("setLng=en")>-1&&BankingJS.getAppContext().getUser().setUserLanguage("en"),n.parse("user-management/recover"),i.changed.add(e),i.init()):window.location.search.indexOf("page=%2Fuser-management%2Factivate")>-1?(window.location.search.indexOf("setLng=fr")>-1?BankingJS.getAppContext().getUser().setUserLanguage("fr"):window.location.search.indexOf("setLng=en")>-1&&BankingJS.getAppContext().getUser().setUserLanguage("en"),n.parse("user-management/activate"),i.changed.add(e),i.init()):(i.initialized.add(e),i.changed.add(e),i.init())}var s=[{url:"",params:{page:"login"}},{url:"info",params:{page:"info"}}];for(feature in o)s.push({url:o[feature].routerUrl,params:{page:feature}});return new a({routes:s})}),!function(){/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */
function e(t,i){function o(e,t){return function(){return e.apply(t,arguments)}}var a;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=t,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!e.notNeeded(t)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,c=0,l=r.length;l>c;c++)s[r[c]]=o(s[r[c]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,i):o.call(t,e,n,i)},t.addEventListener=function(e,n,i){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):o.call(t,e,n,i)}),"function"==typeof t.onclick&&(a=t.onclick,t.addEventListener("click",function(e){a(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=i&&/OS [6-7]_\d/.test(navigator.userAgent),r=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,a;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,r,s,c,l,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,r=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(l=e.changedTouches[0],u=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-r>100||i&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),i&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return i&&!o&&(c=u.fastClickScrollParent,c&&c.fastClickLastScrollTop!==c.scrollTop)?!0:(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:!e.cancelable||this.needsClick(this.targetElement)&&!this.cancelNextClick?!0:(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,i,o,a;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(r&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],a>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("fastclick",[],function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),/*!
 * Modernizr v2.8.3
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */
window.Modernizr=function(e,t,n){function i(e){S.cssText=e}function o(e,t){return i(A.join(e+";")+(t||""))}function a(e,t){return typeof e===t}function r(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var o=e[i];if(!r(o,"-")&&S[o]!==n)return"pfx"==t?o:!0}return!1}function c(e,t,i){for(var o in e){var r=t[e[o]];if(r!==n)return i===!1?e[o]:a(r,"function")?r.bind(i||t):r}return!1}function l(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+w.join(i+" ")+i).split(" ");return a(t,"string")||a(t,"undefined")?s(o,t):(o=(e+" "+M.join(i+" ")+i).split(" "),c(o,t,n))}function u(){m.input=function(n){for(var i=0,o=n.length;o>i;i++)_[n[i]]=!!(n[i]in b);return _.list&&(_.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),_}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),m.inputtypes=function(e){for(var i,o,a,r=0,s=e.length;s>r;r++)b.setAttribute("type",o=e[r]),i="text"!==b.type,i&&(b.value=x,b.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&b.style.WebkitAppearance!==n?(h.appendChild(b),a=t.defaultView,i=a.getComputedStyle&&"textfield"!==a.getComputedStyle(b,null).WebkitAppearance&&0!==b.offsetHeight,h.removeChild(b)):/^(search|tel)$/.test(o)||(i=/^(url|email)$/.test(o)?b.checkValidity&&b.checkValidity()===!1:b.value!=x)),J[e[r]]=!!i;return J}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,p,f="2.8.3",m={},g=!0,h=t.documentElement,v="modernizr",y=t.createElement(v),S=y.style,b=t.createElement("input"),x=":)",k={}.toString,A=" -webkit- -moz- -o- -ms- ".split(" "),B="Webkit Moz O ms",w=B.split(" "),M=B.toLowerCase().split(" "),C={svg:"http://www.w3.org/2000/svg"},U={},J={},_={},E=[],T=E.slice,R=function(e,n,i,o){var a,r,s,c,l=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=o?o[i]:v+(i+1),l.appendChild(s);return a=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),l.id=v,(u?l:d).innerHTML+=a,d.appendChild(l),u||(d.style.background="",d.style.overflow="hidden",c=h.style.overflow,h.style.overflow="hidden",h.appendChild(d)),r=n(l,e),u?l.parentNode.removeChild(l):(d.parentNode.removeChild(d),h.style.overflow=c),!!r},O=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t)&&n(t).matches||!1;var i;return R("@media "+t+" { #"+v+" { position: absolute; } }",function(t){i="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),i},N=function(){function e(e,o){o=o||t.createElement(i[e]||"div"),e="on"+e;var r=e in o;return r||(o.setAttribute||(o=t.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(e,""),r=a(o[e],"function"),a(o[e],"undefined")||(o[e]=n),o.removeAttribute(e))),o=null,r}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),F={}.hasOwnProperty;p=a(F,"undefined")||a(F.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return F.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=T.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=t.prototype;var a=new o,r=t.apply(a,n.concat(T.call(arguments)));return Object(r)===r?r:a}return t.apply(e,n.concat(T.call(arguments)))};return i}),U.flexbox=function(){return l("flexWrap")},U.flexboxlegacy=function(){return l("boxDirection")},U.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},U.canvastext=function(){return!(!m.canvas||!a(t.createElement("canvas").getContext("2d").fillText,"function"))},U.webgl=function(){return!!e.WebGLRenderingContext},U.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:R(["@media (",A.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},U.geolocation=function(){return"geolocation"in navigator},U.postmessage=function(){return!!e.postMessage},U.websqldatabase=function(){return!!e.openDatabase},U.indexedDB=function(){return!!l("indexedDB",e)},U.hashchange=function(){return N("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},U.history=function(){return!(!e.history||!history.pushState)},U.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},U.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},U.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),r(S.backgroundColor,"rgba")},U.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),r(S.backgroundColor,"rgba")||r(S.backgroundColor,"hsla")},U.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(S.background)},U.backgroundsize=function(){return l("backgroundSize")},U.borderimage=function(){return l("borderImage")},U.borderradius=function(){return l("borderRadius")},U.boxshadow=function(){return l("boxShadow")},U.textshadow=function(){return""===t.createElement("div").style.textShadow},U.opacity=function(){return o("opacity:.55"),/^0.55$/.test(S.opacity)},U.cssanimations=function(){return l("animationName")},U.csscolumns=function(){return l("columnCount")},U.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((e+"-webkit- ".split(" ").join(t+e)+A.join(n+e)).slice(0,-e.length)),r(S.backgroundImage,"gradient")},U.cssreflections=function(){return l("boxReflect")},U.csstransforms=function(){return!!l("transform")},U.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in h.style&&R("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},U.csstransitions=function(){return l("transition")},U.fontface=function(){var e;return R('@font-face {font-family:"font";src:url("https://")}',function(n,i){var o=t.getElementById("smodernizr"),a=o.sheet||o.styleSheet,r=a?a.cssRules&&a.cssRules[0]?a.cssRules[0].cssText:a.cssText||"":"";e=/src/i.test(r)&&0===r.indexOf(i.split(" ")[0])}),e},U.generatedcontent=function(){var e;return R(["#",v,"{font:0/0 a}#",v,':after{content:"',x,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},U.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(i){}return n},U.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return n},U.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},U.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},U.webworkers=function(){return!!e.Worker},U.applicationcache=function(){return!!e.applicationCache},U.svg=function(){return!!t.createElementNS&&!!t.createElementNS(C.svg,"svg").createSVGRect},U.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==C.svg},U.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(k.call(t.createElementNS(C.svg,"animate")))},U.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(k.call(t.createElementNS(C.svg,"clipPath")))};for(var D in U)p(U,D)&&(d=D.toLowerCase(),m[d]=U[D](),E.push((m[d]?"":"no-")+d));return m.input||u(),m.addTest=function(e,t){if("object"==typeof e)for(var i in e)p(e,i)&&m.addTest(i,e[i]);else{if(e=e.toLowerCase(),m[e]!==n)return m;t="function"==typeof t?t():t,"undefined"!=typeof g&&g&&(h.className+=" "+(t?"":"no-")+e),m[e]=t}return m},i(""),y=b=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function o(e){var t=v[e[g]];return t||(t={},h++,e[g]=h,v[h]=t),t}function a(e,n,i){if(n||(n=t),u)return n.createElement(e);i||(i=o(n));var a;return a=i.cache[e]?i.cache[e].cloneNode():m.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!a.canHaveChildren||f.test(e)||a.tagUrn?a:i.frag.appendChild(a)}function r(e,n){if(e||(e=t),u)return e.createDocumentFragment();n=n||o(e);for(var a=n.frag.cloneNode(),r=0,s=i(),c=s.length;c>r;r++)a.createElement(s[r]);return a}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function c(e){e||(e=t);var i=o(e);return!y.shivCSS||l||i.hasCSS||(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||s(e,i),e}var l,u,d="3.7.0",p=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",h=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){l=!0,u=!0}}();var y={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:p.shivCSS!==!1,supportsUnknownElements:u,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:c,createElement:a,createDocumentFragment:r};e.html5=y,c(t)}(this,t),m._version=f,m._prefixes=A,m._domPrefixes=M,m._cssomPrefixes=w,m.mq=O,m.hasEvent=N,m.testProp=function(e){return s([e])},m.testAllProps=l,m.testStyles=R,m.prefixed=function(e,t,n){return t?l(e,t,n):l(e,"pfx")},h.className=h.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+E.join(" "):""),m}(this,this.document),define("modernizr",function(){}),!function(e,t,n,i){function o(e){return("string"==typeof e||e instanceof String)&&(e=e.replace(/^['\\\/"]+|(;\s?})+|['\\\/"]+$/g,"")),e}var a=function(t){for(var n=t.length,i=e("head");n--;)0===i.has("."+t[n]).length&&i.append('<meta class="'+t[n]+'" />')};a(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),e(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof n.body&&FastClick.attach(n.body)});var r=function(t,i){if("string"==typeof t){if(i){var o;if(i.jquery){if(o=i[0],!o)return i}else o=i;return e(o.querySelectorAll(t))}return e(n.querySelectorAll(t))}return e(t,i)},s=function(e){var t=[];return e||t.push("data"),this.namespace.length>0&&t.push(this.namespace),t.push(this.name),t.join("-")},c=function(e){for(var t=e.split("-"),n=t.length,i=[];n--;)0!==n?i.push(t[n]):this.namespace.length>0?i.push(this.namespace,t[n]):i.push(t[n]);return i.reverse().join("-")},l=function(t,n){var i=this,o=function(){var o=r(this),a=!o.data(i.attr_name(!0)+"-init");o.data(i.attr_name(!0)+"-init",e.extend({},i.settings,n||t,i.data_options(o))),a&&i.events(this)};return r(this.scope).is("["+this.attr_name()+"]")?o.call(this.scope):r("["+this.attr_name()+"]",this.scope).each(o),"string"==typeof t?this[t].call(this,n):void 0},u=function(e,t){function n(){t(e[0])}function i(){if(this.one("load",n),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=this.attr("src"),t=e.match(/\?/)?"&":"?";t+="random="+(new Date).getTime(),this.attr("src",e+t)}}return e.attr("src")?void(e[0].complete||4===e[0].readyState?n():i.call(e)):void n()};t.matchMedia=t.matchMedia||function(e){var t,n=e.documentElement,i=n.firstElementChild||n.firstChild,o=e.createElement("body"),a=e.createElement("div");return a.id="mq-test-1",a.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(a),function(e){return a.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(o,i),t=42===a.offsetWidth,n.removeChild(o),{matches:t,media:e}}}(n),function(e){function n(){i&&(r(n),c&&e.fx.tick())}for(var i,o=0,a=["webkit","moz"],r=t.requestAnimationFrame,s=t.cancelAnimationFrame,c="undefined"!=typeof e.fx;o<a.length&&!r;o++)r=t[a[o]+"RequestAnimationFrame"],s=s||t[a[o]+"CancelAnimationFrame"]||t[a[o]+"CancelRequestAnimationFrame"];r?(t.requestAnimationFrame=r,t.cancelAnimationFrame=s,c&&(e.fx.timer=function(t){t()&&e.timers.push(t)&&!i&&(i=!0,n())},e.fx.stop=function(){i=!1})):(t.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-o)),a=t.setTimeout(function(){e(n+i)},i);return o=n+i,a},t.cancelAnimationFrame=function(e){clearTimeout(e)})}(e),t.Foundation={name:"Foundation",version:"5.5.1",media_queries:{small:r(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":r(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:r(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":r(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:r(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":r(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:r(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":r(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:r(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:e("<style></style>").appendTo("head")[0].sheet,global:{namespace:i},init:function(e,n,i,o,a){var s=[e,i,o,a],c=[];if(this.rtl=/rtl/i.test(r("html").attr("dir")),this.scope=e||this.scope,this.set_namespace(),n&&"string"==typeof n&&!/reflow/i.test(n))this.libs.hasOwnProperty(n)&&c.push(this.init_lib(n,s));else for(var l in this.libs)c.push(this.init_lib(l,n));return r(t).load(function(){r(t).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),e},init_lib:function(t,n){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),n&&n.hasOwnProperty(t)?("undefined"!=typeof this.libs[t].settings?e.extend(!0,this.libs[t].settings,n[t]):"undefined"!=typeof this.libs[t].defaults&&e.extend(!0,this.libs[t].defaults,n[t]),this.libs[t].init.apply(this.libs[t],[this.scope,n[t]])):(n=n instanceof Array?n:new Array(n),this.libs[t].init.apply(this.libs[t],n))):function(){}},patch:function(e){e.scope=this.scope,e.namespace=this.global.namespace,e.rtl=this.rtl,e.data_options=this.utils.data_options,e.attr_name=s,e.add_namespace=c,e.bindings=l,e.S=this.utils.S},inherit:function(e,t){for(var n=t.split(" "),i=n.length;i--;)this.utils.hasOwnProperty(n[i])&&(e[n[i]]=this.utils[n[i]])},set_namespace:function(){var t=this.global.namespace===i?e(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=t===i||/false/i.test(t)?"":t},libs:{},utils:{S:r,throttle:function(e,t){var n=null;return function(){var i=this,o=arguments;null==n&&(n=setTimeout(function(){e.apply(i,o),n=null},t))}},debounce:function(e,t,n){var i,o;return function(){var a=this,r=arguments,s=function(){i=null,n||(o=e.apply(a,r))},c=n&&!i;return clearTimeout(i),i=setTimeout(s,t),c&&(o=e.apply(a,r)),o}},data_options:function(t,n){function i(e){return!isNaN(e-0)&&null!==e&&""!==e&&e!==!1&&e!==!0}function o(t){return"string"==typeof t?e.trim(t):t}n=n||"options";var a,r,s,c={},l=function(e){var t=Foundation.global.namespace;return e.data(t.length>0?t+"-"+n:n)},u=l(t);if("object"==typeof u)return u;for(s=(u||":").split(";"),a=s.length;a--;)r=s[a].split(":"),r=[r[0],r.slice(1).join(":")],/true/i.test(r[1])&&(r[1]=!0),/false/i.test(r[1])&&(r[1]=!1),i(r[1])&&(r[1]=-1===r[1].indexOf(".")?parseInt(r[1],10):parseFloat(r[1])),2===r.length&&r[0].length>0&&(c[o(r[0])]=o(r[1]));return c},register_media:function(t,n){Foundation.media_queries[t]===i&&(e("head").append('<meta class="'+n+'"/>'),Foundation.media_queries[t]=o(e("."+n).css("font-family")))},add_custom_rule:function(e,t){if(t===i&&Foundation.stylesheet)Foundation.stylesheet.insertRule(e,Foundation.stylesheet.cssRules.length);else{var n=Foundation.media_queries[t];n!==i&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[t]+"{ "+e+" }")}},image_loaded:function(e,t){var n=this,i=e.length;0===i&&t(e),e.each(function(){u(n.S(this),function(){i-=1,0===i&&t(e)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(e){return t.matchMedia(e).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},e.fn.foundation=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(e)),this})}}(jQuery,window,window.document),function(e,t,n){Foundation.libs.abide={name:"abide",version:"5.5.1",settings:{live_validate:!0,validate_on_blur:!0,focus_on_invalid:!0,error_labels:!0,error_class:"error",timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(e){var t=n.getElementById(e.getAttribute(this.add_namespace("data-equalto"))).value,i=e.value,o=t===i;return o}}},timer:null,init:function(e,t,n){this.bindings(t,n)},events:function(t){var n=this,i=n.S(t).attr("novalidate","novalidate"),o=i.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),i.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(e){var t=/ajax/i.test(n.S(this).attr(n.attr_name()));return n.validate(n.S(this).find("input, textarea, select").get(),e,t)}).on("reset",function(){return n.reset(e(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(e){o.validate_on_blur===!0&&n.validate([this],e)}).on("keydown.fndtn.abide",function(e){o.live_validate===!0&&9!=e.which&&(clearTimeout(n.timer),n.timer=setTimeout(function(){n.validate([this],e)}.bind(this),o.timeout))})},reset:function(t){t.removeAttr(this.invalid_attr),e(this.invalid_attr,t).removeAttr(this.invalid_attr),e("."+this.settings.error_class,t).not("small").removeClass(this.settings.error_class)},validate:function(e,t,n){for(var i=this.parse_patterns(e),o=i.length,a=this.S(e[0]).closest("form"),r=/submit/.test(t.type),s=0;o>s;s++)if(!i[s]&&(r||n))return this.settings.focus_on_invalid&&e[s].focus(),a.trigger("invalid").trigger("invalid.fndtn.abide"),this.S(e[s]).closest("form").attr(this.invalid_attr,""),!1;return(r||n)&&a.trigger("valid").trigger("valid.fndtn.abide"),a.removeAttr(this.invalid_attr),n?!1:!0},parse_patterns:function(e){for(var t=e.length,n=[];t--;)n.push(this.pattern(e[t]));return this.check_validation_and_apply_styles(n)},pattern:function(e){var t=e.getAttribute("type"),n="string"==typeof e.getAttribute("required"),i=e.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(i)&&i.length>0?[e,this.settings.patterns[i],n]:i.length>0?[e,new RegExp(i),n]:this.settings.patterns.hasOwnProperty(t)?[e,this.settings.patterns[t],n]:(i=/.*/,[e,i,n])},check_validation_and_apply_styles:function(t){var n=t.length,i=[],o=this.S(t[0][0]).closest("[data-"+this.attr_name(!0)+"]");for(o.data(this.attr_name(!0)+"-init")||{};n--;){var a,r,s=t[n][0],c=t[n][2],l=s.value.trim(),u=this.S(s).parent(),d=s.getAttribute(this.add_namespace("data-abide-validator")),p="radio"===s.type,f="checkbox"===s.type,m=this.S('label[for="'+s.getAttribute("id")+'"]'),g=c?s.value.length>0:!0,h=[];if(s.getAttribute(this.add_namespace("data-equalto"))&&(d="equalTo"),a=u.is("label")?u.parent():u,d&&(r=this.settings.validators[d].apply(this,[s,c,a]),h.push(r)),p&&c)h.push(this.valid_radio(s,c));else if(f&&c)h.push(this.valid_checkbox(s,c));else if(h.push(t[n][1].test(l)&&g||!c&&s.value.length<1||e(s).attr("disabled")?!0:!1),h=[h.every(function(e){return e})],h[0])this.S(s).removeAttr(this.invalid_attr),s.setAttribute("aria-invalid","false"),a.removeClass(this.settings.error_class),m.length>0&&this.settings.error_labels&&m.removeClass(this.settings.error_class).removeAttr("role"),e(s).triggerHandler("valid");else{this.S(s).attr(this.invalid_attr,""),s.setAttribute("aria-invalid","true");var v=a.find("small."+this.settings.error_class,"span."+this.settings.error_class),y=v.length>0?v[0].id:"";y.length>0&&s.setAttribute("aria-describedby",y),a.addClass(this.settings.error_class),m.length>0&&this.settings.error_labels&&m.addClass(this.settings.error_class).attr("role","alert"),e(s).triggerHandler("invalid")}i.push(h[0])}return i=[i.every(function(e){return e})]},valid_checkbox:function(e,t){var e=this.S(e),n=e.is(":checked")||!t||e.get(0).getAttribute("disabled");return n?e.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):e.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),n},valid_radio:function(e){for(var t=e.getAttribute("name"),n=this.S(e).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+t+"']"),i=n.length,o=!1,a=!1,r=0;i>r;r++)n[r].getAttribute("disabled")?(a=!0,o=!0):n[r].checked?o=!0:a&&(o=!1);for(var r=0;i>r;r++)o?this.S(n[r]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):this.S(n[r]).attr(this.invalid_attr,"").parent().addClass(this.settings.error_class);return o},valid_equal:function(e,t,i){var o=n.getElementById(e.getAttribute(this.add_namespace("data-equalto"))).value,a=e.value,r=o===a;return r?(this.S(e).removeAttr(this.invalid_attr),i.removeClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.removeClass(this.settings.error_class)):(this.S(e).attr(this.invalid_attr,""),i.addClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.addClass(this.settings.error_class)),r},valid_oneof:function(e,t,n,i){var e=this.S(e),o=this.S("["+this.add_namespace("data-oneof")+"]"),a=o.filter(":checked").length>0;if(a?e.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):e.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),!i){var r=this;o.each(function(){r.valid_oneof.call(r,this,null,null,!0)})}return a}}}(jQuery,window,window.document),function(e){Foundation.libs.accordion={name:"accordion",version:"5.5.1",settings:{content_class:"content",active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(e,t,n){this.bindings(t,n)},events:function(){var t=this,n=this.S;n(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > .accordion-navigation > a",function(i){var o=n(this).closest("["+t.attr_name()+"]"),a=t.attr_name()+"="+o.attr(t.attr_name()),r=o.data(t.attr_name(!0)+"-init")||t.settings,s=n("#"+this.href.split("#")[1]),c=e("> .accordion-navigation",o),l=c.children("."+r.content_class),u=l.filter("."+r.active_class);return i.preventDefault(),o.attr(t.attr_name())&&(l=l.add("["+a+"] dd > ."+r.content_class),c=c.add("["+a+"] .accordion-navigation")),r.toggleable&&s.is(u)?(s.parent(".accordion-navigation").toggleClass(r.active_class,!1),s.toggleClass(r.active_class,!1),r.callback(s),s.triggerHandler("toggled",[o]),void o.triggerHandler("toggled",[s])):(r.multi_expand||(l.removeClass(r.active_class),c.removeClass(r.active_class)),s.addClass(r.active_class).parent().addClass(r.active_class),r.callback(s),s.triggerHandler("toggled",[o]),void o.triggerHandler("toggled",[s]))})},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(e){Foundation.libs.alert={name:"alert",version:"5.5.1",settings:{callback:function(){}},init:function(e,t,n){this.bindings(t,n)},events:function(){var t=this,n=this.S;e(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] .close",function(e){var i=n(this).closest("["+t.attr_name()+"]"),o=i.data(t.attr_name(!0)+"-init")||t.settings;e.preventDefault(),Modernizr.csstransitions?(i.addClass("alert-close"),i.on("transitionend webkitTransitionEnd oTransitionEnd",function(){n(this).trigger("close").trigger("close.fndtn.alert").remove(),o.callback()})):i.fadeOut(300,function(){n(this).trigger("close").trigger("close.fndtn.alert").remove(),o.callback()})})},reflow:function(){}}}(jQuery,window,window.document),function(e,t,n,i){Foundation.libs.clearing={name:"clearing",version:"5.5.1",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close, div.clearing-blackout",open_selectors:"",skip_selector:"",touch_label:"",init:!1,locked:!1},init:function(e,t,n){var i=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(t,n),i.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(i.S("li",this.scope)):i.S("["+this.attr_name()+"]",this.scope).each(function(){i.assemble(i.S("li",this))})},events:function(i){var o=this,a=o.S,r=e(".scroll-container");r.length>0&&(this.scope=r),a(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li "+this.settings.open_selectors,function(e,t,n){var t=t||a(this),n=n||t,i=t.next("li"),r=t.closest("["+o.attr_name()+"]").data(o.attr_name(!0)+"-init"),s=a(e.target);e.preventDefault(),r||(o.init(),r=t.closest("["+o.attr_name()+"]").data(o.attr_name(!0)+"-init")),n.hasClass("visible")&&t[0]===n[0]&&i.length>0&&o.is_open(t)&&(n=i,s=a("img",n)),o.open(s,t,n),o.update_paddles(n)}).on("click.fndtn.clearing",".clearing-main-next",function(e){o.nav(e,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(e){o.nav(e,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(e){Foundation.libs.clearing.close(e,this)}),e(n).on("keydown.fndtn.clearing",function(e){o.keydown(e)}),a(t).off(".clearing").on("resize.fndtn.clearing",function(){o.resize()}),this.swipe_events(i)},swipe_events:function(){var e=this,t=e.S;t(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(e){e.touches||(e=e.originalEvent);var n={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:i};t(this).data("swipe-transition",n),e.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(n){if(n.touches||(n=n.originalEvent),!(n.touches.length>1||n.scale&&1!==n.scale)){var i=t(this).data("swipe-transition");if("undefined"==typeof i&&(i={}),i.delta_x=n.touches[0].pageX-i.start_page_x,Foundation.rtl&&(i.delta_x=-i.delta_x),"undefined"==typeof i.is_scrolling&&(i.is_scrolling=!!(i.is_scrolling||Math.abs(i.delta_x)<Math.abs(n.touches[0].pageY-i.start_page_y))),!i.is_scrolling&&!i.active){n.preventDefault();var o=i.delta_x<0?"next":"prev";i.active=!0,e.nav(n,o)}}}).on("touchend.fndtn.clearing",".visible-img",function(e){t(this).data("swipe-transition",{}),e.stopPropagation()})},assemble:function(t){var n=t.parent();if(!n.parent().hasClass("carousel")){n.after('<div id="foundationClearingHolder"></div>');var i=n.detach(),o="";if(null!=i[0]){
o=i[0].outerHTML;var a=this.S("#foundationClearingHolder"),r=n.data(this.attr_name(!0)+"-init"),s={grid:'<div class="carousel">'+o+"</div>",viewing:r.templates.viewing},c='<div class="clearing-assembled"><div>'+s.viewing+s.grid+"</div></div>",l=this.settings.touch_label;Modernizr.touch&&(c=e(c).find(".clearing-touch-label").html(l).end()),a.after(c).remove()}}},open:function(t,i,o){function a(){setTimeout(function(){this.image_loaded(p,function(){1!==p.outerWidth()||m?r.call(this,p):a.call(this)}.bind(this))}.bind(this),100)}function r(t){var n=e(t);n.css("visibility","visible"),c.css("overflow","hidden"),l.addClass("clearing-blackout"),u.addClass("clearing-container"),d.show(),this.fix_height(o).caption(s.S(".clearing-caption",d),s.S("img",o)).center_and_label(t,f).shift(i,o,function(){o.closest("li").siblings().removeClass("visible"),o.closest("li").addClass("visible")}),d.trigger("opened.fndtn.clearing")}var s=this,c=e(n.body),l=o.closest(".clearing-assembled"),u=s.S("div",l).first(),d=s.S(".visible-img",u),p=s.S("img",d).not(t),f=s.S(".clearing-touch-label",u),m=!1;e("body").on("touchmove",function(e){e.preventDefault()}),p.error(function(){m=!0}),this.locked()||(d.trigger("open.fndtn.clearing"),p.attr("src",this.load(t)).css("visibility","hidden"),a.call(this))},close:function(t,i){t.preventDefault();var o,a,r=function(e){return/blackout/.test(e.selector)?e:e.closest(".clearing-blackout")}(e(i)),s=e(n.body);return i===t.target&&r&&(s.css("overflow",""),o=e("div",r).first(),a=e(".visible-img",o),a.trigger("close.fndtn.clearing"),this.settings.prev_index=0,e("ul["+this.attr_name()+"]",r).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),o.removeClass("clearing-container"),a.hide(),a.trigger("closed.fndtn.clearing")),e("body").off("touchmove"),!1},is_open:function(e){return e.parent().prop("style").length>0},keydown:function(t){var n=e(".clearing-blackout ul["+this.attr_name()+"]"),i=this.rtl?37:39,o=this.rtl?39:37,a=27;t.which===i&&this.go(n,"next"),t.which===o&&this.go(n,"prev"),t.which===a&&this.S("a.clearing-close").trigger("click").trigger("click.fndtn.clearing")},nav:function(t,n){var i=e("ul["+this.attr_name()+"]",".clearing-blackout");t.preventDefault(),this.go(i,n)},resize:function(){var t=e("img",".clearing-blackout .visible-img"),n=e(".clearing-touch-label",".clearing-blackout");t.length&&(this.center_and_label(t,n),t.trigger("resized.fndtn.clearing"))},fix_height:function(e){var t=e.parent().children(),n=this;return t.each(function(){var e=n.S(this),t=e.find("img");e.height()>t.outerHeight()&&e.addClass("fix-height")}).closest("ul").width(100*t.length+"%"),this},update_paddles:function(e){e=e.closest("li");var t=e.closest(".carousel").siblings(".visible-img");e.next().length>0?this.S(".clearing-main-next",t).removeClass("disabled"):this.S(".clearing-main-next",t).addClass("disabled"),e.prev().length>0?this.S(".clearing-main-prev",t).removeClass("disabled"):this.S(".clearing-main-prev",t).addClass("disabled")},center_and_label:function(e,t){return t.css(!this.rtl&&t.length>0?{marginLeft:-(t.outerWidth()/2),marginTop:-(e.outerHeight()/2)-t.outerHeight()-10}:{marginRight:-(t.outerWidth()/2),marginTop:-(e.outerHeight()/2)-t.outerHeight()-10,left:"auto",right:"50%"}),this},load:function(e){var t;return t="A"===e[0].nodeName?e.attr("href"):e.closest("a").attr("href"),this.preload(e),t?t:e.attr("src")},preload:function(e){this.img(e.closest("li").next()).img(e.closest("li").prev())},img:function(e){if(e.length){var t=new Image,n=this.S("a",e);t.src=n.length?n.attr("href"):this.S("img",e).attr("src")}return this},caption:function(e,t){var n=t.attr("data-caption");return n?e.html(n).show():e.text("").hide(),this},go:function(e,t){var n=this.S(".visible",e),i=n[t]();this.settings.skip_selector&&0!=i.find(this.settings.skip_selector).length&&(i=i[t]()),i.length&&this.S("img",i).trigger("click",[n,i]).trigger("click.fndtn.clearing",[n,i]).trigger("change.fndtn.clearing")},shift:function(e,t,n){var i,o=t.parent(),a=this.settings.prev_index||t.index(),r=this.direction(o,e,t),s=this.rtl?"right":"left",c=parseInt(o.css("left"),10),l=t.outerWidth(),u={};t.index()===a||/skip/.test(r)?/skip/.test(r)&&(i=t.index()-this.settings.up_count,this.lock(),i>0?(u[s]=-(i*l),o.animate(u,300,this.unlock())):(u[s]=0,o.animate(u,300,this.unlock()))):/left/.test(r)?(this.lock(),u[s]=c+l,o.animate(u,300,this.unlock())):/right/.test(r)&&(this.lock(),u[s]=c-l,o.animate(u,300,this.unlock())),n()},direction:function(e,t,n){var i,o=this.S("li",e),a=o.outerWidth()+o.outerWidth()/4,r=Math.floor(this.S(".clearing-container").outerWidth()/a)-1,s=o.index(n);return this.settings.up_count=r,i=this.adjacent(this.settings.prev_index,s)?s>r&&s>this.settings.prev_index?"right":s>r-1&&s<=this.settings.prev_index?"left":!1:"skip",this.settings.prev_index=s,i},adjacent:function(e,t){for(var n=t+1;n>=t-1;n--)if(n===e)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(t).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,window,window.document),function(e,t,n){Foundation.libs.dropdown={name:"dropdown",version:"5.5.1",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(t,n,i){Foundation.inherit(this,"throttle"),e.extend(!0,this.settings,n,i),this.bindings(n,i)},events:function(){var i=this,o=i.S;o(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(t){var n=o(this).data(i.attr_name(!0)+"-init")||i.settings;(!n.is_hover||Modernizr.touch)&&(t.preventDefault(),o(this).parent("[data-reveal-id]")&&t.stopPropagation(),i.toggle(e(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(e){var t,n,a=o(this);clearTimeout(i.timeout),a.data(i.data_attr())?(t=o("#"+a.data(i.data_attr())),n=a):(t=a,n=o("["+i.attr_name()+'="'+t.attr("id")+'"]'));var r=n.data(i.attr_name(!0)+"-init")||i.settings;o(e.currentTarget).data(i.data_attr())&&r.is_hover&&i.closeall.call(i),r.is_hover&&i.open.apply(i,[t,n])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var e,t=o(this);if(t.data(i.data_attr()))e=t.data(i.data_attr(!0)+"-init")||i.settings;else var n=o("["+i.attr_name()+'="'+o(this).attr("id")+'"]'),e=n.data(i.attr_name(!0)+"-init")||i.settings;i.timeout=setTimeout(function(){t.data(i.data_attr())?e.is_hover&&i.close.call(i,o("#"+t.data(i.data_attr()))):e.is_hover&&i.close.call(i,t)}.bind(this),e.hover_timeout)}).on("click.fndtn.dropdown",function(t){var a=o(t.target).closest("["+i.attr_name()+"-content]"),r=a.find("a");return r.length>0&&"false"!==a.attr("aria-autoclose")&&i.close.call(i,o("["+i.attr_name()+"-content]")),t.target!==n&&!e.contains(n.documentElement,t.target)||o(t.target).closest("["+i.attr_name()+"]").length>0?void 0:!o(t.target).data("revealId")&&a.length>0&&(o(t.target).is("["+i.attr_name()+"-content]")||e.contains(a.first()[0],t.target))?void t.stopPropagation():void i.close.call(i,o("["+i.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.closed.call(this)}),o(t).off(".dropdown").on("resize.fndtn.dropdown",i.throttle(function(){i.resize.call(i)},50)),this.resize()},close:function(t){var n=this;t.each(function(){var i=e("["+n.attr_name()+"="+t[0].id+"]")||e("aria-controls="+t[0].id+"]");i.attr("aria-expanded","false"),n.S(this).hasClass(n.settings.active_class)&&(n.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(n.settings.active_class).prev("["+n.attr_name()+"]").removeClass(n.settings.active_class).removeData("target"),n.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[t]))}),t.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var t=this;e.each(t.S(".f-open-"+this.attr_name(!0)),function(){t.close.call(t,t.S(this))})},open:function(e,t){this.css(e.addClass(this.settings.active_class),t),e.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),e.data("target",t.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[e,t]),e.attr("aria-hidden","false"),t.attr("aria-expanded","true"),e.focus(),e.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(e){if(!e.hasClass(this.settings.disabled_class)){var t=this.S("#"+e.data(this.data_attr()));0!==t.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(t)),t.hasClass(this.settings.active_class)?(this.close.call(this,t),t.data("target")!==e.get(0)&&this.open.call(this,t,e)):this.open.call(this,t,e))}},resize:function(){var t=this.S("["+this.attr_name()+"-content].open"),n=e(t.data("target"));t.length&&n.length&&this.css(t,n)},css:function(e,t){var n=Math.max((t.width()-e.width())/2,8),i=t.data(this.attr_name(!0)+"-init")||this.settings;if(this.clear_idx(),this.small()){var o=this.dirs.bottom.call(e,t,i);e.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:o.top}),e.css(Foundation.rtl?"right":"left",n)}else this.style(e,t,i);return e},style:function(t,n,i){var o=e.extend({position:"absolute"},this.dirs[i.align].call(t,n,i));t.attr("style","").css(o)},dirs:{_base:function(e){var i=this.offsetParent(),o=i.offset(),a=e.offset();a.top-=o.top,a.left-=o.left,a.missRight=!1,a.missTop=!1,a.missLeft=!1,a.leftRightFlag=!1;var r;r=n.getElementsByClassName("row")[0]?n.getElementsByClassName("row")[0].clientWidth:t.outerWidth;var s=(t.outerWidth-r)/2,c=r;return this.hasClass("mega")||(e.offset().top<=this.outerHeight()&&(a.missTop=!0,c=t.outerWidth-s,a.leftRightFlag=!0),e.offset().left+this.outerWidth()>e.offset().left+s&&e.offset().left-s>this.outerWidth()&&(a.missRight=!0,a.missLeft=!1),e.offset().left-this.outerWidth()<=0&&(a.missLeft=!0,a.missRight=!1)),a},top:function(e,t){var n=Foundation.libs.dropdown,i=n.dirs._base.call(this,e);return this.addClass("drop-top"),1==i.missTop&&(i.top=i.top+e.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),1==i.missRight&&(i.left=i.left-this.outerWidth()+e.outerWidth()),(e.outerWidth()<this.outerWidth()||n.small()||this.hasClass(t.mega_menu))&&n.adjust_pip(this,e,t,i),Foundation.rtl?{left:i.left-this.outerWidth()+e.outerWidth(),top:i.top-this.outerHeight()}:{left:i.left,top:i.top-this.outerHeight()}},bottom:function(e,t){var n=Foundation.libs.dropdown,i=n.dirs._base.call(this,e);return 1==i.missRight&&(i.left=i.left-this.outerWidth()+e.outerWidth()),(e.outerWidth()<this.outerWidth()||n.small()||this.hasClass(t.mega_menu))&&n.adjust_pip(this,e,t,i),n.rtl?{left:i.left-this.outerWidth()+e.outerWidth(),top:i.top+e.outerHeight()}:{left:i.left,top:i.top+e.outerHeight()}},left:function(e){var t=Foundation.libs.dropdown.dirs._base.call(this,e);return this.addClass("drop-left"),1==t.missLeft&&(t.left=t.left+this.outerWidth(),t.top=t.top+e.outerHeight(),this.removeClass("drop-left")),{left:t.left-this.outerWidth(),top:t.top}},right:function(e,t){var n=Foundation.libs.dropdown.dirs._base.call(this,e);this.addClass("drop-right"),1==n.missRight?(n.left=n.left-this.outerWidth(),n.top=n.top+e.outerHeight(),this.removeClass("drop-right")):n.triggeredRight=!0;var i=Foundation.libs.dropdown;return(e.outerWidth()<this.outerWidth()||i.small()||this.hasClass(t.mega_menu))&&i.adjust_pip(this,e,t,n),{left:n.left+e.outerWidth(),top:n.top}}},adjust_pip:function(e,t,n,i){var o=Foundation.stylesheet,a=8;e.hasClass(n.mega_class)?a=i.left+t.outerWidth()/2-8:this.small()&&(a+=i.left-8),this.rule_idx=o.cssRules.length;var r=".f-dropdown.open:before",s=".f-dropdown.open:after",c="left: "+a+"px;",l="left: "+(a-1)+"px;";1==i.missRight&&(a=e.outerWidth()-23,r=".f-dropdown.open:before",s=".f-dropdown.open:after",c="left: "+a+"px;",l="left: "+(a-1)+"px;"),1==i.triggeredRight&&(r=".f-dropdown.open:before",s=".f-dropdown.open:after",c="left:-12px;",l="left:-14px;"),o.insertRule?(o.insertRule([r,"{",c,"}"].join(" "),this.rule_idx),o.insertRule([s,"{",l,"}"].join(" "),this.rule_idx+1)):(o.addRule(r,c,this.rule_idx),o.addRule(s,l,this.rule_idx+1))},clear_idx:function(){var e=Foundation.stylesheet;"undefined"!=typeof this.rule_idx&&(e.deleteRule(this.rule_idx),e.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(t).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(e,t){Foundation.libs.equalizer={name:"equalizer",version:"5.5.1",settings:{use_tallest:!0,before_height_change:e.noop,after_height_change:e.noop,equalize_on_stack:!1},init:function(e,t,n){Foundation.inherit(this,"image_loaded"),this.bindings(t,n),this.reflow()},events:function(){this.S(t).off(".equalizer").on("resize.fndtn.equalizer",function(){this.reflow()}.bind(this))},equalize:function(t){var n=!1,i=t.find("["+this.attr_name()+"-watch]:visible"),o=t.data(this.attr_name(!0)+"-init");if(0!==i.length){var a=i.first().offset().top;if(o.before_height_change(),t.trigger("before-height-change").trigger("before-height-change.fndth.equalizer"),i.height("inherit"),i.each(function(){var t=e(this);t.offset().top!==a&&(n=!0)}),o.equalize_on_stack!==!1||!n){var r=i.map(function(){return e(this).outerHeight(!1)}).get();if(o.use_tallest){var s=Math.max.apply(null,r);i.css("height",s)}else{var c=Math.min.apply(null,r);i.css("height",c)}o.after_height_change(),t.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")}}},reflow:function(){var t=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var n=e(this);t.image_loaded(t.S("img",this),function(){t.equalize(n)})})}}}(jQuery,window,window.document),function(e,t){Foundation.libs.interchange={name:"interchange",version:"5.5.1",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,"small-only":Foundation.media_queries["small-only"],medium:Foundation.media_queries.medium,"medium-only":Foundation.media_queries["medium-only"],large:Foundation.media_queries.large,"large-only":Foundation.media_queries["large-only"],xlarge:Foundation.media_queries.xlarge,"xlarge-only":Foundation.media_queries["xlarge-only"],xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(t,n,i){if(/IMG/.test(t[0].nodeName)){var o=t[0].src;if(new RegExp(n,"i").test(o))return;return t[0].src=n,i(t[0].src)}var a=t.data(this.data_attr+"-last-path"),r=this;return a!=n?/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(n)?(e(t).css("background-image","url("+n+")"),t.data("interchange-last-path",n),i(n)):e.get(n,function(e){t.html(e),t.data(r.data_attr+"-last-path",n),i()}):void 0}}},init:function(t,n,i){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),e.extend(!0,this.settings,n,i),this.bindings(n,i),this.load("images"),this.load("nodes")},get_media_hash:function(){var e="";for(var t in this.settings.named_queries)e+=matchMedia(this.settings.named_queries[t]).matches.toString();return e},events:function(){var n,i=this;return e(t).off(".interchange").on("resize.fndtn.interchange",i.throttle(function(){var e=i.get_media_hash();e!==n&&i.resize(),n=e},50)),this},resize:function(){var t=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout(e.proxy(this.resize,this),50);for(var n in t)if(t.hasOwnProperty(n)){var i=this.results(n,t[n]);i&&this.settings.directives[i.scenario[1]].call(this,i.el,i.scenario[0],function(e){if(arguments[0]instanceof Array)var t=arguments[0];else var t=Array.prototype.slice.call(arguments,0);return function(){e.el.trigger(e.scenario[1],t)}}(i))}},results:function(e,t){var n=t.length;if(n>0)for(var i=this.S("["+this.add_namespace("data-uuid")+'="'+e+'"]');n--;){var o,a=t[n][2];if(o=matchMedia(this.settings.named_queries.hasOwnProperty(a)?this.settings.named_queries[a]:a),o.matches)return{el:i,scenario:t[n]}}return!1},load:function(e,t){return("undefined"==typeof this["cached_"+e]||t)&&this["update_"+e](),this["cached_"+e]},update_images:function(){var e=this.S("img["+this.data_attr+"]"),t=e.length,n=t,i=0,o=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===t;n--;){if(i++,e[n]){var a=e[n].getAttribute(o)||"";a.length>0&&this.cached_images.push(e[n])}i===t&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var e=this.S("["+this.data_attr+"]").not("img"),t=e.length,n=t,i=0,o=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===t;n--;){i++;var a=e[n].getAttribute(o)||"";a.length>0&&this.cached_nodes.push(e[n]),i===t&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(n){for(var i=this["cached_"+n].length;i--;)this.object(e(this["cached_"+n][i]));return e(t).trigger("resize").trigger("resize.fndtn.interchange")},convert_directive:function(e){var t=this.trim(e);return t.length>0?t:"replace"},parse_scenario:function(e){var t=e[0].match(/(.+),\s*(\w+)\s*$/),n=e[1];if(t)var i=t[1],o=t[2];else var a=e[0].split(/,\s*$/),i=a[0],o="";return[this.trim(i),this.convert_directive(o),this.trim(n)]},object:function(e){var t=this.parse_data_attr(e),n=[],i=t.length;if(i>0)for(;i--;){var o=t[i].split(/\(([^\)]*?)(\))$/);if(o.length>1){var a=this.parse_scenario(o);n.push(a)}}return this.store(e,n)},store:function(e,t){var n=this.random_str(),i=e.data(this.add_namespace("uuid",!0));return this.cache[i]?this.cache[i]:(e.attr(this.add_namespace("data-uuid"),n),this.cache[n]=t)},trim:function(t){return"string"==typeof t?e.trim(t):t},set_data_attr:function(e){return e?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(e){for(var t=e.attr(this.attr_name()).split(/\[(.*?)\]/),n=t.length,i=[];n--;)t[n].replace(/[\W\d]+/,"").length>4&&i.push(t[n]);return i},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,window,window.document),function(e,t,n,i){Foundation.libs.joyride={name:"joyride",version:"5.5.1",defaults:{expose:!1,modal:!0,keyboard:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,prev_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(t,n,i){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||e.extend({},this.defaults,i||n),this.bindings(n,i)},go_next:function(){this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())},go_prev:function(){this.settings.$li.prev().length<1||(this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(null,!0),this.startTimer()):(this.hide(),this.show(null,!0)))},events:function(){var n=this;e(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(e){e.preventDefault(),this.go_next()}.bind(this)).on("click.fndtn.joyride",".joyride-prev-tip",function(e){e.preventDefault(),this.go_prev()}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(e){e.preventDefault(),this.end(this.settings.abort_on_close)}.bind(this)).on("keyup.fndtn.joyride",function(e){if(this.settings.keyboard&&this.settings.riding)switch(e.which){case 39:e.preventDefault(),this.go_next();break;case 37:e.preventDefault(),this.go_prev();break;case 27:e.preventDefault(),this.end(this.settings.abort_on_close)}}.bind(this)),e(t).off(".joyride").on("resize.fndtn.joyride",n.throttle(function(){if(e("["+n.attr_name()+"]").length>0&&n.settings.$next_tip&&n.settings.riding){if(n.settings.exposed.length>0){var t=e(n.settings.exposed);t.each(function(){var t=e(this);n.un_expose(t),n.expose(t)})}n.is_phone()?n.pos_phone():n.pos_default(!1)}},100))},start:function(){var t=this,n=e("["+this.attr_name()+"]",this.scope),i=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],o=i.length;!n.length>0||(this.settings.init||this.events(),this.settings=n.data(this.attr_name(!0)+"-init"),this.settings.$content_el=n,this.settings.$body=e(this.settings.tip_container),this.settings.body_offset=e(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.riding=!0,"function"!=typeof e.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!e.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each(function(n){var a=e(this);this.settings=e.extend({},t.defaults,t.data_options(a));for(var r=o;r--;)t.settings[i[r]]=parseInt(t.settings[i[r]],10);t.create({$li:a,index:n})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(t){var n,i;return t.tip_class=t.tip_class||"",n=e(this.settings.template.tip).addClass(t.tip_class),i=e.trim(e(t.li).html())+this.prev_button_text(t.prev_button_text,t.index)+this.button_text(t.button_text)+this.settings.template.link+this.timer_instance(t.index),n.append(e(this.settings.template.wrapper)),n.first().attr(this.add_namespace("data-index"),t.index),e(".joyride-content-wrapper",n).append(i),n[0]},timer_instance:function(t){var n;return n=0===t&&this.settings.start_timer_on_click&&this.settings.timer>0||0===this.settings.timer?"":e(this.settings.template.timer)[0].outerHTML},button_text:function(t){return this.settings.tip_settings.next_button?(t=e.trim(t)||"Next",t=e(this.settings.template.button).append(t)[0].outerHTML):t="",t},prev_button_text:function(t,n){return this.settings.tip_settings.prev_button?(t=e.trim(t)||"Previous",t=0==n?e(this.settings.template.prev_button).append(t).addClass("disabled")[0].outerHTML:e(this.settings.template.prev_button).append(t)[0].outerHTML):t="",t},create:function(t){this.settings.tip_settings=e.extend({},this.settings,this.data_options(t.$li));var n=t.$li.attr(this.add_namespace("data-button"))||t.$li.attr(this.add_namespace("data-text")),i=t.$li.attr(this.add_namespace("data-button-prev"))||t.$li.attr(this.add_namespace("data-prev-text")),o=t.$li.attr("class"),a=e(this.tip_template({tip_class:o,index:t.index,button_text:n,prev_button_text:i,li:t.$li}));e(this.settings.tip_container).append(a)},show:function(t,n){var o=null;if(this.settings.$li===i||-1===e.inArray(this.settings.$li.index(),this.settings.pause_after))if(this.settings.paused?this.settings.paused=!1:this.set_li(t,n),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0){if(t&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=e.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],!/body/i.test(this.settings.$target.selector)){var a=e(".joyride-modal-bg");/pop/i.test(this.settings.tipAnimation)?a.hide():a.fadeOut(this.settings.tipAnimationFadeSpeed),this.scroll_to()}this.is_phone()?this.pos_phone(!0):this.pos_default(!0),o=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(o.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){o.animate({width:o.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(o.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){o.animate({width:o.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip}else this.settings.$li&&this.settings.$target.length<1?this.show(t,n):this.end();else this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||e(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(e.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(e,t){e?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=t?this.settings.$li.prev():this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=e(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var t=this.settings.$li.attr(this.add_namespace("data-class")),i=this.settings.$li.attr(this.add_namespace("data-id")),o=function(){return i?e(n.getElementById(i)):t?e("."+t).first():e("body")};this.settings.$target=o()},scroll_to:function(){var n,i;n=e(t).height()/2,i=Math.ceil(this.settings.$target.offset().top-n+this.settings.$next_tip.outerHeight()),0!=i&&e("html, body").stop().animate({scrollTop:i},this.settings.scroll_speed,"swing")},paused:function(){return-1===e.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=i,this.show("init")},pos_default:function(e){var t=this.settings.$next_tip.find(".joyride-nub"),n=Math.ceil(t.outerWidth()/2),i=Math.ceil(t.outerHeight()/2),o=e||!1;if(o&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(t);else{var a=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,r=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;this.bottom()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top+i+this.settings.$target.outerHeight()+a,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+r}:{top:this.settings.$target.offset().top+i+this.settings.$target.outerHeight()+a,left:this.settings.$target.offset().left+r}),this.nub_position(t,this.settings.tip_settings.nub_position,"top")):this.top()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-i+a,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}:{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-i+a,left:this.settings.$target.offset().left+r}),this.nub_position(t,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+a,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+n+r}),this.nub_position(t,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+a,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-n+r}),this.nub_position(t,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(t.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}o&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(t){var n=this.settings.$next_tip.outerHeight(),i=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),o=e(".joyride-nub",this.settings.$next_tip),a=Math.ceil(o.outerHeight()/2),r=t||!1;o.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),r&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(o):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-n-a}),o.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+i+a}),o.addClass("top")),r&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(e){this.center(),e.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var t=e(".joyride-modal-bg");if(t.length<1){var t=e(this.settings.template.modal);t.appendTo("body")}/pop/i.test(this.settings.tip_animation)?t.show():t.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var n,i,o,a,r,s="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof e)o=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;o=this.settings.$target}return o.length<1?(t.console&&console.error("element not valid",o),!1):(n=e(this.settings.template.expose),this.settings.$body.append(n),n.css({top:o.offset().top,left:o.offset().left,width:o.outerWidth(!0),height:o.outerHeight(!0)}),i=e(this.settings.template.expose_cover),a={zIndex:o.css("z-index"),position:o.css("position")},r=null==o.attr("class")?"":o.attr("class"),
o.css("z-index",parseInt(n.css("z-index"))+1),"static"==a.position&&o.css("position","relative"),o.data("expose-css",a),o.data("orig-class",r),o.attr("class",r+" "+this.settings.expose_add_class),i.css({top:o.offset().top,left:o.offset().left,width:o.outerWidth(!0),height:o.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(i),n.addClass(s),i.addClass(s),o.data("expose",s),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,o),void this.add_exposed(o))},un_expose:function(){var n,i,o,a,r,s=!1;if(arguments.length>0&&arguments[0]instanceof e)i=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;i=this.settings.$target}return i.length<1?(t.console&&console.error("element not valid",i),!1):(n=i.data("expose"),o=e("."+n),arguments.length>1&&(s=arguments[1]),s===!0?e(".joyride-expose-wrapper,.joyride-expose-cover").remove():o.remove(),a=i.data("expose-css"),"auto"==a.zIndex?i.css("z-index",""):i.css("z-index",a.zIndex),a.position!=i.css("position")&&("static"==a.position?i.css("position",""):i.css("position",a.position)),r=i.data("orig-class"),i.attr("class",r),i.removeData("orig-classes"),i.removeData("expose"),i.removeData("expose-z-index"),void this.remove_exposed(i))},add_exposed:function(t){this.settings.exposed=this.settings.exposed||[],t instanceof e||"object"==typeof t?this.settings.exposed.push(t[0]):"string"==typeof t&&this.settings.exposed.push(t)},remove_exposed:function(t){var n,i;for(t instanceof e?n=t[0]:"string"==typeof t&&(n=t),this.settings.exposed=this.settings.exposed||[],i=this.settings.exposed.length;i--;)if(this.settings.exposed[i]==n)return void this.settings.exposed.splice(i,1)},center:function(){var n=e(t);return this.settings.$next_tip.css({top:(n.height()-this.settings.$next_tip.outerHeight())/2+n.scrollTop(),left:(n.width()-this.settings.$next_tip.outerWidth())/2+n.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(n){var i=e(t),o=i.height()/2,a=Math.ceil(this.settings.$target.offset().top-o+this.settings.$next_tip.outerHeight()),r=i.width()+i.scrollLeft(),s=i.height()+a,c=i.height()+i.scrollTop(),l=i.scrollTop();return l>a&&(l=0>a?0:a),s>c&&(c=s),[n.offset().top<l,r<n.offset().left+n.outerWidth(),c<n.offset().top+n.outerHeight(),i.scrollLeft()>n.offset().left]},visible:function(e){for(var t=e.length;t--;)if(e[t])return!1;return!0},nub_position:function(e,t,n){e.addClass("auto"===t?n:t)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(t){this.settings.cookie_monster&&e.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),e(this.scope).off("keyup.joyride"),this.settings.$next_tip.data("closed",!0),this.settings.riding=!1,e(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),("undefined"==typeof t||t===!1)&&(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),e(".joyride-tip-guide").remove()},off:function(){e(this.scope).off(".joyride"),e(t).off(".joyride"),e(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),e(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,window,window.document),function(e,t){Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.5.1",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0,offset_by_height:!0,duration:700,easing:"swing"},init:function(e,t,n){Foundation.inherit(this,"throttle"),this.bindings(t,n)},events:function(){var n=this,i=n.S,o=n.settings;n.set_expedition_position(),i(n.scope).off(".magellan").on("click.fndtn.magellan","["+n.add_namespace("data-magellan-arrival")+'] a[href^="#"]',function(t){t.preventDefault();var i=e(this).closest("["+n.attr_name()+"]"),o=i.data("magellan-expedition-init"),a=this.hash.split("#").join(""),r=e('a[name="'+a+'"]');0===r.length&&(r=e("#"+a));var s=r.offset().top-o.destination_threshold+1;o.offset_by_height&&(s-=i.outerHeight()),e("html, body").stop().animate({scrollTop:s},o.duration,o.easing,function(){history.pushState?history.pushState(null,null,"#"+a):location.hash="#"+a})}).on("scroll.fndtn.magellan",n.throttle(this.check_for_arrivals.bind(this),o.throttle_delay)),e(t).on("resize.fndtn.magellan",n.throttle(this.set_expedition_position.bind(this),o.throttle_delay))},check_for_arrivals:function(){var e=this;e.update_arrivals(),e.update_expedition_positions()},set_expedition_position:function(){var t=this;e("["+this.attr_name()+"=fixed]",t.scope).each(function(){var n,i,o=e(this),a=o.data("magellan-expedition-init"),r=o.attr("styles");o.attr("style",""),n=o.offset().top+a.threshold,i=parseInt(o.data("magellan-fixed-top")),isNaN(i)||(t.settings.fixed_top=i),o.data(t.data_attr("magellan-top-offset"),n),o.attr("style",r)})},update_expedition_positions:function(){var n=this,i=e(t).scrollTop();e("["+this.attr_name()+"=fixed]",n.scope).each(function(){var t=e(this),o=t.data("magellan-expedition-init"),a=t.attr("style"),r=t.data("magellan-top-offset");if(i+n.settings.fixed_top>=r){var s=t.prev("["+n.add_namespace("data-magellan-expedition-clone")+"]");0===s.length&&(s=t.clone(),s.removeAttr(n.attr_name()),s.attr(n.add_namespace("data-magellan-expedition-clone"),""),t.before(s)),t.css({position:"fixed",top:o.fixed_top}).addClass("fixed")}else t.prev("["+n.add_namespace("data-magellan-expedition-clone")+"]").remove(),t.attr("style",a).css("position","").css("top","").removeClass("fixed")})},update_arrivals:function(){var n=this,i=e(t).scrollTop();e("["+this.attr_name()+"]",n.scope).each(function(){var t=e(this),o=t.data(n.attr_name(!0)+"-init"),a=n.offsets(t,i),r=t.find("["+n.add_namespace("data-magellan-arrival")+"]"),s=!1;a.each(function(e,i){if(i.viewport_offset>=i.top_offset){var a=t.find("["+n.add_namespace("data-magellan-arrival")+"]");return a.not(i.arrival).removeClass(o.active_class),i.arrival.addClass(o.active_class),s=!0,!0}}),s||r.removeClass(o.active_class)})},offsets:function(t,n){var i=this,o=t.data(i.attr_name(!0)+"-init"),a=n;return t.find("["+i.add_namespace("data-magellan-arrival")+"]").map(function(){var n=e(this).data(i.data_attr("magellan-arrival")),r=e("["+i.add_namespace("data-magellan-destination")+"="+n+"]");if(r.length>0){var s=r.offset().top-o.destination_threshold;return o.offset_by_height&&(s-=t.outerHeight()),s=Math.floor(s),{destination:r,arrival:e(this),top_offset:s,viewport_offset:a}}}).sort(function(e,t){return e.top_offset<t.top_offset?-1:e.top_offset>t.top_offset?1:0})},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},off:function(){this.S(this.scope).off(".magellan"),this.S(t).off(".magellan")},reflow:function(){var t=this;e("["+t.add_namespace("data-magellan-expedition-clone")+"]",t.scope).remove()}}}(jQuery,window,window.document),function(e){Foundation.libs.offcanvas={name:"offcanvas",version:"5.5.1",settings:{open_method:"move",close_on_click:!1},init:function(e,t,n){this.bindings(t,n)},events:function(){var t=this,n=t.S,i="",o="",a="";"move"===this.settings.open_method?(i="move-",o="right",a="left"):"overlap_single"===this.settings.open_method?(i="offcanvas-overlap-",o="right",a="left"):"overlap"===this.settings.open_method&&(i="offcanvas-overlap"),n(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(a){t.click_toggle_class(a,i+o),"overlap"!==t.settings.open_method&&n(".left-submenu").removeClass(i+o),e(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(a){var r=t.get_settings(a),s=n(this).parent();!r.close_on_click||s.hasClass("has-submenu")||s.hasClass("back")?n(this).parent().hasClass("has-submenu")?(a.preventDefault(),n(this).siblings(".left-submenu").toggleClass(i+o)):s.hasClass("back")&&(a.preventDefault(),s.parent().removeClass(i+o)):(t.hide.call(t,i+o,t.get_wrapper(a)),s.parent().removeClass(i+o)),e(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(o){t.click_toggle_class(o,i+a),"overlap"!==t.settings.open_method&&n(".right-submenu").removeClass(i+a),e(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(o){var r=t.get_settings(o),s=n(this).parent();!r.close_on_click||s.hasClass("has-submenu")||s.hasClass("back")?n(this).parent().hasClass("has-submenu")?(o.preventDefault(),n(this).siblings(".right-submenu").toggleClass(i+a)):s.hasClass("back")&&(o.preventDefault(),s.parent().removeClass(i+a)):(t.hide.call(t,i+a,t.get_wrapper(o)),s.parent().removeClass(i+a)),e(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(r){t.click_remove_class(r,i+a),n(".right-submenu").removeClass(i+a),o&&(t.click_remove_class(r,i+o),n(".left-submenu").removeClass(i+a)),e(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(n){t.click_remove_class(n,i+a),e(".left-off-canvas-toggle").attr("aria-expanded","false"),o&&(t.click_remove_class(n,i+o),e(".right-off-canvas-toggle").attr("aria-expanded","false"))})},toggle:function(e,t){t=t||this.get_wrapper(),t.is("."+e)?this.hide(e,t):this.show(e,t)},show:function(e,t){t=t||this.get_wrapper(),t.trigger("open").trigger("open.fndtn.offcanvas"),t.addClass(e)},hide:function(e,t){t=t||this.get_wrapper(),t.trigger("close").trigger("close.fndtn.offcanvas"),t.removeClass(e)},click_toggle_class:function(e,t){e.preventDefault();var n=this.get_wrapper(e);this.toggle(t,n)},click_remove_class:function(e,t){e.preventDefault();var n=this.get_wrapper(e);this.hide(t,n)},get_settings:function(e){var t=this.S(e.target).closest("["+this.attr_name()+"]");return t.data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(e){var t=this.S(e?e.target:this.scope).closest(".off-canvas-wrap");return 0===t.length&&(t=this.S(".off-canvas-wrap")),t},reflow:function(){}}}(jQuery,window,window.document),function(e,t,n,i){var o=function(){},a=function(o,a){if(o.hasClass(a.slides_container_class))return this;var l,u,d,p,f,m,g=this,h=o,v=0,y=!1;g.slides=function(){return h.children(a.slide_selector)},g.slides().first().addClass(a.active_slide_class),g.update_slide_number=function(t){a.slide_number&&(u.find("span:first").text(parseInt(t)+1),u.find("span:last").text(g.slides().length)),a.bullets&&(d.children().removeClass(a.bullets_active_class),e(d.children().get(t)).addClass(a.bullets_active_class))},g.update_active_link=function(t){var n=e('[data-orbit-link="'+g.slides().eq(t).attr("data-orbit-slide")+'"]');n.siblings().removeClass(a.bullets_active_class),n.addClass(a.bullets_active_class)},g.build_markup=function(){h.wrap('<div class="'+a.container_class+'"></div>'),l=h.parent(),h.addClass(a.slides_container_class),a.stack_on_small&&l.addClass(a.stack_on_small_class),a.navigation_arrows&&(l.append(e('<a href="#"><span></span></a>').addClass(a.prev_class)),l.append(e('<a href="#"><span></span></a>').addClass(a.next_class))),a.timer&&(p=e("<div>").addClass(a.timer_container_class),p.append("<span>"),p.append(e("<div>").addClass(a.timer_progress_class)),p.addClass(a.timer_paused_class),l.append(p)),a.slide_number&&(u=e("<div>").addClass(a.slide_number_class),u.append("<span></span> "+a.slide_number_text+" <span></span>"),l.append(u)),a.bullets&&(d=e("<ol>").addClass(a.bullets_container_class),l.append(d),d.wrap('<div class="orbit-bullets-container"></div>'),g.slides().each(function(t){var n=e("<li>").attr("data-orbit-slide",t).on("click",g.link_bullet);d.append(n)}))},g._goto=function(t,n){if(t===v)return!1;"object"==typeof m&&m.restart();var i=g.slides(),o="next";if(y=!0,v>t&&(o="prev"),t>=i.length){if(!a.circular)return!1;t=0}else if(0>t){if(!a.circular)return!1;t=i.length-1}var r=e(i.get(v)),s=e(i.get(t));r.css("zIndex",2),r.removeClass(a.active_slide_class),s.css("zIndex",4).addClass(a.active_slide_class),h.trigger("before-slide-change.fndtn.orbit"),a.before_slide_change(),g.update_active_link(t);var c=function(){var e=function(){v=t,y=!1,n===!0&&(m=g.create_timer(),m.start()),g.update_slide_number(v),h.trigger("after-slide-change.fndtn.orbit",[{slide_number:v,total_slides:i.length}]),a.after_slide_change(v,i.length)};h.outerHeight()!=s.outerHeight()&&a.variable_height?h.animate({height:s.outerHeight()},250,"linear",e):e()};if(1===i.length)return c(),!1;var l=function(){"next"===o&&f.next(r,s,c),"prev"===o&&f.prev(r,s,c)};s.outerHeight()>h.outerHeight()&&a.variable_height?h.animate({height:s.outerHeight()},250,"linear",l):l()},g.next=function(e){e.stopImmediatePropagation(),e.preventDefault(),g._goto(v+1)},g.prev=function(e){e.stopImmediatePropagation(),e.preventDefault(),g._goto(v-1)},g.link_custom=function(t){t.preventDefault();var n=e(this).attr("data-orbit-link");if("string"==typeof n&&""!=(n=e.trim(n))){var i=l.find("[data-orbit-slide="+n+"]");-1!=i.index()&&g._goto(i.index())}},g.link_bullet=function(){var t=e(this).attr("data-orbit-slide");if("string"==typeof t&&""!=(t=e.trim(t)))if(isNaN(parseInt(t))){var n=l.find("[data-orbit-slide="+t+"]");-1!=n.index()&&g._goto(n.index()+1)}else g._goto(parseInt(t))},g.timer_callback=function(){g._goto(v+1,!0)},g.compute_dimensions=function(){var t=e(g.slides().get(v)),n=t.outerHeight();a.variable_height||g.slides().each(function(){e(this).outerHeight()>n&&(n=e(this).outerHeight())}),h.height(n)},g.create_timer=function(){var e=new r(l.find("."+a.timer_container_class),a,g.timer_callback);return e},g.stop_timer=function(){"object"==typeof m&&m.stop()},g.toggle_timer=function(){var e=l.find("."+a.timer_container_class);e.hasClass(a.timer_paused_class)?("undefined"==typeof m&&(m=g.create_timer()),m.start()):"object"==typeof m&&m.stop()},g.init=function(){g.build_markup(),a.timer&&(m=g.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),m.start)),f=new c(a,h),"slide"===a.animation&&(f=new s(a,h)),l.on("click","."+a.next_class,g.next),l.on("click","."+a.prev_class,g.prev),a.next_on_click&&l.on("click","."+a.slides_container_class+" [data-orbit-slide]",g.link_bullet),l.on("click",g.toggle_timer),a.swipe&&l.on("touchstart.fndtn.orbit",function(e){e.touches||(e=e.originalEvent);var t={start_page_x:e.touches[0].pageX,start_page_y:e.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:i};l.data("swipe-transition",t),e.stopPropagation()}).on("touchmove.fndtn.orbit",function(e){if(e.touches||(e=e.originalEvent),!(e.touches.length>1||e.scale&&1!==e.scale)){var t=l.data("swipe-transition");if("undefined"==typeof t&&(t={}),t.delta_x=e.touches[0].pageX-t.start_page_x,"undefined"==typeof t.is_scrolling&&(t.is_scrolling=!!(t.is_scrolling||Math.abs(t.delta_x)<Math.abs(e.touches[0].pageY-t.start_page_y))),!t.is_scrolling&&!t.active){e.preventDefault();var n=t.delta_x<0?v+1:v-1;t.active=!0,g._goto(n)}}}).on("touchend.fndtn.orbit",function(e){l.data("swipe-transition",{}),e.stopPropagation()}),l.on("mouseenter.fndtn.orbit",function(){a.timer&&a.pause_on_hover&&g.stop_timer()}).on("mouseleave.fndtn.orbit",function(){a.timer&&a.resume_on_mouseout&&m.start()}),e(n).on("click","[data-orbit-link]",g.link_custom),e(t).on("load resize",g.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),g.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),function(){l.prev("."+a.preloader_class).css("display","none"),g.update_slide_number(0),g.update_active_link(0),h.trigger("ready.fndtn.orbit")})},g.init()},r=function(e,t,n){var i,o,a=this,r=t.timer_speed,s=e.find("."+t.timer_progress_class),c=-1;this.update_progress=function(e){var t=s.clone();t.attr("style",""),t.css("width",e+"%"),s.replaceWith(t),s=t},this.restart=function(){clearTimeout(o),e.addClass(t.timer_paused_class),c=-1,a.update_progress(0)},this.start=function(){return e.hasClass(t.timer_paused_class)?(c=-1===c?r:c,e.removeClass(t.timer_paused_class),i=(new Date).getTime(),s.animate({width:"100%"},c,"linear"),o=setTimeout(function(){a.restart(),n()},c),void e.trigger("timer-started.fndtn.orbit")):!0},this.stop=function(){if(e.hasClass(t.timer_paused_class))return!0;clearTimeout(o),e.addClass(t.timer_paused_class);var n=(new Date).getTime();c-=n-i;var s=100-c/r*100;a.update_progress(s),e.trigger("timer-stopped.fndtn.orbit")}},s=function(t){var n=t.animation_speed,i=1===e("html[dir=rtl]").length,o=i?"marginRight":"marginLeft",a={};a[o]="0%",this.next=function(e,t,i){e.animate({marginLeft:"-100%"},n),t.animate(a,n,function(){e.css(o,"100%"),i()})},this.prev=function(e,t,i){e.animate({marginLeft:"100%"},n),t.css(o,"-100%"),t.animate(a,n,function(){e.css(o,"100%"),i()})}},c=function(t){var n=t.animation_speed;1===e("html[dir=rtl]").length,this.next=function(e,t,i){t.css({margin:"0%",opacity:"0.01"}),t.animate({opacity:"1"},n,"linear",function(){e.css("margin","100%"),i()})},this.prev=function(e,t,i){t.css({margin:"0%",opacity:"0.01"}),t.animate({opacity:"1"},n,"linear",function(){e.css("margin","100%"),i()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.5.1",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:o,after_slide_change:o},init:function(e,t,n){this.bindings(t,n)},events:function(e){var t=new a(this.S(e),this.S(e).data("orbit-init"));this.S(e).data(this.name+"-instance",t)},reflow:function(){var e=this;if(e.S(e.scope).is("[data-orbit]")){var t=e.S(e.scope),n=t.data(e.name+"-instance");n.compute_dimensions()}else e.S("[data-orbit]",e.scope).each(function(t,n){var i=e.S(n),o=(e.data_options(i),i.data(e.name+"-instance"));o.compute_dimensions()})}}}(jQuery,window,window.document),function(e,t,n,i){function o(e){var t=/fade/i.test(e),n=/pop/i.test(e);return{animate:t||n,pop:n,fade:t}}Foundation.libs.reveal={name:"reveal",version:"5.5.1",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",multiple_opened:!1,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:e(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,n,i){e.extend(!0,this.settings,n,i),this.bindings(n,i)},events:function(){var e=this,t=e.S;return t(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(n){if(n.preventDefault(),!e.locked){var i=t(this),o=i.data(e.data_attr("reveal-ajax"));if(e.locked=!0,"undefined"==typeof o)e.open.call(e,i);else{var a=o===!0?i.attr("href"):o;e.open.call(e,i,{url:a})}}}),t(n).on("click.fndtn.reveal",this.close_targets(),function(n){if(n.preventDefault(),!e.locked){var i=t("["+e.attr_name()+"].open").data(e.attr_name(!0)+"-init")||e.settings,o=t(n.target)[0]===t("."+i.bg_class)[0];if(o){if(!i.close_on_background_click)return;n.stopPropagation()}e.locked=!0,e.close.call(e,o?t("["+e.attr_name()+"].open"):t(this).closest("["+e.attr_name()+"]"))}}),t("["+e.attr_name()+"]",this.scope).length>0?t(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):t(this.scope).on("open.fndtn.reveal","["+e.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+e.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.close_video),!0},key_up_on:function(){var e=this;return e.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(t){var n=e.S("["+e.attr_name()+"].open"),i=n.data(e.attr_name(!0)+"-init")||e.settings;i&&27===t.which&&i.close_on_esc&&!e.locked&&e.close.call(e,n)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(n,i){var o,a=this;n?"undefined"!=typeof n.selector?o=a.S("#"+n.data(a.data_attr("reveal-id"))).first():(o=a.S(this.scope),i=n):o=a.S(this.scope);var r=o.data(a.attr_name(!0)+"-init");if(r=r||this.settings,o.hasClass("open")&&n.attr("data-reveal-id")==o.attr("id"))return a.close(o);if(!o.hasClass("open")){var s=a.S("["+a.attr_name()+"].open");if("undefined"==typeof o.data("css-top")&&o.data("css-top",parseInt(o.css("top"),10)).data("offset",this.cache_offset(o)),this.key_up_on(o),o.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),s.length<1&&this.toggle_bg(o,!0),"string"==typeof i&&(i={url:i}),"undefined"!=typeof i&&i.url){var c="undefined"!=typeof i.success?i.success:null;e.extend(i,{success:function(t,n,i){if(e.isFunction(c)){var l=c(t,n,i);"string"==typeof l&&(t=l)}o.html(t),a.S(o).foundation("section","reflow"),a.S(o).children().foundation(),s.length>0&&(r.multiple_opened?this.to_back(s):this.hide(s,r.css.close)),a.show(o,r.css.open)}}),e.ajax(i)}else s.length>0&&(r.multiple_opened?this.to_back(s):this.hide(s,r.css.close)),this.show(o,r.css.open)}a.S(t).trigger("resize")},close:function(t){var t=t&&t.length?t:this.S(this.scope),n=this.S("["+this.attr_name()+"].open"),i=t.data(this.attr_name(!0)+"-init")||this.settings;n.length>0&&(this.locked=!0,this.key_up_off(t),t.trigger("close").trigger("close.fndtn.reveal"),(i.multiple_opened&&1===n.length||!i.multiple_opened||t.length>1)&&(this.toggle_bg(t,!1),this.to_front(t)),i.multiple_opened?(this.hide(t,i.css.close,i),this.to_front(e(e.makeArray(n).reverse()[1]))):this.hide(n,i.css.close,i))},close_targets:function(){var e="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?e+", ."+this.settings.bg_class:e},toggle_bg:function(t,n){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=e("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var o=this.settings.bg.filter(":visible").length>0;n!=o&&((n==i?o:!n)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(n,i){if(i){var a=n.data(this.attr_name(!0)+"-init")||this.settings,r=a.root_element;if(0===n.parent(r).length){var s=n.wrap('<div style="display: none;" />').parent();n.on("closed.fndtn.reveal.wrapped",function(){n.detach().appendTo(s),n.unwrap().unbind("closed.fndtn.reveal.wrapped")}),n.detach().appendTo(r)}var c=o(a.animation);if(c.animate||(this.locked=!1),c.pop){i.top=e(t).scrollTop()-n.data("offset")+"px";var l={top:e(t).scrollTop()+n.data("css-top")+"px",opacity:1};return setTimeout(function(){return n.css(i).animate(l,a.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),a.animation_speed/2)}if(c.fade){i.top=e(t).scrollTop()+n.data("css-top")+"px";var l={opacity:1};return setTimeout(function(){return n.css(i).animate(l,a.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),a.animation_speed/2)}return n.css(i).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}var a=this.settings;return o(a.animation).fade?n.fadeIn(a.animation_speed/2):(this.locked=!1,n.show())},to_back:function(e){e.addClass("toback")},to_front:function(e){e.removeClass("toback")},hide:function(n,i){if(i){var a=n.data(this.attr_name(!0)+"-init");a=a||this.settings;var r=o(a.animation);if(r.animate||(this.locked=!1),r.pop){var s={top:-e(t).scrollTop()-n.data("offset")+"px",opacity:0};return setTimeout(function(){return n.animate(s,a.animation_speed,"linear",function(){this.locked=!1,n.css(i).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),a.animation_speed/2)}if(r.fade){var s={opacity:0};return setTimeout(function(){return n.animate(s,a.animation_speed,"linear",function(){this.locked=!1,n.css(i).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),a.animation_speed/2)}return n.hide().css(i).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal")}var a=this.settings;return o(a.animation).fade?n.fadeOut(a.animation_speed/2):n.hide()},close_video:function(t){var n=e(".flex-video",t.target),i=e("iframe",n);i.length>0&&(i.attr("data-src",i[0].src),i.attr("src",i.attr("src")),n.hide())},open_video:function(t){var n=e(".flex-video",t.target),o=n.find("iframe");if(o.length>0){var a=o.attr("data-src");if("string"==typeof a)o[0].src=o.attr("data-src");else{var r=o[0].src;o[0].src=i,o[0].src=r}n.show()}},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},cache_offset:function(e){var t=e.show().height()+parseInt(e.css("top"),10);return e.hide(),t},off:function(){e(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(e,t){Foundation.libs.slider={name:"slider",version:"5.5.1",settings:{start:0,end:100,step:1,precision:null,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(e,t,n){Foundation.inherit(this,"throttle"),this.bindings(t,n),this.reflow()},events:function(){var n=this;e(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+n.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(t){n.cache.active||(t.preventDefault(),n.set_active_slider(e(t.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(i){if(n.cache.active)if(i.preventDefault(),e.data(n.cache.active[0],"settings").vertical){var o=0;i.pageY||(o=t.scrollY),n.calculate_position(n.cache.active,n.get_cursor_position(i,"y")+o)}else n.calculate_position(n.cache.active,n.get_cursor_position(i,"x"))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(){n.remove_active_slider()}).on("change.fndtn.slider",function(){n.settings.on_change()}),n.S(t).on("resize.fndtn.slider",n.throttle(function(){n.reflow()},300))},get_cursor_position:function(e,t){var n,i="page"+t.toUpperCase(),o="client"+t.toUpperCase();return"undefined"!=typeof e[i]?n=e[i]:"undefined"!=typeof e.originalEvent[o]?n=e.originalEvent[o]:e.originalEvent.touches&&e.originalEvent.touches[0]&&"undefined"!=typeof e.originalEvent.touches[0][o]?n=e.originalEvent.touches[0][o]:e.currentPoint&&"undefined"!=typeof e.currentPoint[t]&&(n=e.currentPoint[t]),n},set_active_slider:function(e){this.cache.active=e},remove_active_slider:function(){this.cache.active=null},calculate_position:function(t,n){var i=this,o=e.data(t[0],"settings"),a=(e.data(t[0],"handle_l"),e.data(t[0],"handle_o"),e.data(t[0],"bar_l")),r=e.data(t[0],"bar_o");requestAnimationFrame(function(){var e;e=Foundation.rtl&&!o.vertical?i.limit_to((r+a-n)/a,0,1):i.limit_to((n-r)/a,0,1),e=o.vertical?1-e:e;var s=i.normalized_value(e,o.start,o.end,o.step,o.precision);i.set_ui(t,s)})},set_ui:function(t,n){var i=e.data(t[0],"settings"),o=e.data(t[0],"handle_l"),a=e.data(t[0],"bar_l"),r=this.normalized_percentage(n,i.start,i.end),s=r*(a-o)-1,c=100*r,l=t.parent(),u=t.parent().children("input[type=hidden]");Foundation.rtl&&!i.vertical&&(s=-s),s=i.vertical?-s+a-o+1:s,this.set_translate(t,s,i.vertical),i.vertical?t.siblings(".range-slider-active-segment").css("height",c+"%"):t.siblings(".range-slider-active-segment").css("width",c+"%"),l.attr(this.attr_name(),n).trigger("change").trigger("change.fndtn.slider"),u.val(n),i.trigger_input_change&&u.trigger("change"),t[0].hasAttribute("aria-valuemin")||t.attr({"aria-valuemin":i.start,"aria-valuemax":i.end}),t.attr("aria-valuenow",n),""!=i.display_selector&&e(i.display_selector).each(function(){this.hasOwnProperty("value")?e(this).val(n):e(this).text(n)})},normalized_percentage:function(e,t,n){return Math.min(1,(e-t)/(n-t))},normalized_value:function(e,t,n,i,o){var a=n-t,r=e*a,s=(r-r%i)/i,c=r%i,l=c>=.5*i?i:0;return(s*i+l+t).toFixed(o)},set_translate:function(t,n,i){i?e(t).css("-webkit-transform","translateY("+n+"px)").css("-moz-transform","translateY("+n+"px)").css("-ms-transform","translateY("+n+"px)").css("-o-transform","translateY("+n+"px)").css("transform","translateY("+n+"px)"):e(t).css("-webkit-transform","translateX("+n+"px)").css("-moz-transform","translateX("+n+"px)").css("-ms-transform","translateX("+n+"px)").css("-o-transform","translateX("+n+"px)").css("transform","translateX("+n+"px)")},limit_to:function(e,t,n){return Math.min(Math.max(e,t),n)},initialize_settings:function(t){var n,i=e.extend({},this.settings,this.data_options(e(t).parent()));null===i.precision&&(n=(""+i.step).match(/\.([\d]*)/),i.precision=n&&n[1]?n[1].length:0),i.vertical?(e.data(t,"bar_o",e(t).parent().offset().top),e.data(t,"bar_l",e(t).parent().outerHeight()),e.data(t,"handle_o",e(t).offset().top),e.data(t,"handle_l",e(t).outerHeight())):(e.data(t,"bar_o",e(t).parent().offset().left),e.data(t,"bar_l",e(t).parent().outerWidth()),e.data(t,"handle_o",e(t).offset().left),e.data(t,"handle_l",e(t).outerWidth())),e.data(t,"bar",e(t).parent()),e.data(t,"settings",i)},set_initial_position:function(t){var n=e.data(t.children(".range-slider-handle")[0],"settings"),i="number"!=typeof n.initial||isNaN(n.initial)?Math.floor(.5*(n.end-n.start)/n.step)*n.step+n.start:n.initial,o=t.children(".range-slider-handle");this.set_ui(o,i)},set_value:function(t){var n=this;e("["+n.attr_name()+"]",this.scope).each(function(){e(this).attr(n.attr_name(),t)}),e(this.scope).attr(n.attr_name())&&e(this.scope).attr(n.attr_name(),t),n.reflow()},reflow:function(){var t=this;t.S("["+this.attr_name()+"]").each(function(){var n=e(this).children(".range-slider-handle")[0],i=e(this).attr(t.attr_name());t.initialize_settings(n),i?t.set_ui(e(n),parseFloat(i)):t.set_initial_position(e(this))})}}}(jQuery,window,window.document),function(e,t,n,i){Foundation.libs.tab={name:"tab",version:"5.5.1",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(e,n,i){var o=this,a=this.S;this.bindings(n,i),o.entry_location=t.location.href,this.handle_location_hash_change(),a("["+this.attr_name()+"] > .active > a",this.scope).each(function(){o.default_tab_hashes.push(this.hash)})},events:function(){var e=this,n=this.S,i=function(t){var i=n(this).closest("["+e.attr_name()+"]").data(e.attr_name(!0)+"-init");
(!i.is_hover||Modernizr.touch)&&(t.preventDefault(),t.stopPropagation(),e.toggle_active_tab(n(this).parent()))};n(this.scope).off(".tab").on("focus.fndtn.tab","["+this.attr_name()+"] > * > a",i).on("click.fndtn.tab","["+this.attr_name()+"] > * > a",i).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(){var t=n(this).closest("["+e.attr_name()+"]").data(e.attr_name(!0)+"-init");t.is_hover&&e.toggle_active_tab(n(this).parent())}),n(t).on("hashchange.fndtn.tab",function(t){t.preventDefault(),e.handle_location_hash_change()})},handle_location_hash_change:function(){var t=this,n=this.S;n("["+this.attr_name()+"]",this.scope).each(function(){var o=n(this).data(t.attr_name(!0)+"-init");if(o.deep_linking){var a;if(a=o.scroll_to_content?t.scope.location.hash:t.scope.location.hash.replace("fndtn-",""),""!=a){var r=n(a);if(r.hasClass("content")&&r.parent().hasClass("tabs-content"))t.toggle_active_tab(e("["+t.attr_name()+"] > * > a[href="+a+"]").parent());else{var s=r.closest(".content").attr("id");s!=i&&t.toggle_active_tab(e("["+t.attr_name()+"] > * > a[href=#"+s+"]").parent(),a)}}else for(var c=0;c<t.default_tab_hashes.length;c++)t.toggle_active_tab(e("["+t.attr_name()+"] > * > a[href="+t.default_tab_hashes[c]+"]").parent())}})},toggle_active_tab:function(o,a){var r=this,s=r.S,c=o.closest("["+this.attr_name()+"]"),l=o.find("a"),u=o.children("a").first(),d="#"+u.attr("href").split("#")[1],p=s(d),f=o.siblings(),m=c.data(this.attr_name(!0)+"-init"),g=function(t){var i,o=e(this),a=e(this).parents("li").prev().children('[role="tab"]'),r=e(this).parents("li").next().children('[role="tab"]');switch(t.keyCode){case 37:i=a;break;case 39:i=r;break;default:i=!1}i.length&&(o.attr({tabindex:"-1","aria-selected":null}),i.attr({tabindex:"0","aria-selected":!0}).focus()),e('[role="tabpanel"]').attr("aria-hidden","true"),e("#"+e(n.activeElement).attr("href").substring(1)).attr("aria-hidden",null)},h=function(e){var n=t.location.href===r.entry_location,i=m.scroll_to_content?r.default_tab_hashes[0]:n?t.location.hash:"fndtn-"+r.default_tab_hashes[0].replace("#","");n&&e===i||(t.location.hash=e)};s(this).data(this.data_attr("tab-content"))&&(d="#"+s(this).data(this.data_attr("tab-content")).split("#")[1],p=s(d)),m.deep_linking&&(m.scroll_to_content?(h(a||d),a==i||a==d?o.parent()[0].scrollIntoView():s(d)[0].scrollIntoView()):h(a!=i?"fndtn-"+a.replace("#",""):"fndtn-"+d.replace("#",""))),o.addClass(m.active_class).triggerHandler("opened"),l.attr({"aria-selected":"true",tabindex:0}),f.removeClass(m.active_class),f.find("a").attr({"aria-selected":"false",tabindex:-1}),p.siblings().removeClass(m.active_class).attr({"aria-hidden":"true",tabindex:-1}),p.addClass(m.active_class).attr("aria-hidden","false").removeAttr("tabindex"),m.callback(o),p.triggerHandler("toggled",[o]),c.triggerHandler("toggled",[p]),l.off("keydown").on("keydown",g)},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(e,t){Foundation.libs.tooltip={name:"tooltip",version:"5.5.1",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(e,t){return'<span data-selector="'+e+'" id="'+e+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+t+'<span class="nub"></span></span>'}},cache:{},init:function(e,t,n){Foundation.inherit(this,"random_str"),this.bindings(t,n)},should_show:function(t){var n=e.extend({},this.settings,this.data_options(t));return"all"===n.show_on?!0:this.small()&&"small"===n.show_on?!0:this.medium()&&"medium"===n.show_on?!0:this.large()&&"large"===n.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(t){var n=this,i=n.S;n.create(this.S(t)),e(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(t){var o=i(this),a=e.extend({},n.settings,n.data_options(o)),r=!1;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&i(t.target).is("a"))return!1;if(/mouse/i.test(t.type)&&n.ie_touch(t))return!1;if(o.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&t.preventDefault(),n.hide(o);else{if(a.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type))return;!a.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&(t.preventDefault(),i(a.tooltip_class+".open").hide(),r=!0),/enter|over/i.test(t.type)?this.timer=setTimeout(function(){n.showTip(o)}.bind(this),n.settings.hover_delay):"mouseout"===t.type||"mouseleave"===t.type?(clearTimeout(this.timer),n.hide(o)):n.showTip(o)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(t){return/mouse/i.test(t.type)&&n.ie_touch(t)?!1:void(("touch"!=e(this).data("tooltip-open-event-type")||"mouseleave"!=t.type)&&("mouse"==e(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(t.type)?n.convert_to_touch(e(this)):n.hide(e(this))))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(){n.hide(i(this))})},ie_touch:function(){return!1},showTip:function(e){var t=this.getTip(e);return this.should_show(e,t)?this.show(e):void 0},getTip:function(t){var n=this.selector(t),i=e.extend({},this.settings,this.data_options(t)),o=null;return n&&(o=this.S('span[data-selector="'+n+'"]'+i.tooltip_class)),"object"==typeof o?o:!1},selector:function(e){var t=e.attr("id"),n=e.attr(this.attr_name())||e.attr("data-selector");return(t&&t.length<1||!t)&&"string"!=typeof n&&(n=this.random_str(6),e.attr("data-selector",n).attr("aria-describedby",n)),t&&t.length>0?t:n},create:function(n){var i=this,o=e.extend({},this.settings,this.data_options(n)),a=this.settings.tip_template;"string"==typeof o.tip_template&&t.hasOwnProperty(o.tip_template)&&(a=t[o.tip_template]);var r=e(a(this.selector(n),e("<div></div>").html(n.attr("title")).html())),s=this.inheritable_classes(n);r.addClass(s).appendTo(o.append_to),Modernizr.touch&&(r.append('<span class="tap-to-close">'+o.touch_close_text+"</span>"),r.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){i.hide(n)})),n.removeAttr("title").attr("title","")},reposition:function(t,n,i){var o,a,r,s,c;if(n.css("visibility","hidden").show(),o=t.data("width"),a=n.children(".nub"),r=a.outerHeight(),s=a.outerHeight(),n.css(this.small()?{width:"100%"}:{width:o?o:"auto"}),c=function(e,t,n,i,o){return e.css({top:t?t:"auto",bottom:i?i:"auto",left:o?o:"auto",right:n?n:"auto"}).end()},c(n,t.offset().top+t.outerHeight()+10,"auto","auto",t.offset().left),this.small())c(n,t.offset().top+t.outerHeight()+10,"auto","auto",12.5,e(this.scope).width()),n.addClass("tip-override"),c(a,-r,"auto","auto",t.offset().left);else{var l=t.offset().left;Foundation.rtl&&(a.addClass("rtl"),l=t.offset().left+t.outerWidth()-n.outerWidth()),c(n,t.offset().top+t.outerHeight()+10,"auto","auto",l),n.removeClass("tip-override"),i&&i.indexOf("tip-top")>-1?(Foundation.rtl&&a.addClass("rtl"),c(n,t.offset().top-n.outerHeight(),"auto","auto",l).removeClass("tip-override")):i&&i.indexOf("tip-left")>-1?(c(n,t.offset().top+t.outerHeight()/2-n.outerHeight()/2,"auto","auto",t.offset().left-n.outerWidth()-r).removeClass("tip-override"),a.removeClass("rtl")):i&&i.indexOf("tip-right")>-1&&(c(n,t.offset().top+t.outerHeight()/2-n.outerHeight()/2,"auto","auto",t.offset().left+t.outerWidth()+r).removeClass("tip-override"),a.removeClass("rtl"))}n.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(t){var n=e.extend({},this.settings,this.data_options(t)),i=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(n.additional_inheritable_classes),o=t.attr("class"),a=o?e.map(o.split(" "),function(t){return-1!==e.inArray(t,i)?t:void 0}).join(" "):"";return e.trim(a)},convert_to_touch:function(t){var n=this,i=n.getTip(t),o=e.extend({},n.settings,n.data_options(t));0===i.find(".tap-to-close").length&&(i.append('<span class="tap-to-close">'+o.touch_close_text+"</span>"),i.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){n.hide(t)})),t.data("tooltip-open-event-type","touch")},show:function(e){var t=this.getTip(e);"touch"==e.data("tooltip-open-event-type")&&this.convert_to_touch(e),this.reposition(e,t,e.attr("class")),e.addClass("open"),t.fadeIn(150)},hide:function(e){var t=this.getTip(e);t.fadeOut(150,function(){t.find(".tap-to-close").remove(),t.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),e.removeClass("open")})},off:function(){var t=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(n){e("["+t.attr_name()+"]").eq(n).attr("title",e(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document),function(e,t,n){Foundation.libs.topbar={name:"topbar",version:"5.5.1",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(t,n,i){Foundation.inherit(this,"add_custom_rule register_media throttle");var o=this;o.register_media("topbar","foundation-mq-topbar"),this.bindings(n,i),o.S("["+this.attr_name()+"]",this.scope).each(function(){var t=e(this),n=t.data(o.attr_name(!0)+"-init");o.S("section, .top-bar-section",this),t.data("index",0);var i=t.parent();i.hasClass("fixed")||o.is_sticky(t,i,n)?(o.settings.sticky_class=n.sticky_class,o.settings.sticky_topbar=t,t.data("height",i.outerHeight()),t.data("stickyoffset",i.offset().top)):t.data("height",t.outerHeight()),n.assembled||o.assemble(t),n.is_hover?o.S(".has-dropdown",t).addClass("not-click"):o.S(".has-dropdown",t).removeClass("not-click"),o.add_custom_rule(".f-topbar-fixed { padding-top: "+t.data("height")+"px }"),i.hasClass("fixed")&&o.S("body").addClass("f-topbar-fixed")})},is_sticky:function(e,t,n){var i=t.hasClass(n.sticky_class),o=matchMedia(Foundation.media_queries.small).matches,a=matchMedia(Foundation.media_queries.medium).matches,r=matchMedia(Foundation.media_queries.large).matches;return i&&"all"===n.sticky_on?!0:i&&this.small()&&-1!==n.sticky_on.indexOf("small")&&o&&!a&&!r?!0:i&&this.medium()&&-1!==n.sticky_on.indexOf("medium")&&o&&a&&!r?!0:i&&this.large()&&-1!==n.sticky_on.indexOf("large")&&o&&a&&r?!0:i&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1},toggle:function(n){var i,o=this;i=n?o.S(n).closest("["+this.attr_name()+"]"):o.S("["+this.attr_name()+"]");var a=i.data(this.attr_name(!0)+"-init"),r=o.S("section, .top-bar-section",i);o.breakpoint()&&(o.rtl?(r.css({right:"0%"}),e(">.name",r).css({right:"100%"})):(r.css({left:"0%"}),e(">.name",r).css({left:"100%"})),o.S("li.moved",r).removeClass("moved"),i.data("index",0),i.toggleClass("expanded").css("height","")),a.scrolltop?i.hasClass("expanded")?i.parent().hasClass("fixed")&&(a.scrolltop?(i.parent().removeClass("fixed"),i.addClass("fixed"),o.S("body").removeClass("f-topbar-fixed"),t.scrollTo(0,0)):i.parent().removeClass("expanded")):i.hasClass("fixed")&&(i.parent().addClass("fixed"),i.removeClass("fixed"),o.S("body").addClass("f-topbar-fixed")):(o.is_sticky(i,i.parent(),a)&&i.parent().addClass("fixed"),i.parent().hasClass("fixed")&&(i.hasClass("expanded")?(i.addClass("fixed"),i.parent().addClass("expanded"),o.S("body").addClass("f-topbar-fixed")):(i.removeClass("fixed"),i.parent().removeClass("expanded"),o.update_sticky_positioning())))},timer:null,events:function(){var n=this,i=this.S;i(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(e){e.preventDefault(),n.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(){var t=e(this).closest("li");!n.breakpoint()||t.hasClass("back")||t.hasClass("has-dropdown")||n.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(t){var o=i(this),a=i(t.target),r=o.closest("["+n.attr_name()+"]"),s=r.data(n.attr_name(!0)+"-init");return a.data("revealId")?void n.toggle():void(n.breakpoint()||(!s.is_hover||Modernizr.touch)&&(t.stopImmediatePropagation(),o.hasClass("hover")?(o.removeClass("hover").find("li").removeClass("hover"),o.parents("li.hover").removeClass("hover")):(o.addClass("hover"),e(o).siblings().removeClass("hover"),"A"===a[0].nodeName&&a.parent().hasClass("has-dropdown")&&t.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(e){if(n.breakpoint()){e.preventDefault();var t=i(this),o=t.closest("["+n.attr_name()+"]"),a=o.find("section, .top-bar-section"),r=(t.next(".dropdown").outerHeight(),t.closest("li"));o.data("index",o.data("index")+1),r.addClass("moved"),n.rtl?(a.css({right:-(100*o.data("index"))+"%"}),a.find(">.name").css({right:100*o.data("index")+"%"})):(a.css({left:-(100*o.data("index"))+"%"}),a.find(">.name").css({left:100*o.data("index")+"%"})),o.css("height",t.siblings("ul").outerHeight(!0)+o.data("height"))}}),i(t).off(".topbar").on("resize.fndtn.topbar",n.throttle(function(){n.resize.call(n)},50)).trigger("resize").trigger("resize.fndtn.topbar").load(function(){i(this).trigger("resize.fndtn.topbar")}),i("body").off(".topbar").on("click.fndtn.topbar",function(e){var t=i(e.target).closest("li").closest("li.hover");t.length>0||i("["+n.attr_name()+"] li.hover").removeClass("hover")}),i(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(e){e.preventDefault();var t=i(this),o=t.closest("["+n.attr_name()+"]"),a=o.find("section, .top-bar-section"),r=(o.data(n.attr_name(!0)+"-init"),t.closest("li.moved")),s=r.parent();o.data("index",o.data("index")-1),n.rtl?(a.css({right:-(100*o.data("index"))+"%"}),a.find(">.name").css({right:100*o.data("index")+"%"})):(a.css({left:-(100*o.data("index"))+"%"}),a.find(">.name").css({left:100*o.data("index")+"%"})),0===o.data("index")?o.css("height",""):o.css("height",s.outerHeight(!0)+o.data("height")),setTimeout(function(){r.removeClass("moved")},300)}),i(this.scope).find(".dropdown a").focus(function(){e(this).parents(".has-dropdown").addClass("hover")}).blur(function(){e(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var t,i=e.S(this),o=i.data(e.attr_name(!0)+"-init"),a=i.parent("."+e.settings.sticky_class);if(!e.breakpoint()){var r=i.hasClass("expanded");i.css("height","").removeClass("expanded").find("li").removeClass("hover"),r&&e.toggle(i)}e.is_sticky(i,a,o)&&(a.hasClass("fixed")?(a.removeClass("fixed"),t=a.offset().top,e.S(n.body).hasClass("f-topbar-fixed")&&(t-=i.data("height")),i.data("stickyoffset",t),a.addClass("fixed")):(t=a.offset().top,i.data("stickyoffset",t)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(t){var n=this,i=t.data(this.attr_name(!0)+"-init"),o=n.S("section, .top-bar-section",t);o.detach(),n.S(".has-dropdown>a",o).each(function(){var t,o=n.S(this),a=o.siblings(".dropdown"),r=o.attr("href");a.find(".title.back").length||(t=e(1==i.mobile_show_parent_link&&r?'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-large-up"><a class="parent-link js-generated" href="'+r+'">'+o.html()+"</a></li>":'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),e("h5>a",t).html(1==i.custom_back_text?i.back_text:"&laquo; "+o.html()),a.prepend(t))}),o.appendTo(t),this.sticky(),this.assembled(t)},assembled:function(t){t.data(this.attr_name(!0),e.extend({},t.data(this.attr_name(!0)),{assembled:!0}))},height:function(t){var n=0,i=this;return e("> li",t).each(function(){n+=i.S(this).outerHeight(!0)}),n},sticky:function(){var e=this;this.S(t).on("scroll",function(){e.update_sticky_positioning()})},update_sticky_positioning:function(){var e="."+this.settings.sticky_class,n=this.S(t),i=this;if(i.settings.sticky_topbar&&i.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var o=this.settings.sticky_topbar.data("stickyoffset");i.S(e).hasClass("expanded")||(n.scrollTop()>o?i.S(e).hasClass("fixed")||(i.S(e).addClass("fixed"),i.S("body").addClass("f-topbar-fixed")):n.scrollTop()<=o&&i.S(e).hasClass("fixed")&&(i.S(e).removeClass("fixed"),i.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(t).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document),define("foundation",["jquery","modernizr","fastclick"],function(){}),/*! Knockout projections plugin - version 1.1.0
------------------------------------------------------------------------------
Copyright (c) Microsoft Corporation
All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 
THIS CODE IS PROVIDED *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions and limitations under the License.
------------------------------------------------------------------------------
*/
function(e,t){function n(e,t,n,i,o,a,r){this.inputItem=t,this.stateArrayIndex=n,this.mappingOptions=o,this.arrayOfState=a,this.outputObservableArray=r,this.outputArray=this.outputObservableArray.peek(),this.isIncluded=null,this.suppressNotification=!1,this.outputArrayIndex=e.observable(i),this.disposeFuncFromMostRecentMapping=null,this.mappedValueComputed=e.computed(this.mappingEvaluator,this),this.mappedValueComputed.subscribe(this.onMappingResultChanged,this),this.previousMappedValue=this.mappedValueComputed.peek()}function i(e,t){if(!e)return null;switch(e.status){case"added":return e.index;case"deleted":return e.index+t;default:throw new Error("Unknown diff status: "+e.status)}}function o(e,t,i,o,a,r,s,c,l){var u="number"==typeof t.moved,d=u?i[t.moved]:new n(e,t.value,o,a,r,s,c);return s.splice(o,0,d),d.isIncluded&&l.splice(a,0,d.mappedValueComputed.peek()),u&&(d.stateArrayIndex=o,d.setOutputArrayIndexSilently(a)),d}function a(e,t,n,i,o){var a=t.splice(n,1)[0];a.isIncluded&&o.splice(i,1),"number"!=typeof e.moved&&a.dispose()}function r(e,t,n){return e.stateArrayIndex=t,e.setOutputArrayIndexSilently(n),n+(e.isIncluded?1:0)}function s(e,t){for(var n={},i=0;i<e.length;i++){var o=e[i];"added"===o.status&&"number"==typeof o.moved&&(n[o.moved]=t[o.moved])}return n}function c(e,t,n){return n.length&&t[e.index]?t[e.index].outputArrayIndex.peek():n.length}function l(e,t,n,l,u,d){return t.subscribe(function(t){if(t.length){for(var p=s(t,n),f=0,m=t[0],g=0,h=m&&c(m,n,l),v=m.index;m||v<n.length;v++)if(i(m,g)===v){switch(m.status){case"added":var y=o(e,m,p,v,h,d,n,u,l);y.isIncluded&&h++,g++;break;case"deleted":a(m,n,v,h,l),g--,v--;break;default:throw new Error("Unknown diff status: "+m.status)}f++,m=t[f]}else v<n.length&&(h=r(n[v],v,h));u.valueHasMutated()}},null,"arrayChange")}function u(e,t){var i=this,o=[],a=[],r=e.observableArray(a),s=i.peek();if("function"==typeof t&&(t={mapping:t}),t.mappingWithDisposeCallback){if(t.mapping||t.disposeItem)throw new Error("'mappingWithDisposeCallback' cannot be used in conjunction with 'mapping' or 'disposeItem'.")}else if(!t.mapping)throw new Error("Specify either 'mapping' or 'mappingWithDisposeCallback'.");for(var c=0;c<s.length;c++){var u=s[c],d=new n(e,u,c,a.length,t,o,r),p=d.mappedValueComputed.peek();o.push(d),d.isIncluded&&a.push(p)}var m=l(e,i,o,a,r,t),g=e.computed(r).extend({trackArrayChanges:!0}),h=g.dispose;return g.dispose=function(){m.dispose(),e.utils.arrayForEach(o,function(e){e.dispose()}),h.call(this,arguments)},f(e,g),g}function d(e,t){return u.call(this,e,function(e){return t(e)?e:h})}function p(e){function t(e,t){return function(){return t.apply(this,[e].concat(Array.prototype.slice.call(arguments,0)))}}e[v]={map:t(e,u),filter:t(e,d)}}function f(e,t){return e.utils.extend(t,e[v]),t}function m(e){e.projections={_exclusionMarker:h},p(e),f(e,e.observableArray.fn)}function g(){if("undefined"!=typeof module&&"undefined"!=typeof module.exports){var t=require("knockout");m(t),module.exports=t}else"function"==typeof define&&define.amd?define("knockout-projections",["knockout"],m):"ko"in e&&m(e.ko)}var h={};n.prototype.dispose=function(){this.mappedValueComputed.dispose(),this.disposeResultFromMostRecentEvaluation()},n.prototype.disposeResultFromMostRecentEvaluation=function(){if(this.disposeFuncFromMostRecentMapping&&(this.disposeFuncFromMostRecentMapping(),this.disposeFuncFromMostRecentMapping=null),this.mappingOptions.disposeItem){var e=this.mappedValueComputed();this.mappingOptions.disposeItem(e)}},n.prototype.mappingEvaluator=function(){null!==this.isIncluded&&this.disposeResultFromMostRecentEvaluation();var e;if(this.mappingOptions.mapping)e=this.mappingOptions.mapping(this.inputItem,this.outputArrayIndex);else{if(!this.mappingOptions.mappingWithDisposeCallback)throw new Error("No mapping callback given.");var t=this.mappingOptions.mappingWithDisposeCallback(this.inputItem,this.outputArrayIndex);if(!("mappedValue"in t))throw new Error("Return value from mappingWithDisposeCallback should have a 'mappedItem' property.");e=t.mappedValue,this.disposeFuncFromMostRecentMapping=t.dispose}var n=e!==h;return this.isIncluded!==n&&(null!==this.isIncluded&&this.moveSubsequentItemsBecauseInclusionStateChanged(n),this.isIncluded=n),e},n.prototype.onMappingResultChanged=function(e){e!==this.previousMappedValue&&(this.isIncluded&&this.outputArray.splice(this.outputArrayIndex.peek(),1,e),this.suppressNotification||this.outputObservableArray.valueHasMutated(),this.previousMappedValue=e)},n.prototype.moveSubsequentItemsBecauseInclusionStateChanged=function(e){var t,n,i=this.outputArrayIndex.peek();if(e)for(this.outputArray.splice(i,0,null),t=this.stateArrayIndex+1;t<this.arrayOfState.length;t++)n=this.arrayOfState[t],n.setOutputArrayIndexSilently(n.outputArrayIndex.peek()+1);else for(this.outputArray.splice(i,1),t=this.stateArrayIndex+1;t<this.arrayOfState.length;t++)n=this.arrayOfState[t],n.setOutputArrayIndexSilently(n.outputArrayIndex.peek()-1)},n.prototype.setOutputArrayIndexSilently=function(e){this.suppressNotification=!0,this.outputArrayIndex(e),this.suppressNotification=!1};var v="_ko.projections.cache";g()}(this),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("authentication",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Authentication=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=BankingJS.Utilities.Promise,n=BankingJS.Utilities.Network;BankingJS.Services.Authentication=BankingJS.Services.Authentication||{},BankingJS.Models.Authentication=BankingJS.Models.Authentication||{},BankingJS.ViewModels.Authentication=BankingJS.ViewModels.Authentication||{},BankingJS.ViewModels.Authentication.Basic=BankingJS.ViewModels.Authentication.Basic||{};var i=e("./Login/Actions/LoginAction");BankingJS.Models.Authentication.Login=BankingJS.Models.Authentication.Login||{},BankingJS.ViewModels.Authentication.Login=BankingJS.ViewModels.Authentication.Login||{},BankingJS.Models.Authentication.Login.LoginModel=e("./Login/Models/LoginModel"),BankingJS.ViewModels.Authentication.Login.LoginSetup=e("./Login/ViewModels/LoginSetup"),BankingJS.Services.Authentication.Login=BankingJS.Services.Authentication.Login||{},BankingJS.Services.Authentication.Login.LoginService=e("./Login/Service/LoginService")(t,n),BankingJS.getAppContext().actions.addContext("LOGIN",new i);var o=e("./Logout/Actions/LogoutAction"),a=e("./Logout/Actions/StartAction"),r=new o;BankingJS.Models.Authentication.Logout=BankingJS.Models.Authentication.Logout||{},BankingJS.ViewModels.Authentication.Logout=BankingJS.ViewModels.Authentication.Logout||{},BankingJS.Models.Authentication.Logout.LogoutModel=e("./Logout/Models/LogoutModel"),BankingJS.Services.Authentication.Logout=BankingJS.Services.Authentication.Logout||{},BankingJS.Services.Authentication.Logout.LogoutService=e("./Logout/Service/LogoutService")(t,n),BankingJS.getAppContext().actions.addContext("LOGOUT",r),BankingJS.getAppContext().actions.addContext("START",new a),BankingJS.getAppContext().getUser().addUserEvent("timeoutSession",r),BankingJS.getAppContext().setActionContext("navigationMenu",r,"topNav",70);var s=e("./MFA/Actions/OpenMFAPrompt");BankingJS.Models.Authentication.MFA=BankingJS.Models.Authentication.MFA||{},BankingJS.ViewModels.Authentication.MFA=BankingJS.ViewModels.Authentication.MFA||{},BankingJS.Models.Authentication.MFA.MFAPromptState=e("./MFA/Models/MFAPromptState"),BankingJS.ViewModels.Authentication.MFA.MFAPrompt=e("./MFA/ViewModels/MFAPrompt"),BankingJS.Services.Authentication.MFA=BankingJS.Services.Authentication.MFA||{},BankingJS.Services.Authentication.MFA.MFAService=e("./MFA/Service/MFAService")(t,n),BankingJS.getAppContext().actions.addContext("MFA_ANSWER",new s);var c=e("./Terms/Actions/OpenTerms");BankingJS.Models.Authentication.Terms=BankingJS.Models.Authentication.Terms||{},BankingJS.ViewModels.Authentication.Terms=BankingJS.ViewModels.Authentication.Terms||{},BankingJS.Models.Authentication.Terms.LoginTermsState=e("./Terms/Models/LoginTermsState"),BankingJS.ViewModels.Authentication.Terms.LoginTerms=e("./Terms/ViewModels/LoginTerms"),BankingJS.Services.Authentication.Terms=BankingJS.Services.Authentication.Terms||{},BankingJS.Services.Authentication.Terms.LoginTermsService=e("./Terms/Service/LoginTermsService")(t,n),BankingJS.getAppContext().actions.addContext("LOGIN_TERMS",new c);var l=e("./EAccessAgreement/Actions/OpenEAccessAgreement");BankingJS.Models.Authentication.EAccessAgreement=BankingJS.Models.Authentication.EAccessAgreement||{},BankingJS.ViewModels.Authentication.EAccessAgreement=BankingJS.ViewModels.Authentication.EAccessAgreement||{},BankingJS.Models.Authentication.EAccessAgreement.LoginEAccessAgreementState=e("./EAccessAgreement/Models/LoginEAccessAgreementState"),BankingJS.ViewModels.Authentication.EAccessAgreement.LoginEAccessAgreement=e("./EAccessAgreement/ViewModels/LoginEAccessAgreement"),BankingJS.Services.Authentication.EAccessAgreement=BankingJS.Services.Authentication.EAccessAgreement||{},BankingJS.Services.Authentication.EAccessAgreement.LoginEAccessAgreementService=e("./EAccessAgreement/Service/LoginEAccessAgreementService")(t,n),BankingJS.getAppContext().actions.addContext("EACCESS",new l);var u=e("./DCV/Actions/OpenDCVSetup"),d=e("./DCV/Actions/VerifyDCVAction"),p=e("./DCV/Actions/OpenDCVLockout");BankingJS.Models.Authentication.DCV=BankingJS.Models.Authentication.DCV||{},BankingJS.ViewModels.Authentication.DCV=BankingJS.ViewModels.Authentication.DCV||{},BankingJS.Models.Authentication.DCV.DCVState=e("./DCV/Models/DCVState"),BankingJS.ViewModels.Authentication.DCV.DCVSetup=e("./DCV/ViewModels/DCVSetup"),BankingJS.Services.Authentication.DCV=BankingJS.Services.Authentication.DCV||{},BankingJS.Services.Authentication.DCV.DCVService=e("./DCV/Service/DCVService")(t,n),BankingJS.getAppContext().actions.addContext("AUTH_DCV_SETUP",new u),BankingJS.getAppContext().actions.addContext("AUTH_DCV_VERIFY",new d),BankingJS.getAppContext().actions.addContext("AUTH_DCV_LOCKOUT",new p)}t.exports=new i},{"./DCV/Actions/OpenDCVLockout":2,"./DCV/Actions/OpenDCVSetup":3,"./DCV/Actions/VerifyDCVAction":4,"./DCV/Models/DCVState":5,"./DCV/Service/DCVService":6,"./DCV/ViewModels/DCVSetup":7,"./EAccessAgreement/Actions/OpenEAccessAgreement":9,"./EAccessAgreement/Models/LoginEAccessAgreementState":11,"./EAccessAgreement/Service/LoginEAccessAgreementService":12,"./EAccessAgreement/ViewModels/LoginEAccessAgreement":13,"./Login/Actions/LoginAction":14,"./Login/Models/LoginModel":15,"./Login/Service/LoginService":16,"./Login/ViewModels/LoginSetup":17,"./Logout/Actions/LogoutAction":18,"./Logout/Actions/StartAction":19,"./Logout/Models/LogoutModel":20,"./Logout/Service/LogoutService":21,"./MFA/Actions/OpenMFAPrompt":23,"./MFA/Models/MFAPromptState":24,"./MFA/Service/MFAService":25,"./MFA/ViewModels/MFAPrompt":26,"./Terms/Actions/OpenTerms":28,"./Terms/Models/LoginTermsState":30,"./Terms/Service/LoginTermsService":31,"./Terms/ViewModels/LoginTerms":32}],2:[function(e,t,n){function i(){o.call(this,"dcv-lockout","OpenDCVLockout","DCV"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("authentication/dcv-lockout")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"dcv","OpenDCVSetup","DCV"),this.processAction=function(e){var t=(new Date).getTime(),n="";e&&1==e.isTfaDcv&&(n="&tfaDcv=true"),BankingJS.Utilities.Navigator.navigate("authentication/dcv?"+t+n)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"VerifyDCVAction","VerifyDCVAction"),this.processAction=function(e){var t=BankingJS.Models.Authentication.DCV.DCVState.getInstance(),n=e.questionAnswerList;return BankingJS.Utilities.Promise.Promise(function(e,i,o){t.dcvVerify(n).done(function(t){var n=BankingJS.Models.Authentication.DCV.DCVState.getInstance();n.page2=!0,e(t)},function(e){i(e)})})}}var o=BankingJS.ActionBase;e("../../../Authentication/DCV/Actions/OpenDCVSetup");i.prototype=o.prototype,t.exports=i},{"../../../Authentication/DCV/Actions/OpenDCVSetup":3}],5:[function(e,t,n){var i=function(){function e(){function e(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.Authentication.DCV.DCVService.dcvSetup(e).done(function(e){t({nextContexts:e.context,data:e.response})},function(e){n(e)})})}function t(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.Authentication.DCV.DCVService.dcvVerify(e).done(function(e){t({nextContexts:e.context.next,data:null})},function(e){n(e)})})}return{dcvSetup:e,dcvVerify:t}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],6:[function(e,t,n){var i=function(e,t){function n(e){var n={path:"/banking/rest/auth/dcv/setup"},i=e||{};return i=JSON.stringify(i),t.invokeHttp(n,i)}function i(e){var n={path:"/banking/rest/auth/dcv/verify"},i=BankingJS.Utilities.KnockOutMapping.toJS(e),o={questionAnswerList:i};return o=JSON.stringify(o),t.invokeHttp(n,o)}return{dcvVerify:i,dcvSetup:n}};t.exports=i},{}],7:[function(e,t,n){function i(e){o.call(this),this.questionAnswerList=BankingJS.Utilities.DataBinder.createArrayBinding();var t=BankingJS.Models.Authentication.DCV.DCVState.getInstance();this.hasProfileQuestions=BankingJS.Utilities.DataBinder.createBinding(!1),this.hasAdditionalQuestions=BankingJS.Utilities.DataBinder.createBinding(!1),this.purpose=BankingJS.Utilities.DataBinder.createBinding(),this.dcvTitle=BankingJS.Utilities.DataBinder.createBinding(),this.countryCode=BankingJS.Utilities.DataBinder.createBinding();var n=function(e){for(var t in e)if("answers"===t){var n=this;n.answers=BankingJS.Utilities.KnockOut.observableArray(),BankingJS.Utilities.KnockOut.utils.arrayMap(e[t],function(e){var t={};for(var i in e){var o={};o[i]=BankingJS.Utilities.KnockOut.observable(e[i]).extend({notify:"always"}),t[i]=BankingJS.Utilities.KnockOut.observable(e[i]).extend({notify:"always"})}n.answers.push(t)})}else this[t]=BankingJS.Utilities.KnockOut.observable(e[t]).extend({notify:"always"})};t.dcvSetup(e).done(function(e){var t=(BankingJS.Models.ApplicationContext,e.data);if(t){JSON.stringify(t);this.purpose("MFA"),t.purpose&&this.purpose(t.purpose),this.dcvTitle(BankingJS.getAppContext().i18n.t("DCV."+this.purpose()+".Title")),this.countryCode(t.countryCode),this.questionAnswerList(BankingJS.Utilities.KnockOut.utils.arrayMap(t.questionAnswerList,function(e){return new n(e)})),this.setupComponents()}}.bind(this),function(e){if(e)try{var t=e.context;if(t&&t.next&&t.next[0]&&t.next[0].required===!0){var n=t.next[0],i=BankingJS.getAppContext().actions.getContext(n.action);i.execute(null,n.required)}}catch(o){console.log(o)}}.bind(this)),this.dcvVerify=function(){var e=new a;BankingJS.Models.Authentication.DCV.DCVState.getInstance();return e.execute({questionAnswerList:this.questionAnswerList})}}var o=BankingJS.ViewModelBase,a=e("../Actions/VerifyDCVAction");i.prototype=o.prototype,t.exports=i},{"../Actions/VerifyDCVAction":4}],8:[function(e,t,n){function i(){o.call(this,"AcceptEAccessAgreement","Accept"),this.processAction=function(e){var t=new BankingJS.Models.Authentication.EAccessAgreement.LoginEAccessAgreementState,n=e.agree;return BankingJS.Utilities.Promise.Promise(function(e,i,o){t.acceptEAccessAgreement(n).done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){o.call(this,"OpenEAccessAgreement","OpenEAccessAgreement"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("authentication/e-access-agreement")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],10:[function(e,t,n){function i(){o.call(this,"RejectEAccessAgreement","Reject"),this.processAction=function(e){var t=new BankingJS.Models.Authentication.EAccessAgreement.LoginEAccessAgreementState,n=e.agree;return BankingJS.Utilities.Promise.Promise(function(e,i,o){t.acceptEAccessAgreement(n).done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],11:[function(e,t,n){function i(){function e(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.Authentication.EAccessAgreement.LoginEAccessAgreementService.loginEAccessAgreement(e).done(function(e){t({nextContexts:e.context.next,data:null})},function(e){n(e)})})}function t(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.Authentication.EAccessAgreement.LoginEAccessAgreementService.retrieveUpdateAlertMessage(e).done(function(e){var n=null;e.response&&e.response.cmsMssage&&(n=e.response.cmsMssage),t(n)})})}return{acceptEAccessAgreement:e,getUpdateAlertCMSMessage:t}}t.exports=i},{}],12:[function(e,t,n){var i=function(e,t){function n(e){var n={path:"/banking/rest/auth/eAccess"},i=JSON.stringify({agree:e});return t.invokeHttp(n,i)}function i(e){var n={path:"/banking/rest/contentprovider/cmscontent"},i={lang:e};return i=JSON.stringify(i),t.invokeHttp(n,i)}return{loginEAccessAgreement:n,retrieveUpdateAlertMessage:i}};t.exports=i},{}],13:[function(e,t,n){function i(e){o.call(this),this.checkbox=BankingJS.Utilities.DataBinder.createBinding(!1),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1),this.bannerMessageRequired=BankingJS.getAppContext().getUser().getBannerMessageRequired(),this.digitalAccessAgreementUrl=BankingJS.getAppContext().getUser().getAgreementUrl(),void 0===this.digitalAccessAgreementUrl||null===this.digitalAccessAgreementUrl?(this.digitalAccessAgreementUrl=BankingJS.Utilities.Storage.retrieveObjectData("daaUrl"),this.bannerMessageRequired=BankingJS.Utilities.Storage.retrieveObjectData("daaAlert")):(BankingJS.Utilities.Storage.storeObjectData("daaAlert",this.bannerMessageRequired),BankingJS.Utilities.Storage.storeObjectData("daaUrl",this.digitalAccessAgreementUrl));var t=new BankingJS.Models.Authentication.EAccessAgreement.LoginEAccessAgreementState,n=BankingJS.getAppContext().i18n.lng().substr(0,2);this.callBack=e,this.bannerMessageRequired&&t.getUpdateAlertCMSMessage(n,this.callBack),this.executeAccept=function(){var e=new a;e.execute({agree:!0})},this.executeReject=function(){var e=new r;e.execute({agree:!1})}}var o=BankingJS.ViewModelBase,a=e("../Actions/AcceptEAccessAgreement"),r=e("../Actions/RejectEAccessAgreement");i.prototype=o.prototype,t.exports=i},{"../Actions/AcceptEAccessAgreement":8,"../Actions/RejectEAccessAgreement":10}],14:[function(e,t,n){function i(){o.call(this,"LoginAction","Login"),this.processAction=function(e){var t=new BankingJS.Models.Authentication.Login.LoginModel;return BankingJS.Utilities.Promise.Promise(function(n,i,o){t.login(e.cardNumber,e.userKey,e.password,e.saveCard,e.paymentReference,e.paymentType).done(function(e){n({nextContexts:e.context.next,data:null})},function(e){i(e)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],15:[function(e,t,n){function i(){this.login=function(e,t,n,i,o,a){return BankingJS.Utilities.Promise.Promise(function(r,s,c){BankingJS.Services.Authentication.Login.LoginService.login(e,t,n,i,o,a).done(function(e){var t=e.response;BankingJS.getAppContext().getUser().loginUser(t.maskedCardNumber,t.userKey,t.agreementUrl,t.bannerMessageRequired),r(e)},function(e){s(e)})})}}t.exports=i},{}],16:[function(e,t,n){var i=function(e,t){function n(e,n,i,o,a,r){var s={path:"/banking/rest/auth/login"},c={password:i,saveToken:o,languageCode:BankingJS.getAppContext().i18n.lng()};return n&&n.length>0?c.userKey=n:c.userId=e,a&&(c.paymentReference=a),r&&(c.paymentType=r),BankingJS.getAppContext().getUser().setPurpose("LOGIN"),c=JSON.stringify(c),t.invokeHttp(s,c)}return{login:n}};t.exports=i},{}],17:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/LoginAction"),a=e("../../../Authentication/Logout/Actions/LogoutAction"),r=function(){if(i.call(this),BankingJS.getAppContext().getUser().isLoggedIn()){var e=new a;e.execute({})}this.cardNumber=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().getUser().getMaskedCardNumber()),this.userKey=BankingJS.getAppContext().getUser().getUserKey(),this.cardSaved=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().getUser().isCardSaved()),this.paymentId=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().getUser().getPaymentId()),this.unsaveCard=function(){this.cardNumber="",this.userKey="",BankingJS.getAppContext().getUser().unsaveCard()}.bind(this),this.loginLinks=BankingJS.getAppContext().getActionContext("detailsOptions","login"),this.resetLink=BankingJS.getAppContext().getActionContext("detailsOptions","reset"),this.executeLogin=function(e,t){var n=new o;this.cardSaved()&&BankingJS.getAppContext().getUser().setCardSaved(this.cardSaved());var i={password:t,saveCard:this.cardSaved(),userKey:this.userKey,cardNumber:e,paymentReference:BankingJS.getAppContext().getUser().getPaymentId(),paymentType:BankingJS.getAppContext().getUser().getPaymentType()};return n.execute(i)}};r.prototype=i.prototype,t.exports=r},{"../../../Authentication/Logout/Actions/LogoutAction":18,"../Actions/LoginAction":14}],18:[function(e,t,n){function i(){o.call(this,"LogoutAction","Logout","menu-logout"),this.processAction=function(e){var t=new BankingJS.Models.Authentication.Logout.LogoutModel;return BankingJS.Utilities.Promise.Promise(function(e,n,i){t.logout().done(function(t){e({nextContexts:t.context.next,data:null})},function(e){var t=new a;t.execute()})})}}var o=BankingJS.ActionBase,a=e("./StartAction");i.prototype=o.prototype,t.exports=i},{"./StartAction":19}],19:[function(e,t,n){function i(){o.call(this,"StartAction"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],20:[function(e,t,n){function i(){this.logout=function(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.Authentication.Logout.LogoutService.logout().done(function(t){BankingJS.getAppContext().getUser().clearSession(),e(t)},function(e){BankingJS.getAppContext().getUser().clearSession(),t(e)})})}}t.exports=i},{}],21:[function(e,t,n){var i=function(e,t){function n(){var e={path:"/banking/rest/auth/logout"},n=JSON.stringify({});return t.invokeHttp(e,n)}return{logout:n}};t.exports=i},{}],22:[function(e,t,n){function i(){o.call(this,"AnswerMFAPrompt","Answer"),this.processAction=function(e){var t=new BankingJS.Models.Authentication.MFA.MFAPromptState;return BankingJS.Utilities.Promise.Promise(function(n,i,o){t.answerMFA(e.question,e.answer).done(function(e){n({nextContexts:e.context.next,data:null})},function(e){i(e)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],23:[function(e,t,n){function i(){o.call(this,"mfa","OpenMFAPrompt","MFA"),this.processAction=function(e){BankingJS.getAppContext().MFAPromptState=new BankingJS.Models.Authentication.MFA.MFAPromptState,BankingJS.getAppContext().MFAPromptState.question=e.question,BankingJS.Utilities.Navigator.replace("authentication/mfa")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],24:[function(e,t,n){function i(){this.question,this.isLocked,this.answerMFA=function(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.Authentication.MFA.MFAService.mfaAnswer(e,t).done(function(e){n(e)},function(e){i(e)})})}}t.exports=i},{}],25:[function(e,t,n){var i=function(e,t){function n(e,n){var i={path:"/banking/rest/auth/mfa/answer"},o={question:e,answer:n};return o=JSON.stringify(o),t.invokeHttp(i,o)}return{mfaAnswer:n}};t.exports=i},{}],26:[function(e,t,n){function i(){if(o.call(this),this.mfaQuestion=BankingJS.Utilities.DataBinder.createBinding(""),!BankingJS.getAppContext().MFAPromptState||!BankingJS.getAppContext().MFAPromptState.question){var e=new r;return void e.execute({})}var t=BankingJS.getAppContext().MFAPromptState.question;this.mfaQuestion(t);var n=BankingJS.getAppContext().notifications.getLastNotification();this.lastNotification=BankingJS.Utilities.DataBinder.createBinding(n),this.executeAnswer=function(e,t){var n=new a;n.execute({question:e,answer:t})},this.executeReset=function(){var e=new s;e.execute({})},this.executeCancel=function(){var e=new r;e.execute({})}}var o=BankingJS.ViewModelBase,a=e("../Actions/AnswerMFAPrompt"),r=e("../../../Authentication/Logout/Actions/LogoutAction"),s=e("../../../UserManagement/MFAReset/Actions/OpenMFAReset");i.prototype=o.prototype,t.exports=i},{"../../../Authentication/Logout/Actions/LogoutAction":18,"../../../UserManagement/MFAReset/Actions/OpenMFAReset":33,"../Actions/AnswerMFAPrompt":22}],27:[function(e,t,n){function i(){o.call(this,"AcceptTerms","Accept"),this.processAction=function(e){var t=new BankingJS.Models.Authentication.Terms.LoginTermsState,n=e.agree;return BankingJS.Utilities.Promise.Promise(function(e,i,o){t.acceptTerms(n).done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],28:[function(e,t,n){function i(){o.call(this,"OpenTerms","OpenTerms"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("authentication/terms")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],29:[function(e,t,n){function i(){o.call(this,"RejectTerms","Reject"),this.processAction=function(e){var t=new BankingJS.Models.Authentication.Terms.LoginTermsState,n=e.agree;return BankingJS.Utilities.Promise.Promise(function(e,i,o){t.acceptTerms(n).done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],30:[function(e,t,n){function i(){function e(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.Authentication.Terms.LoginTermsService.loginTerms(e).done(function(e){t({nextContexts:e.context.next,data:null})},function(e){n(e)})})}return{acceptTerms:e}}t.exports=i},{}],31:[function(e,t,n){var i=function(e,t){function n(e){var n={path:"/banking/rest/auth/terms"},i=JSON.stringify({agree:e});return t.invokeHttp(n,i)}return{loginTerms:n}};t.exports=i},{}],32:[function(e,t,n){function i(){o.call(this),this.agreementUrl=BankingJS.getAppContext().getUser().getAgreementUrl(),this.executeAccept=function(){var e=new a;e.execute({agree:!0})},this.executeReject=function(){var e=new r;e.execute({agree:!1})}}var o=BankingJS.ViewModelBase,a=e("../Actions/AcceptTerms"),r=e("../Actions/RejectTerms");i.prototype=o.prototype,t.exports=i},{"../Actions/AcceptTerms":27,"../Actions/RejectTerms":29}],33:[function(e,t,n){function i(){o.call(this,"user-management/create-user","OpenMFAReset","MFAReset","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/mfa-reset")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("mfa-reset",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.MFAReset=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network,i=e("./Actions/OpenMFAReset");BankingJS.getAppContext().actions.addContext("MFA_RESET_SETUP",new i);var o=e("./Actions/OpenMFALock");BankingJS.getAppContext().actions.addContext("MFA_LOCK",new o);var a=e("./Actions/OpenMFARegistration");BankingJS.getAppContext().actions.addContext("MFA_REGISTRATION",new a),BankingJS.Models.UserManagement.MFAReset=BankingJS.Models.UserManagement.MFAReset||{},BankingJS.Models.UserManagement.MFAReset.MFAResetState=e("./Models/MFAResetState"),BankingJS.ViewModels.UserManagement.MFAReset=BankingJS.ViewModels.UserManagement.MFAReset||{},BankingJS.ViewModels.UserManagement.MFAReset.MFAResetSetup=e("./ViewModels/MFAResetSetup"),BankingJS.ViewModels.UserManagement.MFAReset.MFAResetLock=e("./ViewModels/MFAResetLock"),BankingJS.ViewModels.UserManagement.MFAReset.MFARegistration=e("./ViewModels/MFARegistration"),BankingJS.Services.UserManagement.MFAReset=BankingJS.Services.UserManagement.MFAReset||{},BankingJS.Services.UserManagement.MFAReset.MFAResetService=e("./Services/MFAResetService")(t,n)}t.exports=new i},{"../UserManagement":17,"./Actions/OpenMFALock":6,"./Actions/OpenMFARegistration":7,"./Actions/OpenMFAReset":8,"./Models/MFAResetState":9,"./Services/MFAResetService":12,"./ViewModels/MFARegistration":13,"./ViewModels/MFAResetLock":14,"./ViewModels/MFAResetSetup":15}],2:[function(e,t,n){function i(){o.call(this,"LogoutAction","Logout","menu-logout"),this.processAction=function(e){var t=new BankingJS.Models.Authentication.Logout.LogoutModel;return BankingJS.Utilities.Promise.Promise(function(e,n,i){t.logout().done(function(t){e({nextContexts:t.context.next,data:null})},function(e){var t=new a;t.execute()})})}}var o=BankingJS.ActionBase,a=e("./StartAction");i.prototype=o.prototype,t.exports=i},{"./StartAction":3}],3:[function(e,t,n){function i(){o.call(this,"StartAction"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"AcceptEAccessAgreement","Accept"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.MFAReset.MFAResetState.getInstance(),n=!0;return BankingJS.Utilities.Promise.Promise(function(e,i,o){t.dcvResetSetup(n).done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"MFAResetAction","MFAResetAction"),this.processAction=function(e){var t=e.question1,n=e.question2,i=e.question3,o=e.answer1,a=e.answer2,r=e.answer3,s=BankingJS.Models.UserManagement.MFAReset.MFAResetState.getInstance();return BankingJS.Utilities.Promise.Promise(function(e,c,l){s.mfaQAReset(t,n,i,o,a,r).done(function(t){e(t)},function(e){})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this,"user-management/mfa-lock","OpenMFALock","MFAReset","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/mfa-lock")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this,"mfa-registration","OpenMFARegistration","Registration"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/mfa-registration")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){o.call(this,"user-management/create-user","OpenMFAReset","MFAReset","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/mfa-reset")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){var i=e("./QuestionAnswers"),o=function(){function e(){function e(e,t,n,i,o,a){return BankingJS.Utilities.Promise.Promise(function(r,s,c){
BankingJS.Services.UserManagement.MFAReset.MFAResetService.mfaReset(e,t,n,i,o,a).done(function(e){r({nextContexts:e.context.next,data:null})},function(e){s(e)})})}function t(){return this.mfaQuestionAnswers=new i,this.userMfaQuestionAnswers=new i,BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.UserManagement.MFAReset.MFAResetService.mfaResetSetup().done(function(t){e({nextContexts:t.context.next,data:t.response})})})}function n(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.UserManagement.MFAReset.MFAResetService.mfaLock().done(function(t){e({nextContexts:t.context.next,data:t.response})})})}function o(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.UserManagement.MFAReset.MFAResetService.dcvResetSetup(e).done(function(e){t({nextContexts:e.context.next,data:e.response})})})}return this.mfaQuestionAnswers,this.userMfaQuestionAnswers,{mfaQAReset:e,mfaResetSetup:t,mfaLock:n,dcvResetSetup:o}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=o},{"./QuestionAnswers":11}],10:[function(e,t,n){function i(e,t){var n,e=e,t=t;return{question:e,answer:t,id:n}}t.exports=i},{}],11:[function(e,t,n){function i(e){this.totalNumOfQA=e,this.userInputQA=[],this.getUserInputQA=function(){return this.userInputQA},this.addQuestionAnswer=function(e,t){this.userInputQA.push(new o(e,t))},this.updateAnswer=function(e,t){this.userInputQA&&this.userInputQA.length<=e&&(this.userInputQA[e].answer=t)},this.updateQuestion=function(e,t){this.userInputQA&&this.userInputQA.length<=e&&(this.userInputQA[e].question=t)},this.doesQuestionExist=function(e){for(var t=0;t<this.userInputQA.length;t++)if(this.userInputQA[t])return this.userInputQA[t].question===e}}var o=e("./QuestionAnswer");t.exports=i},{"./QuestionAnswer":10}],12:[function(e,t,n){var i=function(e,t){function n(e,n){var i={path:"/banking/rest/user-management/mfa-reset/setup"},o={};return o=JSON.stringify(o),t.invokeHttp(i,o)}function i(){var e={path:"/banking/rest/user-management/mfa-lock"},n={};return n=JSON.stringify(n),t.invokeHttp(e,n)}function o(e){var n={path:"/banking/rest/user-management/mfa-lock"},i={submit:e};return i=JSON.stringify(i),t.invokeHttp(n,i)}function a(e,n,i,o,a,r){var s={path:"/banking/rest/user-management/mfa-reset"},c=!1,l={question1:e,question2:n,question3:i,answer1:o,answer2:a,answer3:r,clear:c};return l=JSON.stringify(l),t.invokeHttp(s,l)}return{mfaResetSetup:n,mfaReset:a,mfaLock:i,dcvResetSetup:o}};t.exports=i},{}],13:[function(e,t,n){function i(){o.call(this),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1),this.executeLogout=function(){var e=new a;e.execute({})}}var o=BankingJS.ViewModelBase,a=(e("../Actions/OpenMFARegistration"),e("../../../Authentication/Logout/Actions/LogoutAction"));i.prototype=o.prototype,t.exports=i},{"../../../Authentication/Logout/Actions/LogoutAction":2,"../Actions/OpenMFARegistration":7}],14:[function(e,t,n){function i(){o.call(this);var e=BankingJS.Models.UserManagement.MFAReset.MFAResetState.getInstance();e.mfaLock().done(function(e){e.data}.bind(this)),this.executeReset=function(){var e=new r;e.execute({})},this.executeCancel=function(){var e=new a;e.execute({})}}var o=BankingJS.ViewModelBase,a=(e("../Actions/OpenMFAReset"),e("../../../Authentication/Logout/Actions/LogoutAction")),r=e("../Actions/DCVResetAction");i.prototype=o.prototype,t.exports=i},{"../../../Authentication/Logout/Actions/LogoutAction":2,"../Actions/DCVResetAction":4,"../Actions/OpenMFAReset":8}],15:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/MFAResetAction"),a=function(){i.call(this);var e=BankingJS.Models.UserManagement.MFAReset.MFAResetState.getInstance(),t=(BankingJS.Models.ApplicationContext,this);t.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1),t.totalNumOfQA=3,t.mfaAllQuestions=BankingJS.Utilities.DataBinder.createArrayBinding(),t.mfaAvailableQuestions=BankingJS.Utilities.DataBinder.createArrayBinding(),t.mfaUserQuestions=BankingJS.Utilities.DataBinder.createArrayBinding(),t.userQuestionList=BankingJS.Utilities.DataBinder.createArrayBinding(),e.mfaResetSetup().done(function(n){var i=n.data;if(i){for(var o=e.userMfaQuestionAnswers,a=0;a<this.totalNumOfQA;a++)i.question[a]&&o.addQuestionAnswer(i.question[a],"");this.mfaUserQuestions(o.getUserInputQA());for(var r=0;r<i.allQuestion.length;r++)t.mfaAllQuestions().push({id:r,question:i.allQuestion[r],answer:"_answer"});for(var s=function(e,n,i){var o=this;o.question=BankingJS.Utilities.DataBinder.createBinding(e),o.userQuestion=n,o.userAnswer=BankingJS.Utilities.DataBinder.createBinding(i),o.optionList=BankingJS.Utilities.KnockOut.computed(function(){for(var e=[],n=[],i=0;i<t.mfaAllQuestions().length;i++){var a=!1;e.push(t.mfaAllQuestions()[i].question),$.each(t.userQuestionList(),function(e,o,r){0==a&&t.mfaAllQuestions()[i].question==o.question()&&(a=!0,n.push(t.mfaAllQuestions()[i].question))})}return BankingJS.Utilities.Tools.compactArray(BankingJS.Utilities.Tools.differenceA(e,n).concat(o.question()))})}.bind(this),c=BankingJS.getAppContext().i18n.t("MfaReset.Questionlabel"),a=0;a<i.question.length;a++){var l=a+1,u="";t.userQuestionList.push(new s(i.question[a],c+" "+l,u)),t.userQuestionList()[a].question(i.question[a])}this.setupValidation()}}.bind(this)),this.mfaQAReset=function(e,t,n,i,a,r){var s=new o;s.execute({question1:e,question2:t,question3:n,answer1:i,answer2:a,answer3:r})},this.dispose=function(){}};a.prototype=i.prototype,t.exports=a},{"../Actions/MFAResetAction":5}],16:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],17:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":16}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("mfa-enrollment",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.MFAEnrollment=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network,i=e("./Actions/OpenMFAEnrollment");BankingJS.getAppContext().actions.addContext("MFA_ENROLLMENT_SETUP",new i),BankingJS.Models.UserManagement.MFAEnrollment=BankingJS.Models.UserManagement.MFAEnrollment||{},BankingJS.Models.UserManagement.MFAEnrollment.MFAEnrollmentState=e("./Models/MFAEnrollmentState"),BankingJS.ViewModels.UserManagement.MFAEnrollment=BankingJS.ViewModels.UserManagement.MFAEnrollment||{},BankingJS.ViewModels.UserManagement.MFAEnrollment.MFAEnrollmentSetup=e("./ViewModels/MFAEnrollmentSetup"),BankingJS.Services.UserManagement.MFAEnrollment=BankingJS.Services.UserManagement.MFAEnrollment||{},BankingJS.Services.UserManagement.MFAEnrollment.MFAEnrollmentService=e("./Services/MFAEnrollmentService")(t,n)}t.exports=new i},{"../UserManagement":10,"./Actions/OpenMFAEnrollment":3,"./Models/MFAEnrollmentState":4,"./Services/MFAEnrollmentService":7,"./ViewModels/MFAEnrollmentSetup":8}],2:[function(e,t,n){function i(){o.call(this,"MFAEnrollmentAction","MFAEnrollmentAction"),this.processAction=function(e){var t=e.question1,n=e.question2,i=e.question3,o=e.answer1,a=e.answer2,r=e.answer3,s=BankingJS.Models.UserManagement.MFAEnrollment.MFAEnrollmentState.getInstance();return BankingJS.Utilities.Promise.Promise(function(e,c,l){s.mfaQAEnrollment(t,n,i,o,a,r).done(function(t){e(t)},function(e){})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"user-management/create-user","OpenMFAEnrollment","MFAEnrollment","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/mfa-enrollment")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){var i=e("./QuestionAnswers"),o=function(){function e(){function e(e,t,n,i,o,a){return BankingJS.Utilities.Promise.Promise(function(r,s,c){BankingJS.Services.UserManagement.MFAEnrollment.MFAEnrollmentService.mfaEnrollment(e,t,n,i,o,a).done(function(e){r({nextContexts:e.context.next,data:null})},function(e){s(e)})})}function t(){return this.mfaQuestionAnswers=new i,this.userMfaQuestionAnswers=new i,BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.UserManagement.MFAEnrollment.MFAEnrollmentService.mfaEnrollmentSetup().done(function(t){e({nextContexts:t.context.next,data:t.response})})})}return this.mfaQuestionAnswers,this.userMfaQuestionAnswers,{mfaQAEnrollment:e,mfaEnrollmentSetup:t}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=o},{"./QuestionAnswers":6}],5:[function(e,t,n){function i(e,t){var n,e=e,t=t;return{question:e,answer:t,id:n}}t.exports=i},{}],6:[function(e,t,n){function i(e){this.totalNumOfQA=e,this.userInputQA=[],this.getUserInputQA=function(){return this.userInputQA},this.addQuestionAnswer=function(e,t){this.userInputQA.push(new o(e,t))},this.updateAnswer=function(e,t){this.userInputQA&&this.userInputQA.length<=e&&(this.userInputQA[e].answer=t)},this.updateQuestion=function(e,t){this.userInputQA&&this.userInputQA.length<=e&&(this.userInputQA[e].question=t)},this.doesQuestionExist=function(e){for(var t=0;t<this.userInputQA.length;t++)if(this.userInputQA[t])return this.userInputQA[t].question===e}}var o=e("./QuestionAnswer");t.exports=i},{"./QuestionAnswer":5}],7:[function(e,t,n){var i=function(e,t){function n(){var e={path:"/banking/rest/user-management/mfa-enrollment/setup"},n={};return n=JSON.stringify(n),t.invokeHttp(e,n)}function i(e,n,i,o,a,r){var s={path:"/banking/rest/user-management/mfa-enrollment/submit"},c={question1:e,question2:n,question3:i,answer1:o,answer2:a,answer3:r};return c=JSON.stringify(c),t.invokeHttp(s,c)}return{mfaEnrollmentSetup:n,mfaEnrollment:i}};t.exports=i},{}],8:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/MFAEnrollmentAction"),a=function(){i.call(this);var e=BankingJS.Models.UserManagement.MFAEnrollment.MFAEnrollmentState.getInstance(),t=(BankingJS.Models.ApplicationContext,this);t.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1),t.totalNumOfQA=3,t.mfaAllQuestions=BankingJS.Utilities.DataBinder.createArrayBinding(),t.mfaAvailableQuestions=BankingJS.Utilities.DataBinder.createArrayBinding(),t.mfaUserQuestions=BankingJS.Utilities.DataBinder.createArrayBinding(),t.userQuestionList=BankingJS.Utilities.DataBinder.createArrayBinding(),e.mfaEnrollmentSetup().done(function(n){var i=n.data;if(i){for(var o=e.userMfaQuestionAnswers,a=0;a<this.totalNumOfQA;a++)i.question[a]&&o.addQuestionAnswer(i.question[a],"");this.mfaUserQuestions(o.getUserInputQA());for(var r=0;r<i.allQuestion.length;r++)t.mfaAllQuestions().push({id:r,question:i.allQuestion[r],answer:"_answer"});t.mfaAllQuestions().push({id:"-1",question:"",answer:"_answer"});for(var s=function(e,n,i){var o=this;o.question=BankingJS.Utilities.DataBinder.createBinding(e),o.userQuestion=n,o.userAnswer=BankingJS.Utilities.DataBinder.createBinding(i),o.optionList=BankingJS.Utilities.KnockOut.computed(function(){for(var e=[],n=[],i=0;i<t.mfaAllQuestions().length;i++){var a=!1;e.push(t.mfaAllQuestions()[i].question),$.each(t.userQuestionList(),function(e,o,r){0==a&&t.mfaAllQuestions()[i].question==o.question()&&(a=!0,n.push(t.mfaAllQuestions()[i].question))})}return BankingJS.Utilities.Tools.compactArray(BankingJS.Utilities.Tools.differenceA(e,n).concat(o.question()))})}.bind(this),c=BankingJS.getAppContext().i18n.t("MfaEnrollment.Questionlabel"),a=0;a<i.question.length;a++){var l=a+1,u="";t.userQuestionList.push(new s(i.question[a],c+" "+l,u))}this.setupValidation()}}.bind(this)),this.mfaQAEnrollment=function(e,t,n,i,a,r){var s=new o;s.execute({question1:e,question2:t,question3:n,answer1:i,answer2:a,answer3:r})},this.dispose=function(){}};a.prototype=i.prototype,t.exports=a},{"../Actions/MFAEnrollmentAction":2}],9:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],10:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":9}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("account-summary",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Summary=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../Accounts"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network;BankingJS.Models.Accounts.AccountSummary=BankingJS.Models.Accounts.AccountSummary||{};var i=e("./Actions/OpenAccountSummaryAction"),o=new i;BankingJS.ViewModels.Accounts.AccountSummary=BankingJS.ViewModels.Accounts.AccountSummary||{},BankingJS.ViewModels.Accounts.AccountSummary.AccountSummary=e("./ViewModels/AccountSummary"),BankingJS.ViewModels.Accounts.AccountSummary.AccountRecord=e("./ViewModels/AccountSummaryRecord"),BankingJS.Services.Accounts.AccountSummary=BankingJS.Services.Accounts.AccountSummary||{},BankingJS.Services.Accounts.AccountSummary.AccountSummaryService=e("./Services/AccountSummaryService")(t,n),BankingJS.getAppContext().setActionContext("navigationMenu",o,"topNav",10),BankingJS.getAppContext().actions.addContext("ACCOUNT_SUMMARY",o)}t.exports=new i},{"../Accounts":2,"./Actions/OpenAccountSummaryAction":3,"./Services/AccountSummaryService":5,"./ViewModels/AccountSummary":6,"./ViewModels/AccountSummaryRecord":7}],2:[function(e,t,n){function i(){BankingJS.Models.Accounts=BankingJS.Models.Accounts||{},BankingJS.Services.Accounts=BankingJS.Services.Accounts||{},BankingJS.ViewModels.Accounts=BankingJS.ViewModels.Accounts||{}}t.exports=new i},{}],3:[function(e,t,n){var i=BankingJS.NavigationAction,o=function(){i.call(this,"account/summary","OpenAccountSummary","Accounts","menu-accounts"),this.processAction=function(){BankingJS.Utilities.Navigator.replace("account/summary")}};o.prototype=i.prototype,t.exports=o},{}],4:[function(e,t,n){var i=function(){this.getAccounts=function(){return BankingJS.getAppContext().getUser().accounts.getAccounts()},this.updateAccounts=function(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){var o=BankingJS.getAppContext().getUser().accounts;e||o.requiresUpdate||0==o.totalAccounts()?BankingJS.Services.Accounts.AccountSummary.AccountSummaryService.getAccountSummmary().done(function(e){o.emptyAllAccounts(),o.requiresUpdate=!1,e.response.accounts.forEach(function(e){o.addAccount(e)}),t({nextContexts:e.context.next,data:this.getAccounts(),raw:e})}.bind(this)):t({nextContexts:void 0,data:this.getAccounts()})}.bind(this))}};t.exports=i},{}],5:[function(e,t,n){var i=function(e,t){function n(){var e={path:"/banking/rest/account/summary"},n=JSON.stringify({});return t.invokeHttp(e,n)}return{getAccountSummmary:n}};t.exports=i},{}],6:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("./AccountSummaryRecord"),a=e("../Models/AccountSummaryModel"),r=function(){i.call(this),this.currentlySelectedAccount=BankingJS.Utilities.DataBinder.createBinding(),this.accountSummaryRecords=BankingJS.Utilities.DataBinder.createArrayBinding(),this.accountSummarySections=BankingJS.Utilities.DataBinder.createArrayBinding(),BankingJS.getAppContext().getUser().setLoggedInAcceptedTerms(!0);var e=new a;e.updateAccounts(!1).done(function(e){var t=e.data,n={},i=[];this.accountSummaryRecords.removeAll(),t[0]&&t[0].accountKey&&this.currentlySelectedAccount.setProperty(t[0].accountKey),t.forEach(function(e){if(!e.hideInSummary||!e.category){var t=BankingJS.getAppContext().i18n.t(e.category);n[t]||(n[t]={category:t,records:BankingJS.Utilities.DataBinder.createArrayBinding()},this.accountSummarySections.push(n[t]));var a=new o(e);n[t].records.push(a),i.push(a)}}.bind(this)),this.accountSummaryRecords(i)}.bind(this))};t.exports=r},{"../Models/AccountSummaryModel":4,"./AccountSummaryRecord":7}],7:[function(e,t,n){function i(e){o.call(this,e.actions.details,e.actions.options),this.key=BankingJS.Utilities.DataBinder.createBinding(e.accountKey),this.category=BankingJS.Utilities.DataBinder.createBinding(e.category),this.description=BankingJS.Utilities.DataBinder.createBinding(e.description),this.accountNum=BankingJS.Utilities.DataBinder.createBinding(e.maskedAccount),this.balances=BankingJS.Utilities.DataBinder.createArrayBinding(e.balances),this.showCurrency=BankingJS.Utilities.DataBinder.createBinding(!1),e.balances.forEach(function(e){"CAD"!=e.currency&&this.showCurrency(!0)}.bind(this))}var o=BankingJS.ListItem;i.prototype=o.prototype,t.exports=i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("account-details",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Details=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../Accounts"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network;BankingJS.Models.Accounts.AccountDetails=BankingJS.Models.Accounts.Details||{};var i=e("./Actions/OpenAccountDetailsAction"),o=new i;BankingJS.ViewModels.Accounts.AccountDetails=BankingJS.ViewModels.Accounts.Details||{},BankingJS.ViewModels.Accounts.AccountDetails.AccountDetails=e("./ViewModels/AccountDetails"),BankingJS.Services.Accounts.AccountDetails=BankingJS.Services.Accounts.AccountDetails||{},BankingJS.Services.Accounts.AccountDetails.AccountDetailsService=e("./Services/AccountDetailsService")(t,n),BankingJS.getAppContext().actions.addContext("ACCOUNT_DETAILS",o)}t.exports=new i},{"../Accounts":2,"./Actions/OpenAccountDetailsAction":4,"./Services/AccountDetailsService":5,"./ViewModels/AccountDetails":6}],2:[function(e,t,n){function i(){BankingJS.Models.Accounts=BankingJS.Models.Accounts||{},BankingJS.Services.Accounts=BankingJS.Services.Accounts||{},BankingJS.ViewModels.Accounts=BankingJS.ViewModels.Accounts||{}}t.exports=new i},{}],3:[function(e,t,n){function i(){o.call(this,"History24Track","History24Track",null,"beta-action"),this.processAction=function(e){var t=BankingJS.getAppContext().i18n;BankingJS.Utilities.Navigator.openLocation(t.t("URLs.fullSite"),"_blank")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){var i=BankingJS.NavigationAction,o=function(){i.call(this,"account/details","OpenAccountDetailsAction","Details"),this.processAction=function(e){return e.accountKey?e&&e.blockNav?(e.selectedAccount(e.accountKey),!1):void BankingJS.Utilities.Navigator.navigate("account/details",e.accountKey):void 0}};o.prototype=i.prototype,t.exports=o},{}],5:[function(e,t,n){function i(e,t){function n(e){var n={path:"/banking/rest/account/details"},i=JSON.stringify({accountKey:e});return t.invokeHttp(n,i)}return{getAccountDetails:n}}t.exports=i},{}],6:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/History24Track"),a=function(e){i.call(this);var t=BankingJS.getAppContext().getUser().accounts.findByAccountKey(e);this.category=BankingJS.Utilities.DataBinder.createBinding();var n;t&&(n=t.description),this.accountName=BankingJS.Utilities.DataBinder.createBinding(n||"");var a;t&&(a=t.maskedAccount),this.accountNum=BankingJS.Utilities.DataBinder.createBinding(a||"");var r;t&&t.balances&&t.balances[0].amount&&(r=t.balances[0].amount),this.balance=BankingJS.Utilities.DataBinder.createBinding(r||"");var s;t&&t.balances&&t.balances[0].currency&&(s=t.balances[0].currency),this.currency=BankingJS.Utilities.DataBinder.createBinding(s||"");var c,l,u;t&&t.disclaimer&&(c=t.disclaimer),this.disclaimer=BankingJS.Utilities.DataBinder.createBinding(c||""),t&&t.info&&(l=t.info),this.info=BankingJS.Utilities.DataBinder.createBinding(l||""),t&&t.alert&&(u=t.alert),this.alert=BankingJS.Utilities.DataBinder.createBinding(u||""),this.contextActions=BankingJS.Utilities.DataBinder.createArrayBinding(),this.detailsList=BankingJS.Utilities.DataBinder.createArrayBinding(),this.history=BankingJS.Utilities.DataBinder.createArrayBinding(),this.updateAccount=function(e){var t=BankingJS.getAppContext().getUser().accounts.findByAccountKey(e);t||(BankingJS.getAppContext().getUser().accounts.addAccount({accountKey:e}),t=BankingJS.getAppContext().getUser().accounts.findByAccountKey(e)),t.refreshDetails().done(function(e){var t=e.data;this.category(t.category),this.accountName(t.description),this.accountNum(t.maskedAccount),this.balance(t.balances[0].amount),this.currency(t.balances[0].currency),this.disclaimer(t.disclaimer),this.info(t.info),this.alert(t.alert);var n;this.contextActions.removeAll(),t.actions&&t.actions.options&&(n=t.actions.options),this.detailsList(t.details.detailsList||[]),this.history(t.details.historyList||[])}.bind(this))},this.updateAccount(e),this.executeTracking=function(){var e=new o;e.execute({})}};t.exports=a},{"../Actions/History24Track":3}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("move-money",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.MoveMoney=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=e("./Actions/OpenMoveMoney"),n=new t;BankingJS.ViewModels.MoveMoney={},BankingJS.ViewModels.MoveMoney.MoveMoney=e("./ViewModels/MoveMoney"),BankingJS.getAppContext().setActionContext("navigationMenu",n,"topNav",20),BankingJS.getAppContext().actions.addContext("MOVE_MONEY",n)}t.exports=new i},{"./Actions/OpenMoveMoney":2,"./ViewModels/MoveMoney":3}],2:[function(e,t,n){function i(){o.call(this,"move-money/move-money","OpenMoveMoney","MoveMoney","menu-move-money"),this.processAction=function(e){var t=BankingJS.getAppContext().getActionContext("detailsOptions","MoveMoney");t.forEach(function(e){e.execute({blockNav:!0})}),e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/move-money"):BankingJS.Utilities.Navigator.navigate("move-money/move-money")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){var e=BankingJS.getAppContext().getActionContext("detailsOptions","MoveMoney");this.title=BankingJS.Utilities.DataBinder.createBinding(),this.tabList=BankingJS.Utilities.DataBinder.createArrayBinding(e),this.selectedTab=BankingJS.Utilities.DataBinder.createBinding()}t.exports=i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("transfer-funds",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Transfers=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=BankingJS.Utilities.Promise,n=BankingJS.Utilities.Network,i=(e("./Actions/OpenTransferMoney"),e("./Actions/OpenTransferMoneyTab")),o=e("./Actions/OpenTransferMoneyTo"),a=e("./Actions/OpenTransferMoneyPayment"),r=e("./Actions/OpenTransferMoneyFrom");e("./Actions/TransferMoney");BankingJS.getAppContext().actions.addContext("TRANSFER_FROM",r),BankingJS.getAppContext().actions.addContext("TRANSFER_TO",o),BankingJS.getAppContext().actions.addContext("PAYMENT_TO",a),BankingJS.getAppContext().setActionContext("detailsOptions",new i,"MoveMoney",10),BankingJS.Models.Transfers={},BankingJS.ViewModels.Transfers={},BankingJS.Models.Transfers.FundsTransferState=e("./Models/FundsTransferState"),BankingJS.ViewModels.Transfers.FundsTransferSetup=e("./ViewModels/FundsTransferSetup"),BankingJS.ViewModels.Transfers.FundsTransferConfirm=e("./ViewModels/FundsTransferConfirm"),BankingJS.ViewModels.Transfers.FundsTransferComplete=e("./ViewModels/FundsTransferComplete"),BankingJS.Services.Transfers=BankingJS.Services.Transfers||{},BankingJS.Services.Transfers.TransferService=e("./Services/FundsTransferService")(t,n)}t.exports=new i},{"./Actions/OpenTransferMoney":8,"./Actions/OpenTransferMoneyFrom":9,"./Actions/OpenTransferMoneyPayment":10,"./Actions/OpenTransferMoneyTab":11,"./Actions/OpenTransferMoneyTo":12,"./Actions/TransferMoney":13,"./Models/FundsTransferState":14,"./Services/FundsTransferService":15,"./ViewModels/FundsTransferComplete":16,"./ViewModels/FundsTransferConfirm":17,"./ViewModels/FundsTransferSetup":18}],2:[function(e,t,n){function i(){o.call(this),this.title=BankingJS.Utilities.DataBinder.createArrayBinding(),this.notice=BankingJS.Utilities.DataBinder.createArrayBinding(),this.info=BankingJS.Utilities.DataBinder.createArrayBinding(),this.preActionText=BankingJS.Utilities.DataBinder.createArrayBinding(),this.disclaimer=BankingJS.Utilities.DataBinder.createArrayBinding(),this.actions=BankingJS.Utilities.DataBinder.createArrayBinding()}var o=e("../../SharedViewModels/ViewModelBase");i.prototype=o.prototype,t.exports=i},{"../../SharedViewModels/ViewModelBase":3}],3:[function(e,t,n){var i=function(e){this.showNavigationHeader=!0,this.isLoading=BankingJS.Utilities.DataBinder.createBinding(),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1)};t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"move-money/move-money","OpenMoveMoney","MoveMoney","menu-move-money"),this.processAction=function(e){var t=BankingJS.getAppContext().getActionContext("detailsOptions","MoveMoney");t.forEach(function(e){e.execute({blockNav:!0})}),e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/move-money"):BankingJS.Utilities.Navigator.navigate("move-money/move-money")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"ConfirmTransferMoney","Confirm"),this.processAction=function(t){var n=BankingJS.Models.Transfers.FundsTransferState.getInstance(),i=n.accounts[n.from],o=n.accounts[n.to];return BankingJS.Utilities.Promise.Promise(function(t,a,r){n.transfer(i,o,n.amount,n.isoDate).done(function(t){var n=e("./OpenCompleteTransfer"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenCompleteTransfer":6}],6:[function(e,t,n){function i(){o.call(this,"OpenCompleteTransfer","CompleteTransfer"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/transfer-funds-complete"):BankingJS.Utilities.Navigator.navigate("move-money/transfer-funds-complete")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this,"OpenConfirmTransfer","ConfirmTransfer"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/transfer-funds-confirm"):BankingJS.Utilities.Navigator.navigate("move-money/transfer-funds-confirm")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){o.call(this,"OpenTransferMoney","Transfer"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/transfer-funds")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){o.call(this,"OpenTransferMoneyFrom","TransferFrom"),this.processAction=function(e){}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],10:[function(e,t,n){function i(){o.call(this,"OpenTransferMoneyPayment","MakePayment"),this.processAction=function(e){}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],11:[function(e,t,n){function i(){o.call(this,"transfer-funds","OpenTransferMoneyTab","Transfer","transfer-tab"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/transfer-funds")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],12:[function(e,t,n){function i(){o.call(this,"OpenTransferMoneyTo","TransferTo"),this.processAction=function(e){}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],13:[function(e,t,n){function i(){o.call(this,"TransferMoney","Transfer"),this.processAction=function(t){var n=e("./OpenConfirmTransfer"),i=new n,o=BankingJS.Models.Transfers.FundsTransferState.getInstance();o.from=t.sourceKey,o.to=t.destinationKey,o.date=t.date,o.amount=t.amount,o.isoDate=t.isoDate,i.execute()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,
t.exports=i},{"./OpenConfirmTransfer":7}],14:[function(e,t,n){var i=function(){function e(){this.from,this.to,this.amount,this.date,this.isoDate,this.accounts,this.confirmation={},this.transferSetup=function(){return this.accounts,this.amount,BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.Transfers.TransferService.transferSetup().done(function(t){this.accounts=t.response.accounts,e({nextContexts:t.context.next,data:t.response})}.bind(this))}.bind(this))}.bind(this),this.transfer=function(e,t,n,i){return BankingJS.Utilities.Promise.Promise(function(o,a,r){BankingJS.Services.Transfers.TransferService.transfer(e.accountKey,t.accountKey,BankingJS.Utilities.Tools.formatDecimal(n),i).done(function(n){BankingJS.getAppContext().getUser().accounts.findByAccountKey(e.accountKey)&&BankingJS.getAppContext().getUser().accounts.findByAccountKey(e.accountKey).refreshDetails(!0),BankingJS.getAppContext().getUser().accounts.findByAccountKey(t.accountKey)&&BankingJS.getAppContext().getUser().accounts.findByAccountKey(t.accountKey).refreshDetails(!0),n.response.fromBalances&&n.response.fromBalances[0].amount&&n.response.fromBalances[0].amount.length>0&&(e.balances=n.response.fromBalances),n.response.toBalances&&n.response.toBalances[0].amount&&n.response.toBalances[0].amount.length>0&&(t.balances=n.response.toBalances),this.confirmation.referenceId=n.response.transferId,this.confirmation.processingDate=n.response.txnProcessingDateFormatted,o({nextContexts:n.context.next,data:null})}.bind(this))}.bind(this))}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],15:[function(e,t,n){var i=function(e,t){function n(e,n,i,o){var a={path:"/banking/rest/account/transfer"},r=JSON.stringify({from:e,to:n,amount:i,date:o});return t.invokeHttp(a,r)}function i(){var e={path:"/banking/rest/transfer/setup"},n=JSON.stringify({});return t.invokeHttp(e,n)}return{transfer:n,transferSetup:i}};t.exports=i},{}],16:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.Models.Transfers.FundsTransferState.getInstance(),n=BankingJS.getAppContext();if(t.from&&t.to){var o=t.accounts[t.from],a=t.accounts[t.to],r=t.confirmation,s=BankingJS.Utilities.Tools.getLocaleAmount(t.amount,o.balances[0].currency,n.i18n.lng());this.title(n.i18n.t("Transfers.TransferComplete")),this.info([{description:n.i18n.t("Common.SendFrom"),value:o.description+" "+o.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:o.balances[0].amount},{description:n.i18n.t("Common.SendTo"),value:a.description+" "+a.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:a.balances[0].amount},{description:n.i18n.t("Common.Amount"),value:s},{description:n.i18n.t("Common.Date"),value:r.processingDate}]),this.actions([])}else{var c=e("../../MoveMoney/Actions/OpenMoveMoney"),l=new c;l.execute()}};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":2,"../../MoveMoney/Actions/OpenMoveMoney":4}],17:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.Models.Transfers.FundsTransferState.getInstance(),n=BankingJS.getAppContext();if(t.from&&t.to){var o=t.accounts[t.from],a=t.accounts[t.to],r=BankingJS.Utilities.Tools.getLocaleAmount(t.amount,o.balances[0].currency,n.i18n.lng());this.title(n.i18n.t("Transfers.ConfirmTransfer")),this.info([{description:n.i18n.t("Common.SendFrom"),value:o.description+" "+o.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:o.balances[0].amount},{description:n.i18n.t("Common.SendTo"),value:a.description+" "+a.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:a.balances[0].amount},{description:n.i18n.t("Common.Amount"),value:r},{description:n.i18n.t("Common.Date"),value:t.date}]),this.disclaimer(n.i18n.t("Transfers.CompleteDisclaimer"));var s=e("../Actions/ConfirmTransferMoney");this.actions([new s])}else{var c=e("../../MoveMoney/Actions/OpenMoveMoney"),l=new c;l.execute()}};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":2,"../../MoveMoney/Actions/OpenMoveMoney":4,"../Actions/ConfirmTransferMoney":5}],18:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/TransferMoney"),a=function(){function e(e,t){var i=[];if(e.from[t])for(var t in e.from[t].to)i.push(n.accounts[t]);return{toAccounts:i}}function t(e,t){var i=[];if(e.to[t])for(var t in e.to[t].from)i.push(n.accounts[t]);return{fromAccounts:i}}i.call(this);var n=BankingJS.Models.Transfers.FundsTransferState.getInstance();this.accountsMatrix,this.toAccounts=[],this.fromAccounts=[],this.eligableToAccounts=BankingJS.Utilities.DataBinder.createArrayBinding(),this.eligableFromAccounts=BankingJS.Utilities.DataBinder.createArrayBinding(),this.toAccountBalance=BankingJS.Utilities.DataBinder.createBinding(),this.fromAccountBalance=BankingJS.Utilities.DataBinder.createBinding(),this.minTransferAmount=0,this.maxTransferAmount=0,this.toWarning=BankingJS.Utilities.DataBinder.createBinding(),this.fromWarning=BankingJS.Utilities.DataBinder.createBinding(),this.combinationWarning=BankingJS.Utilities.DataBinder.createBinding(),this.toAccount=BankingJS.Utilities.DataBinder.createBinding(n.to),this.fromAccount=BankingJS.Utilities.DataBinder.createBinding(n.from),this.amount=BankingJS.Utilities.DataBinder.createBinding(n.amount),this.date=BankingJS.Utilities.DataBinder.createDateBinding(n.date),this.transfer=function(){var e=new o;e&&e.execute({sourceKey:this.fromAccount(),destinationKey:this.toAccount(),amount:this.amount,date:this.date,isoDate:this.isoDate})},n.transferSetup().done(function(e){var t;this.date=e.data.processingDate,this.isoDate=e.data.processingISODate,this.accountsMatrix=e.data.matrix,this.minTransferAmount=e.data.min,this.maxTransferAmount=e.data.max;for(var i in this.accountsMatrix.from)t=n.accounts[i],this.fromAccounts.push(t);for(var i in this.accountsMatrix.to)t=n.accounts[i],this.toAccounts.push(t);this.eligableToAccounts(this.toAccounts),this.eligableFromAccounts(this.fromAccounts),this.amount(null),this.setupValidation()}.bind(this)),this.changeSelectedToAccount=function(t){if(t){var i=e(this.accountsMatrix,t);if(this.eligableToAccounts(i.toAccounts),this.fromAccountBalance(n.accounts[t].balances[0].amount),this.accountsMatrix.from[t].warnings){var o=this.accountsMatrix.from[t].warnings;for(var a in o){var r=o[a];this.fromWarning(r)}}else this.fromWarning(null);this.toAccount()&&this.fromAccount()&&(this.accountsMatrix.from[this.fromAccount()].to[this.toAccount()].warnings?this.combinationWarning(this.accountsMatrix.from[this.fromAccount()].to[this.toAccount()].warnings[0]):this.combinationWarning(null))}else this.fromAccountBalance(null),this.fromWarning(null),this.combinationWarning(null),this.eligableToAccounts(this.toAccounts)}.bind(this),this.changeSelectedFromAccount=function(e){if(e){var i=t(this.accountsMatrix,e);if(this.eligableFromAccounts(i.fromAccounts),this.toAccountBalance(n.accounts[e].balances[0].amount),this.accountsMatrix.to[e].warnings){if(this.accountsMatrix.to[e].warnings){var o=this.accountsMatrix.to[e].warnings;for(var a in o){var r=o[a];this.toWarning(r)}}}else this.toWarning(null);this.toAccount()&&this.fromAccount()&&(this.accountsMatrix.from[this.fromAccount()].to[this.toAccount()].warnings?this.combinationWarning(this.accountsMatrix.from[this.fromAccount()].to[this.toAccount()].warnings[0]):this.combinationWarning(null))}else this.toAccountBalance(null),this.toWarning(null),this.combinationWarning(null),this.eligableFromAccounts(this.fromAccounts)}.bind(this)};a.prototype=i.prototype,t.exports=a},{"../Actions/TransferMoney":13}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("pay-bills",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.BillPayments=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=BankingJS.Utilities.Promise,n=BankingJS.Utilities.Network,i=(e("./Actions/OpenPayBill"),e("./Actions/OpenPayBillTab")),o=e("./Actions/OpenPayBillTo"),a=e("./Actions/OpenPayBillFrom");e("./Actions/PayBill");BankingJS.getAppContext().actions.addContext("BILLPAY_FROM",new a),BankingJS.getAppContext().actions.addContext("BILLPAY_TO",new o),BankingJS.getAppContext().setActionContext("detailsOptions",new i,"MoveMoney",20),BankingJS.Models.BillPayment={},BankingJS.ViewModels.BillPayment={},BankingJS.Models.BillPayment.BillPaymentStateModel=e("./Models/BillPaymentStateModel"),BankingJS.ViewModels.BillPayment.BillPaymentSetup=e("./ViewModels/BillPaymentSetup"),BankingJS.ViewModels.BillPayment.BillPaymentConfirm=e("./ViewModels/BillPaymentConfirm"),BankingJS.ViewModels.BillPayment.BillPaymentComplete=e("./ViewModels/BillPaymentComplete"),BankingJS.Services.BillPayment=BankingJS.Services.BillPayment||{},BankingJS.Services.BillPayment.BillPaymentService=e("./Services/BillPaymentService")(t,n)}t.exports=new i},{"./Actions/OpenPayBill":8,"./Actions/OpenPayBillFrom":9,"./Actions/OpenPayBillTab":10,"./Actions/OpenPayBillTo":11,"./Actions/PayBill":12,"./Models/BillPaymentStateModel":13,"./Services/BillPaymentService":16,"./ViewModels/BillPaymentComplete":17,"./ViewModels/BillPaymentConfirm":18,"./ViewModels/BillPaymentSetup":19}],2:[function(e,t,n){function i(){o.call(this),this.title=BankingJS.Utilities.DataBinder.createArrayBinding(),this.notice=BankingJS.Utilities.DataBinder.createArrayBinding(),this.info=BankingJS.Utilities.DataBinder.createArrayBinding(),this.preActionText=BankingJS.Utilities.DataBinder.createArrayBinding(),this.disclaimer=BankingJS.Utilities.DataBinder.createArrayBinding(),this.actions=BankingJS.Utilities.DataBinder.createArrayBinding()}var o=e("../../SharedViewModels/ViewModelBase");i.prototype=o.prototype,t.exports=i},{"../../SharedViewModels/ViewModelBase":3}],3:[function(e,t,n){var i=function(e){this.showNavigationHeader=!0,this.isLoading=BankingJS.Utilities.DataBinder.createBinding(),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1)};t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"AddPayeeTrack","AddPayeeTrack",null,"beta-action"),this.processAction=function(e){var t=BankingJS.getAppContext().i18n;BankingJS.Utilities.Navigator.openLocation(t.t("URLs.fullSite"),"_blank")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"ConfirmPayBill","Confirm"),this.processAction=function(t){var n=BankingJS.Models.BillPayment.BillPaymentStateModel.getInstance(),i=n.accounts[n.from],o=n.payees.findByPayeeAccountKey(n.to);return BankingJS.Utilities.Promise.Promise(function(t,a,r){n.payment(i,o,n.amount,n.isoDate).done(function(t){var n=e("./OpenCompletePayBill"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenCompletePayBill":6}],6:[function(e,t,n){function i(){o.call(this,"OpenCompletePayBill","CompletePayBill"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/pay-bills-complete"):BankingJS.Utilities.Navigator.navigate("move-money/pay-bills-complete")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this,"OpenConfirmPayBill","ConfirmPayBill"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/pay-bills-confirm"):BankingJS.Utilities.Navigator.navigate("move-money/pay-bills-confirm")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){o.call(this,"OpenPayBill","Pay a Bill"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/pay-bills")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){o.call(this,"OpenPayBillFrom","PayBillFrom"),this.processAction=function(e){}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],10:[function(e,t,n){function i(){o.call(this,"pay-bills","OpenPayBillTab","Pay a Bill","pay-tab"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/pay-bills")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],11:[function(e,t,n){function i(){o.call(this,"OpenPayBillTo","PayBillTo"),this.processAction=function(e){}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],12:[function(e,t,n){function i(){o.call(this,"PayBill","PayBill"),this.processAction=function(t){var n=e("./OpenConfirmPayBill"),i=new n,o=BankingJS.Models.BillPayment.BillPaymentStateModel.getInstance();o.from=t.sourceKey,o.to=t.destinationKey,o.amount=t.amount,o.date=t.date,o.isoDate=t.isoDate,i.execute()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenConfirmPayBill":7}],13:[function(e,t,n){var i=e("./PayeesModel"),o=function(){function e(){this.from,this.to,this.amount,this.date,this.isoDate,this.accounts,this.payees,this.confirmation={},this.paymentSetup=function(){return this.accounts=BankingJS.getAppContext().getUser().accounts,this.payees=new i,BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.BillPayment.BillPaymentService.paymentSetup().done(function(t){this.accounts=t.response.accounts,e({nextContexts:t.context.next,data:t.response})}.bind(this))}.bind(this))}.bind(this),this.payment=function(e,t,n,i){return BankingJS.Utilities.Promise.Promise(function(o,a,r){BankingJS.Services.BillPayment.BillPaymentService.payment(e.accountKey,t.accountKey,BankingJS.Utilities.Tools.formatDecimal(n),i).done(function(t){var n=t.response;if(n.confirmation){BankingJS.getAppContext().getUser().accounts.findByAccountKey(e.accountKey)&&BankingJS.getAppContext().getUser().accounts.findByAccountKey(e.accountKey).refreshDetails(!0);var i=n.confirmation;this.confirmation.referenceId=i.paymentId,this.confirmation.processingDate=i.txnProcessingDateFormatted,i.updatedBalances.amount&&(e.balances=i.updatedBalances)}o({data:e}),o({nextContexts:t.context.next,data:null})}.bind(this))}.bind(this))}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=o},{"./PayeesModel":15}],14:[function(e,t,n){function i(){var e,t,n,i,o,a=function(){},r=function(){};return{payeeId:e,accountKey:t,payeeName:n,lastPaidAmt:i,lastPaidDate:o,deletePayee:a,savePayee:r}}t.exports=i},{}],15:[function(e,t,n){function i(){this.payees=[],this.addPayee=function(e){var t=new o;t.payeeId=e.payeeId,t.accountKey=e.accountKey,t.payeeName=e.payeeName,t.lastPaidAmt=e.lastPaidAmt,t.lastPaidDate=e.lastPaidDate,this.payees.push(t)},this.findByPayeeId=function(e){for(var t=0;t<this.payees.length;t++)if(this.payees[t].payeeId==e)return this.payees[t];return null},this.findByPayeeAccountKey=function(e){for(var t=0;t<this.payees.length;t++)if(this.payees[t].accountKey==e)return this.payees[t];return null}}var o=e("./PayeeModel");t.exports=i},{"./PayeeModel":14}],16:[function(e,t,n){var i=function(e,t){function n(){var e={path:"/banking/rest/payment/setup"},n=JSON.stringify({});return t.invokeHttp(e,n)}function i(e,n,i,o){var a={path:"/banking/rest/account/payment"},r=JSON.stringify({from:e,to:n,amount:i,date:o});return t.invokeHttp(a,r)}return{paymentSetup:n,payment:i}};t.exports=i},{}],17:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.getAppContext(),n=BankingJS.Models.BillPayment.BillPaymentStateModel.getInstance();if(n.from&&n.to){var o=n.payees.findByPayeeAccountKey(n.to),a=n.accounts[n.from],r=n.confirmation,s=BankingJS.Utilities.Tools.getLocaleAmount(n.amount,a.balances[0].currency,t.i18n.lng()),c=t.i18n.t("PayBills.LastPayment"),l=o.lastPaidAmt+" "+t.i18n.t("PayBills.LastPaymentOn")+" "+o.lastPaidDate,u="*"+o.accountKey.substr(o.accountKey.length-4);c=o.lastPaidDate?c:"",l=o.lastPaidDate?l:"",this.title(t.i18n.t("PayBills.CompleteBillPayment")),this.notice(t.i18n.t("PayBills.YourPayment")+" "+r.referenceId),this.info([{description:t.i18n.t("Common.SendTo"),value:o.payeeName+" "+u,extDescription:c,extValue:l},{description:t.i18n.t("Common.SendFrom"),value:a.description+" "+a.maskedAccount,extDescription:t.i18n.t("Common.Balance"),extValue:a.balances[0].amount},{description:t.i18n.t("Common.Amount"),value:s},{description:t.i18n.t("Common.Date"),value:r.processingDate}]),this.actions([])}else{var d=e("../../MoveMoney/Actions/OpenMoveMoney"),p=new d;p.execute()}};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":2,"../../MoveMoney/Actions/OpenMoveMoney":20}],18:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.getAppContext(),n=BankingJS.Models.BillPayment.BillPaymentStateModel.getInstance();if(n.from&&n.to){var o=n.accounts[n.from],a=n.payees.findByPayeeAccountKey(n.to);this.title(t.i18n.t("PayBills.ConfirmBillPayment"));var r=BankingJS.Utilities.Tools.getLocaleAmount(n.amount,o.balances[0].currency,t.i18n.lng()),s=t.i18n.t("PayBills.LastPayment"),c=a.lastPaidAmt+" "+t.i18n.t("PayBills.LastPaymentOn")+" "+a.lastPaidDate,l="*"+a.accountKey.substr(a.accountKey.length-4);s=a.lastPaidDate?s:"",c=a.lastPaidDate?c:"",this.info([{description:t.i18n.t("Common.SendTo"),value:a.payeeName+" "+l,extDescription:s,extValue:c},{description:t.i18n.t("Common.SendFrom"),value:o.description+" "+o.maskedAccount,extDescription:t.i18n.t("Common.Balance"),extValue:o.balances[0].amount},{description:t.i18n.t("Common.Amount"),value:r},{description:t.i18n.t("Common.Date"),value:n.date}]),this.disclaimer(t.i18n.t("PayBills.ConfirmDisclaimer"));var u=e("../Actions/ConfirmPayBill");this.actions([new u])}else{var d=e("../../MoveMoney/Actions/OpenMoveMoney"),p=new d;p.execute()}};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":2,"../../MoveMoney/Actions/OpenMoveMoney":20,"../Actions/ConfirmPayBill":5}],19:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/PayBill"),a=e("../Actions/AddPayeeTrack"),r=function(){function e(e,t){var i=[];if(e.from[t])for(var t in e.from[t].to)i.push(n.payees.findByPayeeAccountKey(t));var o=!1;for(var a in i){var r=i[a];console.log(r),"0"===r.accountKey&&(o=!0)}if(!o){var a={};a.accountKey="0",a.payeeId="0",a.payeeName=BankingJS.getAppContext().i18n.t("Beta.AddPayeeLabel"),a.lastPaidAmt="",a.lastPaidDate="",i.splice(0,0,a)}return{toPayees:i}}function t(e,t){var i=[];if(e.to[t])for(var t in e.to[t].from)i.push(n.accounts[t]);return{fromAccounts:i}}i.call(this);var n=(BankingJS.Models.ApplicationContext,BankingJS.Models.BillPayment.BillPaymentStateModel.getInstance());this.accountsMatrix,this.fromAccounts=[],this.eligablePayees=[],this.eligablePayees=BankingJS.Utilities.DataBinder.createArrayBinding(),this.toPayeeDescription=BankingJS.Utilities.DataBinder.createBinding(),this.toPayeeLastPaidDate=BankingJS.Utilities.DataBinder.createBinding(),this.eligableFromAccounts=BankingJS.Utilities.DataBinder.createArrayBinding(),this.toAccountBalance=BankingJS.Utilities.DataBinder.createBinding(),this.fromAccountBalance=BankingJS.Utilities.DataBinder.createBinding(),this.fromWarning=BankingJS.Utilities.DataBinder.createBinding(),this.minPaymentAmount=0,this.maxPaymentAmount=0,this.toPayee=BankingJS.Utilities.DataBinder.createBinding(n.to),this.fromAccount=BankingJS.Utilities.DataBinder.createBinding(n.from),this.amount=BankingJS.Utilities.DataBinder.createBinding(n.amount),this.date=BankingJS.Utilities.DataBinder.createDateBinding(n.date),this.showAddPayee=BankingJS.Utilities.DataBinder.createBinding(),this.executePayBill=function(){var e=new o;e.execute({sourceKey:this.fromAccount(),destinationKey:this.toPayee(),amount:this.amount,date:this.date})},n.paymentSetup().done(function(e){var t,i=e.data;this.date=i.processingDate,this.isoDate=i.processingISODate,this.accountsMatrix=i.matrix,this.minPaymentAmount=i.min,this.maxPaymentAmount=i.max;var o=i.payees;if(o.forEach(function(e){n.payees.addPayee(e)}),this.accountsMatrix&&this.accountsMatrix.from)for(var a in this.accountsMatrix.from)t=n.accounts[a],this.fromAccounts.push(t);var r=!1;for(var s in o){var c=o[s];"0"===c.accountKey&&(r=!0)}if(o||(o={}),!r){var s={};s.accountKey="0",s.payeeId="0",s.payeeName=BankingJS.getAppContext().i18n.t("Beta.AddPayeeLabel"),s.lastPaidAmt="",s.lastPaidDate="",o.splice(0,0,s)}this.eligablePayees(o),this.eligableFromAccounts(this.fromAccounts),this.setupValidation()}.bind(this)),this.changeSelectedPayee=function(e){if(e)if("0"===e)this.showAddPayee(!0);else{this.showAddPayee(null);var i=t(this.accountsMatrix,e),o=n.payees.findByPayeeAccountKey(e),a=BankingJS.getAppContext().i18n.t("PayBills.LastPayment")+": "+o.lastPaidAmt+" "+BankingJS.getAppContext().i18n.t("PayBills.LastPaymentOn")+" "+o.lastPaidDate;this.eligableFromAccounts(i.fromAccounts),this.toPayeeDescription(a),this.toPayeeLastPaidDate(o.lastPaidDate)}else this.showAddPayee(null),this.toPayee(null),this.toPayeeDescription(null),this.toPayeeLastPaidDate(null),this.eligableFromAccounts(this.fromAccounts)}.bind(this),this.changeSelectedFromAccount=function(t){if(t){var i=e(this.accountsMatrix,t);if(this.eligablePayees(i.toPayees),this.fromAccountBalance(n.accounts[t].balances[0].amount),this.accountsMatrix.from[t].warnings){var o=this.accountsMatrix.from[t].warnings;for(var a in o){var r=o[a];this.fromWarning(r)}}else this.fromWarning(null)}else this.fromAccountBalance(null),this.fromWarning(null),this.fromAccount(null),this.toPayyees&&this.eligablePayees(this.toPayees)}.bind(this),this.executeTracking=function(){var e=new a;e.execute({})}};r.prototype=i.prototype,t.exports=r},{"../Actions/AddPayeeTrack":4,"../Actions/PayBill":12}],20:[function(e,t,n){function i(){o.call(this,"move-money/move-money","OpenMoveMoney","MoveMoney","menu-move-money"),this.processAction=function(e){var t=BankingJS.getAppContext().getActionContext("detailsOptions","MoveMoney");t.forEach(function(e){e.execute({blockNav:!0})}),e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/move-money"):BankingJS.Utilities.Navigator.navigate("move-money/move-money")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("email-money-home",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.EmailMoneyHome=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=BankingJS.Utilities.Promise,n=BankingJS.Utilities.Network,i=e("./Actions/OpenEmailMoneyHomeTab");BankingJS.Models.EmailMoneyHome={},BankingJS.ViewModels.EmailMoneyHome={},BankingJS.Services.EmailMoneyHome={},BankingJS.ViewModels.EmailMoneyHome.EmailMoneyHomeSetup=e("./ViewModels/EmailMoneyHomeSetup"),BankingJS.getAppContext().setActionContext("detailsOptions",new i,"MoveMoney",30),BankingJS.Services.EmailMoneyHome.EmailMoneyHomeService=e("./Services/EmailMoneyHomeService")(t,n),BankingJS.Models.EmailMoneyHome.EmailMoneyHomeStateModel=e("./Models/EmailMoneyHomeStateModel"),BankingJS.ViewModels.EmailMoneySend={}}t.exports=new i},{"./Actions/OpenEmailMoneyHomeTab":3,"./Models/EmailMoneyHomeStateModel":4,"./Services/EmailMoneyHomeService":5,"./ViewModels/EmailMoneyHomeSetup":6}],2:[function(e,t,n){var i=function(){this.getAccounts=function(){return BankingJS.getAppContext().getUser().accounts.getAccounts()},this.updateAccounts=function(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){var o=BankingJS.getAppContext().getUser().accounts;e||o.requiresUpdate||0==o.totalAccounts()?BankingJS.Services.Accounts.AccountSummary.AccountSummaryService.getAccountSummmary().done(function(e){o.emptyAllAccounts(),o.requiresUpdate=!1,e.response.accounts.forEach(function(e){o.addAccount(e)}),t({nextContexts:e.context.next,data:this.getAccounts(),raw:e})}.bind(this)):t({nextContexts:void 0,data:this.getAccounts()})}.bind(this))}};t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"email-money-home","OpenEmailMoneyHomeTab","EmailMoneyHome","emt-tab"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/email-money-home")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){var i=(e("../../../Accounts/Summary/Models/AccountSummaryModel"),function(){function e(){this.retrieveEmtEntitlement=function(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.EmailMoneyHome.EmailMoneyHomeService.retrieveEmtEntitlement().done(function(t){BankingJS.getAppContext().emt_v34=t.response.emtV34,BankingJS.getAppContext().emt_ad=t.response.emtAD,BankingJS.getAppContext().emt_rm=t.response.emtRM,e({nextContexts:t.context.next,data:t.response})}.bind(this))}.bind(this))}.bind(this)}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}());t.exports=i},{"../../../Accounts/Summary/Models/AccountSummaryModel":2}],5:[function(e,t,n){var i=function(e,t){function n(){var e={path:"/banking/rest/move-money/email-money-home/emtInit"},n=JSON.stringify({});return t.invokeHttp(e,n)}return{retrieveEmtEntitlement:n}};t.exports=i},{}],6:[function(e,t,n){var i=BankingJS.ViewModelBase,o=function(){i.call(this);var e=BankingJS.Models.EmailMoneyHome.EmailMoneyHomeStateModel.getInstance(),t=BankingJS.getAppContext();this.entitlementV34=BankingJS.Utilities.DataBinder.createBinding(),this.entitlementAD=BankingJS.Utilities.DataBinder.createBinding(),this.entitlementRM=BankingJS.Utilities.DataBinder.createBinding(),this.emtActionList=BankingJS.Utilities.DataBinder.createArrayBinding(),e.retrieveEmtEntitlement().done(function(e){this.entitlementV34(BankingJS.getAppContext().emt_v34),this.entitlementAD(BankingJS.getAppContext().emt_ad),this.entitlementRM(BankingJS.getAppContext().emt_rm),this.emtActionList.push({key:"send_money",desc:t.i18n.t("EMT.Home.SaveMoney"),detail:t.i18n.t("EMT.Home.SaveMoneyDetail"),image:"icon-sendmoney.png"}),1==BankingJS.getAppContext().emt_v34&&1==BankingJS.getAppContext().emt_rm&&this.emtActionList.push({key:"request_money",desc:t.i18n.t("EMT.Home.RequestMoney"),detail:t.i18n.t("EMT.Home.RequestMoneyDetail"),image:"icon-requestmoney.png"})}.bind(this)),this.execute=function(){"send_money"==this.key?BankingJS.Utilities.Navigator.navigate("move-money/email-money-send"):"request_money"==this.key?BankingJS.Utilities.Navigator.navigate("move-money/email-money-request"):"auto_deposit"==this.key}};o.prototype=i.prototype,t.exports=o},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("email-money-request",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.EmailMoneyRequest=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=BankingJS.Utilities.Promise,n=BankingJS.Utilities.Network,i=(e("./Actions/OpenEmailMoneyRequest"),e("./Actions/OpenEmailMoneyRequestTab")),o=e("./Actions/OpenEmailMoneyRequestTo"),a=e("./Actions/OpenEmailMoneyRequestFrom");BankingJS.getAppContext().actions.addContext("EmailMoneyRequest_TO",o),BankingJS.getAppContext().actions.addContext("EmailMoneyRequest_FROM",a),BankingJS.getAppContext().actions.addContext("MOVEMONEY_EMAILMONEYREQUEST_SETUP",i),BankingJS.Models.EmailMoneyRequest={},BankingJS.ViewModels.EmailMoneyRequest={},BankingJS.Services.EmailMoneyRequest={},BankingJS.Services.EmailMoneyRequest.EmailMoneyRequestService=e("./Services/EmailMoneyRequestService")(t,n),BankingJS.Models.EmailMoneyRequest.EmailMoneyRequestRecipients=e("./Models/EmailMoneyRequestRecipients"),BankingJS.Models.EmailMoneyRequest.EmailMoneyRequestRecipient=e("./Models/EmailMoneyRequestRecipient"),BankingJS.Models.EmailMoneyRequest.EmailMoneyRequestStateModel=e("./Models/EmailMoneyRequestStateModel"),BankingJS.ViewModels.EmailMoneyRequest.EmailMoneyRequestSetup=e("./ViewModels/EmailMoneyRequestSetup"),BankingJS.ViewModels.EmailMoneyRequest.EmailMoneyRequestConfirm=e("./ViewModels/EmailMoneyRequestConfirm"),BankingJS.ViewModels.EmailMoneyRequest.EmailMoneyRequestComplete=e("./ViewModels/EmailMoneyRequestComplete")}t.exports=new i},{"./Actions/OpenEmailMoneyRequest":9,"./Actions/OpenEmailMoneyRequestFrom":10,"./Actions/OpenEmailMoneyRequestTab":11,"./Actions/OpenEmailMoneyRequestTo":12,"./Models/EmailMoneyRequestRecipient":13,"./Models/EmailMoneyRequestRecipients":14,"./Models/EmailMoneyRequestStateModel":15,"./Services/EmailMoneyRequestService":16,"./ViewModels/EmailMoneyRequestComplete":17,"./ViewModels/EmailMoneyRequestConfirm":18,"./ViewModels/EmailMoneyRequestSetup":19}],2:[function(e,t,n){function i(){o.call(this),this.title=BankingJS.Utilities.DataBinder.createArrayBinding(),this.notice=BankingJS.Utilities.DataBinder.createArrayBinding(),this.info=BankingJS.Utilities.DataBinder.createArrayBinding(),this.preActionText=BankingJS.Utilities.DataBinder.createArrayBinding(),this.disclaimer=BankingJS.Utilities.DataBinder.createArrayBinding(),this.actions=BankingJS.Utilities.DataBinder.createArrayBinding()}var o=e("../../SharedViewModels/ViewModelBase");i.prototype=o.prototype,t.exports=i},{"../../SharedViewModels/ViewModelBase":3}],3:[function(e,t,n){var i=function(e){this.showNavigationHeader=!0,this.isLoading=BankingJS.Utilities.DataBinder.createBinding(),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1)};t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"CancelEMTRequest","Cancel"),this.processAction=function(e){BankingJS.Utilities.Navigator.back()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"ConfirmEmailMoneyRequest","Confirm"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneyRequest.EmailMoneyRequestStateModel.getInstance(),i=n.accounts[n.from],o=n.recipients.findByCustomerId(n.to);return BankingJS.Utilities.Promise.Promise(function(t,a,r){n.request(i,o,n.amount,n.isoDate,n.emtQuestion,n.emtAnswer,n.emtMemo).done(function(t){var n=e("./OpenCompleteEmailMoneyRequest"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenCompleteEmailMoneyRequest":7}],6:[function(e,t,n){function i(){o.call(this,"EmailMoneyRequest","EmailMoneyRequest"),this.processAction=function(t){
var n=BankingJS.Models.EmailMoneyRequest.EmailMoneyRequestStateModel.getInstance();n.from=t.sourceKey,n.to=t.destinationKey,n.amount=t.amount,n.emtQuestion=t.emtQuestion,n.emtAnswer=t.emtAnswer,n.emtMemo=t.emtMemo,n.date=t.date,n.isoDate=t.isoDate;var i=n.accounts[n.from],o=n.recipients.findByCustomerId(n.to);return BankingJS.Utilities.Promise.Promise(function(t,a,r){n.confirm(i,o.customerId).done(function(t){var n=e("./OpenConfirmEmailMoneyRequest"),i=new n,o=BankingJS.Models.EmailMoneyRequest.EmailMoneyRequestStateModel.getInstance(),a=t.data.freeCountLeft,r=t.data.serviceFee;o.freeCountLeft=a,o.serviceFee=r,i.execute()},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenConfirmEmailMoneyRequest":8}],7:[function(e,t,n){function i(){o.call(this,"OpenCompleteEmailMoneyRequest","OpenCompleteEmailMoneyRequest"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-request-complete"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-request-complete")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){o.call(this,"OpenConfirmEmailMoneyRequest","OpenConfirmEmailMoneyRequest"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-request-confirm"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-request-confirm")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneyRequest","EmailMoneyRequest"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/email-money-request")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],10:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneyRequestFrom","EmailMoneyRequestFrom"),this.processAction=function(e){}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],11:[function(e,t,n){function i(){o.call(this,"email-money-request","OpenEmailMoneyRequestTab","EmailMoneyRequest","emt-tab"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/email-money-request")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],12:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneyRequestTo","EmailMoneyRequestTo"),this.processAction=function(e){}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],13:[function(e,t,n){function i(){var e,t,n,i,o,a;return{customerId:e,emailAddress:t,language:n,name:i,payeeStatus:o,relationship:a}}t.exports=i},{}],14:[function(e,t,n){function i(){this.recipients=[],this.addRecipient=function(e){var t=new o;t.customerId=e.customerId,t.emailAddress=e.emailAddress,t.language=e.language,t.name=e.name,t.payeeStatus=e.payeeStatus,t.relationship=e.relationship,this.recipients.push(t)},this.findByRecipientId=function(e){for(var t=0;t<this.recipients.length;t++)if(this.recipients[t].customerId==e)return this.recipients[t];return null},this.findByCustomerId=function(e){for(var t=0;t<this.recipients.length;t++)if(this.recipients[t].customerId==e)return this.recipients[t];return null}}var o=e("./EmailMoneyRequestRecipient");t.exports=i},{"./EmailMoneyRequestRecipient":13}],15:[function(e,t,n){var i=e("./EmailMoneyRequestRecipients"),o=function(){function e(){this.from,this.accounts,this.recipients,this.to,this.amount,this.question,this.answer,this.memo,this.date,this.isoDate,this.freeCountLeft,this.serviceFee,this.loginUserName,this.setup=function(){return this.accounts=BankingJS.getAppContext().getUser().accounts,this.recipients=new i,BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.EmailMoneyRequest.EmailMoneyRequestService.setup().done(function(t){this.accounts=t.response.accounts,e({nextContexts:t.context.next,data:t.response})}.bind(this))}.bind(this))}.bind(this),this.request=function(e,t,n,i,o,a,r){return BankingJS.Utilities.Promise.Promise(function(s,c,l){BankingJS.Services.EmailMoneyRequest.EmailMoneyRequestService.request(e.accountKey,t.customerId,BankingJS.Utilities.Tools.formatDecimal(n),i,o,a,r).done(function(t){var n=(t.response,t.response.sourceBalance);n&&n[0]&&e.balances&&e.balances[0]&&(e.balances[0].amount=n[0].amount,e.balances[0].effDt=t.response.effectiveDate),s({nextContexts:t.context.next,data:null})})})},this.confirm=function(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.EmailMoneyRequest.EmailMoneyRequestService.confirm(e.accountKey,t).done(function(e){var t=e.response;n({nextContexts:e.context.next,data:t})})})}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=o},{"./EmailMoneyRequestRecipients":14}],16:[function(e,t,n){var i=function(e,t){function n(e,n,i,o,a,r,s){var c={path:"/banking/rest/move-money/email-money-request/submit"},l=JSON.stringify({from:e,emtRecipient:n,amount:i,currency:"CAD",date:o,question:a,answer:r,memo:s});return t.invokeHttp(c,l)}function i(){var e={path:"/banking/rest/move-money/email-money-send/setup"},n=JSON.stringify({});return t.invokeHttp(e,n)}function o(e,n){var i={path:"/banking/rest/move-money/email-money-request/confirm"},o=JSON.stringify({from:e,emtRecipient:n});return t.invokeHttp(i,o)}return{request:n,setup:i,confirm:o}};t.exports=i},{}],17:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.getAppContext(),n=BankingJS.getAppContext().i18n.lng().substr(0,2),o=BankingJS.Models.EmailMoneyRequest.EmailMoneyRequestStateModel.getInstance();if(o.from&&o.to){var a=o.recipients.findByCustomerId(o.to),r=o.accounts[o.from],s=(o.freeCountLeft,o.serviceFee,r.balances[0].effDt,"CAD"===r.balances[0].currency?"":r.balances[0].currency),c=(Number(o.amount).toFixed(2).toLocaleString(n+"-CA",{style:"currency",currency:s}),"fr"===n?Number(o.amount).toLocaleString(n+"-CA",{minimumFractionDigits:2}).replace(".",",")+" $ "+s:"$"+Number(o.amount).toLocaleString(n+"-CA",{minimumFractionDigits:2})+" "+s),l=(BankingJS.Utilities.Tools.getLocaleAmount(o.serviceFee,r.balances[0].currency,t.i18n.lng()),Number(o.amount));BankingJS.Utilities.Tools.getLocaleAmount(l,r.balances[0].currency,t.i18n.lng());this.title(t.i18n.t("EMT.CompleteETransfer")),this.info([{description:t.i18n.t("EMTRequest.From"),value:a.name,extDescription:"Email",extValue:a.emailAddress},{description:t.i18n.t("EMTRequest.DepositTo"),value:r.description+" "+r.maskedAccount,extDescription:t.i18n.t("Common.Balance"),extValue:r.balances[0].amount},{description:t.i18n.t("Common.Amount"),value:c,extDescription:t.i18n.t("Common.Balance")},{description:t.i18n.t("EMTRequest.InvoiceNum"),value:o.emtQuestion},{description:t.i18n.t("EMTRequest.InvoiceDueDate"),value:o.emtAnswer},{description:t.i18n.t("EMTRequest.MessageToContactConfirm"),value:o.emtMemo}]),this.disclaimer(t.i18n.t("EMT.Disclaimer1")),this.actions([])}else{var u=e("../../MoveMoney/Actions/OpenMoveMoney"),d=new u;d.execute()}};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":2,"../../MoveMoney/Actions/OpenMoveMoney":20}],18:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.Models.EmailMoneyRequest.EmailMoneyRequestStateModel.getInstance(),n=BankingJS.getAppContext();if(t.from&&t.to){var o=t.accounts[t.from],a=t.recipients.findByCustomerId(t.to);t.freeCountLeft,t.serviceFee;this.title(n.i18n.t("EMT.ConfirmETransfer"));var r=BankingJS.Utilities.Tools.getLocaleAmount(t.amount,o.balances[0].currency,n.i18n.lng()),s=(n.i18n.t("PayBills.LastPayment"),BankingJS.Utilities.Tools.getLocaleAmount(t.serviceFee,o.balances[0].currency,n.i18n.lng()),Number(t.amount)+t.serviceFee);BankingJS.Utilities.Tools.getLocaleAmount(s,o.balances[0].currency,n.i18n.lng());this.info([{description:n.i18n.t("EMTRequest.From"),value:a.name,extDescription:"Email",extValue:a.emailAddress},{description:n.i18n.t("EMTRequest.DepositTo"),value:o.description+" "+o.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:o.balances[0].amount},{description:n.i18n.t("Common.Amount"),value:r,extDescription:n.i18n.t("Common.Balance")},{description:n.i18n.t("EMTRequest.InvoiceNum"),value:t.emtQuestion},{description:n.i18n.t("EMTRequest.InvoiceDueDate"),value:t.emtAnswer},{description:n.i18n.t("EMTRequest.MessageToContactConfirm"),value:t.emtMemo}]),this.disclaimer(n.i18n.t("EMT.Disclaimer1"));var c=e("../Actions/ConfirmEmailMoneyRequest");e("../Actions/CancelEmailMoneyRequest");this.actions().push(new c)}else{var l=e("../../MoveMoney/Actions/OpenMoveMoney"),u=new l;u.execute()}};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":2,"../../MoveMoney/Actions/OpenMoveMoney":20,"../Actions/CancelEmailMoneyRequest":4,"../Actions/ConfirmEmailMoneyRequest":5}],19:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/EmailMoneyRequest"),a=function(){i.call(this);var e=BankingJS.Models.EmailMoneyRequest.EmailMoneyRequestStateModel.getInstance();this.accountsMatrix,this.fromAccounts=BankingJS.Utilities.DataBinder.createArrayBinding(),this.fromAccount=BankingJS.Utilities.DataBinder.createBinding(e.from),this.recipients=BankingJS.Utilities.DataBinder.createArrayBinding(),this.recipient=BankingJS.Utilities.DataBinder.createBinding(e.to),this.recipientDescription=BankingJS.Utilities.DataBinder.createBinding(),this.fromAccountBalance=BankingJS.Utilities.DataBinder.createBinding(),this.fromWarning=BankingJS.Utilities.DataBinder.createBinding(),this.minPaymentAmount=0,this.maxPaymentAmount=0,this.rules,this.amount=BankingJS.Utilities.DataBinder.createBinding(e.amount),this.amount(null),this.question=BankingJS.Utilities.DataBinder.createBinding(e.question),this.answer=BankingJS.Utilities.DataBinder.createBinding(e.answer),this.memo=BankingJS.Utilities.DataBinder.createBinding(e.memo),this.date=BankingJS.Utilities.DataBinder.createDateBinding(e.date);var t;this.loginUserName=BankingJS.Utilities.DataBinder.createBinding(t||""),e.setup().done(function(t){var n;this.recipients(t.data.emtPayees),this.date=t.data.processingDate,this.isoDate=t.data.processingISODate;var i=t.data.emtPayees;i.forEach(function(t){e.recipients.addRecipient(t)}),this.accountsMatrix=t.data.matrix,this.minPaymentAmount=t.data.min,this.maxPaymentAmount=t.data.max,this.rules=t.data.rules;for(var o in this.accountsMatrix.from)n=e.accounts[o],this.fromAccounts.push(n);this.loginUserName(t.data.userName),this.setupValidation()}.bind(this)),this.changeSelectedRecipient=function(t){if(t){var n=e.recipients.findByCustomerId(t);this.recipientDescription(n.emailAddress)}else this.recipient(null),this.recipientDescription(null)}.bind(this),this.changeSelectedFromAccount=function(t){if(t)if(this.fromAccountBalance(e.accounts[t].balances[0].amount),this.accountsMatrix.from[t].warnings){var n=this.accountsMatrix.from[t].warnings;for(var i in n){var o=n[i];this.fromWarning(o)}}else this.fromWarning(null);else this.fromAccountBalance(null),this.fromWarning(null)}.bind(this),this.executeEMTRequest=function(){var e=new o,t="",n="",i="";null!=this.question()&&(t=this.question().trim()),null!=this.answer()&&(n=this.answer()),null!=this.memo()&&(i=this.memo().trim()),e.execute({sourceKey:this.fromAccount(),destinationKey:this.recipient(),emtQuestion:t,emtAnswer:n,emtMemo:i,amount:this.amount,date:this.date})}};a.prototype=i.prototype,t.exports=a},{"../Actions/EmailMoneyRequest":6}],20:[function(e,t,n){function i(){o.call(this,"move-money/move-money","OpenMoveMoney","MoveMoney","menu-move-money"),this.processAction=function(e){var t=BankingJS.getAppContext().getActionContext("detailsOptions","MoveMoney");t.forEach(function(e){e.execute({blockNav:!0})}),e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/move-money"):BankingJS.Utilities.Navigator.navigate("move-money/move-money")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("email-money-fullfilled",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.EmailMoneyFullfilled=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=BankingJS.Utilities.Promise,n=BankingJS.Utilities.Network,i=e("./Actions/OpenEmailMoneyFullfilled"),o=new i,a=e("./Actions/OpenEmailMoneyFullfilledRegister"),r=new a;BankingJS.getAppContext().actions.addContext("MOVEMONEY_EMAILMONEYFULLFILLED_SETUP",o),BankingJS.getAppContext().actions.addContext("MOVEMONEY_EMAILMONEYFULLFILLED_REGISTER",r),BankingJS.Models.EmailMoneyFullfilled={},BankingJS.ViewModels.EmailMoneyFullfilled={},BankingJS.Services.EmailMoneyFullfilled=BankingJS.Services.Authentication||{},BankingJS.Services.EmailMoneyFullfilled.EmailMoneyFullfilledService=e("./Services/EmailMoneyFullfilledService")(t,n),BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel=e("./Models/EmailMoneyFullfilledStateModel"),BankingJS.ViewModels.EmailMoneyFullfilled.EmailMoneyFullfilledRegister=e("./ViewModels/EmailMoneyFullfilledRegister"),BankingJS.ViewModels.EmailMoneyFullfilled.EmailMoneyFullfilledTerms=e("./ViewModels/EmailMoneyFullfilledTerms"),BankingJS.ViewModels.EmailMoneyFullfilled.EmailMoneyFullfilledSetup=e("./ViewModels/EmailMoneyFullfilledSetup"),BankingJS.ViewModels.EmailMoneyFullfilled.EmailMoneyFullfilledConfirm=e("./ViewModels/EmailMoneyFullfilledConfirm"),BankingJS.ViewModels.EmailMoneyFullfilled.EmailMoneyFullfilledComplete=e("./ViewModels/EmailMoneyFullfilledComplete"),BankingJS.ViewModels.EmailMoneyFullfilled.EmailMoneyFullfilledDeclineConfirm=e("./ViewModels/EmailMoneyFullfilledDeclineConfirm"),BankingJS.ViewModels.EmailMoneyFullfilled.EmailMoneyFullfilledDeclineComplete=e("./ViewModels/EmailMoneyFullfilledDeclineComplete")}t.exports=new i},{"./Actions/OpenEmailMoneyFullfilled":16,"./Actions/OpenEmailMoneyFullfilledRegister":17,"./Models/EmailMoneyFullfilledStateModel":19,"./Services/EmailMoneyFullfilledService":20,"./ViewModels/EmailMoneyFullfilledComplete":21,"./ViewModels/EmailMoneyFullfilledConfirm":22,"./ViewModels/EmailMoneyFullfilledDeclineComplete":23,"./ViewModels/EmailMoneyFullfilledDeclineConfirm":24,"./ViewModels/EmailMoneyFullfilledRegister":25,"./ViewModels/EmailMoneyFullfilledSetup":26,"./ViewModels/EmailMoneyFullfilledTerms":27}],2:[function(e,t,n){var i=function(){this.getAccounts=function(){return BankingJS.getAppContext().getUser().accounts.getAccounts()},this.updateAccounts=function(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){var o=BankingJS.getAppContext().getUser().accounts;e||o.requiresUpdate||0==o.totalAccounts()?BankingJS.Services.Accounts.AccountSummary.AccountSummaryService.getAccountSummmary().done(function(e){o.emptyAllAccounts(),o.requiresUpdate=!1,e.response.accounts.forEach(function(e){o.addAccount(e)}),t({nextContexts:e.context.next,data:this.getAccounts(),raw:e})}.bind(this)):t({nextContexts:void 0,data:this.getAccounts()})}.bind(this))}};t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this),this.title=BankingJS.Utilities.DataBinder.createArrayBinding(),this.notice=BankingJS.Utilities.DataBinder.createArrayBinding(),this.info=BankingJS.Utilities.DataBinder.createArrayBinding(),this.preActionText=BankingJS.Utilities.DataBinder.createArrayBinding(),this.disclaimer=BankingJS.Utilities.DataBinder.createArrayBinding(),this.actions=BankingJS.Utilities.DataBinder.createArrayBinding()}var o=e("../../SharedViewModels/ViewModelBase");i.prototype=o.prototype,t.exports=i},{"../../SharedViewModels/ViewModelBase":4}],4:[function(e,t,n){var i=function(e){this.showNavigationHeader=!0,this.isLoading=BankingJS.Utilities.DataBinder.createBinding(),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1)};t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"CancelEMTFullfilled","Cancel"),this.processAction=function(e){BankingJS.Utilities.Navigator.back()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this,"CancelEMTFullfilledDecline","Cancel"),this.processAction=function(e){BankingJS.Utilities.Navigator.back()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this,"ConfirmEmailMoneyFullfilled","Confirm"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance(),i=n.accounts[n.to];return BankingJS.Utilities.Promise.Promise(function(t,o,a){n.fullfilled(i,n.emtAnswer,n.emtMemo,n.amount,n.sender).done(function(t){var n=e("./OpenCompleteEmailMoneyFullfilled"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenCompleteEmailMoneyFullfilled":12}],8:[function(e,t,n){function i(){o.call(this,"ConfirmEmailMoneyFullfilledDecline","Confirm"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance();return BankingJS.Utilities.Promise.Promise(function(t,i,o){n.reject(n.emtAnswer,n.emtMemo).done(function(t){var n=e("./OpenCompleteEmailMoneyFullfilledDecline"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenCompleteEmailMoneyFullfilledDecline":13}],9:[function(e,t,n){function i(){o.call(this,"EmailMoneyFullfilled","EmailMoneyFullfilled"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance();if(n.to=t.destinationKey,n.emtQuestion=t.emtQuestion,n.emtAnswer=t.emtAnswer,n.emtMemo=t.emtMemo,n.amount=t.amount,n.sender=t.sender,n.senderDescription=t.senderDescription,n.decline=t.decline,n.decline){var i=e("./OpenConfirmEmailMoneyFullfilledDecline"),o=new i;o.execute()}else{var a=e("./OpenConfirmEmailMoneyFullfilled"),r=new a;r.execute()}}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenConfirmEmailMoneyFullfilled":14,"./OpenConfirmEmailMoneyFullfilledDecline":15}],10:[function(e,t,n){function i(){o.call(this,"EmailMoneyFullfilledRegister","Confirm"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance();return BankingJS.Utilities.Promise.Promise(function(t,i,o){n.register(n.name,n.payerEmail,n.accept).done(function(t){var n=e("./OpenEmailMoneyFullfilled"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenEmailMoneyFullfilled":16}],11:[function(e,t,n){function i(){o.call(this,"EmailMoneyFullfilledTerms","EmailMoneyFullfilledTerms"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance();n.name=t.name,n.payerEmail=t.email;var i=e("./OpenEmailMoneyFullfilledTerms"),o=new i;o.execute()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenEmailMoneyFullfilledTerms":18}],12:[function(e,t,n){function i(){o.call(this,"OpenCompleteEmailMoneyFullfilled","OpenCompleteEmailMoneyFullfilled"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-fullfilled-complete"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-fullfilled-complete")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],13:[function(e,t,n){function i(){o.call(this,"OpenCompleteEmailMoneyFullfilledDecline","OpenCompleteEmailMoneyFullfilledDecline"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-fullfilled-decline-complete"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-fullfilled-decline-complete")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],14:[function(e,t,n){function i(){o.call(this,"OpenConfirmEmailMoneyFullfilled","OpenConfirmEmailMoneyFullfilled"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-fullfilled-confirm"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-fullfilled-confirm")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],15:[function(e,t,n){function i(){o.call(this,"OpenConfirmEmailMoneyFullfilledDecline","OpenConfirmEmailMoneyFullfilledDecline"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-fullfilled-decline-confirm"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-fullfilled-decline-confirm")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],16:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneyFullfilled","EmailMoneyFullfilled"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/email-money-fullfilled")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],17:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneyFullfilledRegister","EmailMoneyFullfilled"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/email-money-fullfilled-register")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],18:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneyFullfilledTerms","OpenEmailMoneyFullfilledTerms"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-fullfilled-terms"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-fullfilled-terms")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],19:[function(e,t,n){var i=(e("../../../Accounts/Summary/Models/AccountSummaryModel"),function(){function e(){this.name,this.payerEmail,this.accept,this.decline,this.paymentId=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().getUser().getPaymentId()),this.sender,this.senderDescription,this.accounts,this.to,this.amount,this.question,this.answer,this.memo,this.setup=function(e){return this.accounts=BankingJS.getAppContext().getUser().accounts,BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.EmailMoneyFullfilled.EmailMoneyFullfilledService.setup(e).done(function(e){this.accounts=e.response.accounts,t({nextContexts:e.context.next,data:e.response})}.bind(this))}.bind(this))}.bind(this),this.registerSetup=function(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.EmailMoneyFullfilled.EmailMoneyFullfilledService.registerSetup().done(function(t){e({nextContexts:t.context.next,data:t.response})}.bind(this))}.bind(this))}.bind(this),this.register=function(e,t,n){return BankingJS.Utilities.Promise.Promise(function(i,o,a){BankingJS.Services.EmailMoneyFullfilled.EmailMoneyFullfilledService.register(e,t,n).done(function(e){i({nextContexts:e.context.next,data:e.response})}.bind(this))}.bind(this))}.bind(this),this.fullfilled=function(e,t,n,i,o){return BankingJS.Utilities.Promise.Promise(function(a,r,s){BankingJS.Services.EmailMoneyFullfilled.EmailMoneyFullfilledService.accept(e.accountKey,t,n,i,o).done(function(t){var n=(t.response,t.response.sourceBalance);n&&e.balances&&e.balances[0]&&(e.balances[0].amount=n.amount),a({nextContexts:t.context.next,data:null})})})},this.reject=function(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.EmailMoneyFullfilled.EmailMoneyFullfilledService.reject(e,t).done(function(e){var t=e.response;n({nextContexts:e.context.next,data:t})})})}}function t(){return i||(i=new e),i}function n(){return this.paymentId()?this.paymentId():null}var i=null;return{getInstance:t,getEmailMoneyFullfilled:n}}());t.exports=i},{"../../../Accounts/Summary/Models/AccountSummaryModel":2}],20:[function(e,t,n){var i=function(e,t){function n(e){var n={path:"/banking/rest/move-money/email-money-fullfilled/setup"},i=JSON.stringify({paymentReference:e});return t.invokeHttp(n,i)}function i(){var e={path:"/banking/rest/move-money/email-money-fullfilled-register/setup"},n={};return t.invokeHttp(e,n)}function o(e,n,i){var o={path:"/banking/rest/move-money/email-money-fullfilled-register/register"},a=JSON.stringify({name:e,email:n,agree:i});return t.invokeHttp(o,a)}function a(e,n,i,o,a){var r={path:"/banking/rest/move-money/email-money-fullfilled/accept"},s=JSON.stringify({accountKey:e,answer:n,memo:i,amount:o,emtRecipient:a});return t.invokeHttp(r,s)}function r(e,n){var i={path:"/banking/rest/move-money/email-money-fullfilled/reject"},o=JSON.stringify({answer:e,memo:n});return t.invokeHttp(i,o)}return{accept:a,reject:r,setup:n,registerSetup:i,register:o}};t.exports=i},{}],21:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var e=BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance(),t=BankingJS.getAppContext(),n=e.accounts[e.to];this.title(t.i18n.t("EMTFullfilled.CompleteTitle"));var o=BankingJS.Utilities.Tools.getLocaleAmount(e.amount,n.balances[0].currency,t.i18n.lng());this.info([{description:t.i18n.t("EMTFullfilled.SendMoneyTo"),value:e.sender,extDescription:"Email",extValue:e.senderDescription},{description:t.i18n.t("EMTFullfilled.WithdrawFrom"),value:n.description+" "+n.maskedAccount,extDescription:t.i18n.t("Common.Balance"),extValue:n.balances[0].amount},{description:t.i18n.t("EMTFullfilled.Amount"),value:o,extDescription:t.i18n.t("Common.Balance")},{description:t.i18n.t("EMTFullfilled.MessageToContactConfirm"),value:e.emtMemo}]),this.actions([])};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":3}],22:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance(),n=BankingJS.getAppContext(),o=t.accounts[t.to];this.title(n.i18n.t("EMTFullfilled.Title"));var a=BankingJS.Utilities.Tools.getLocaleAmount(t.amount,o.balances[0].currency,n.i18n.lng());this.info([{description:n.i18n.t("EMTFullfilled.SendMoneyTo"),value:t.sender,extDescription:"Email",extValue:t.senderDescription},{description:n.i18n.t("EMTFullfilled.WithdrawFrom"),value:o.description+" "+o.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:o.balances[0].amount},{description:n.i18n.t("EMTFullfilled.Amount"),value:a,extDescription:n.i18n.t("Common.Balance")},{description:n.i18n.t("EMTFullfilled.MessageToContactConfirm"),value:t.emtMemo}]);var r=e("../Actions/ConfirmEmailMoneyFullfilled");e("../Actions/CancelEmailMoneyFullfilled");this.actions().push(new r)};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":3,"../Actions/CancelEmailMoneyFullfilled":5,"../Actions/ConfirmEmailMoneyFullfilled":7}],23:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var e=BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance(),t=BankingJS.getAppContext();this.title(t.i18n.t("EMTFullfilled.Decline.CompleteTitle"));var n=BankingJS.Utilities.Tools.getLocaleAmount(e.amount,"CAD",t.i18n.lng());this.info([{description:t.i18n.t("EMTFullfilled.Decline.From"),value:e.sender,extDescription:"Email",extValue:e.senderDescription},{description:t.i18n.t("EMTDecline.Amount"),value:n,extDescription:t.i18n.t("Common.Balance")},{description:t.i18n.t("EMTFullfilled.MessageToContactConfirm"),value:e.emtMemo}]),this.actions([])};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":3}],24:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance(),n=BankingJS.getAppContext();this.title(n.i18n.t("EMTDecline.Title"));var o=BankingJS.Utilities.Tools.getLocaleAmount(t.amount,"CAD",n.i18n.lng());this.info([{description:n.i18n.t("EMTFullfilled.Decline.From"),value:t.sender,extDescription:"Email",extValue:t.senderDescription},{description:n.i18n.t("EMTDecline.Amount"),value:o,extDescription:n.i18n.t("Common.Balance")},{description:n.i18n.t("EMTFullfilled.MessageToContactConfirm"),value:t.emtMemo}]);var a=e("../Actions/ConfirmEmailMoneyFullfilledDecline");e("../Actions/CancelEmailMoneyFullfilledDecline");this.actions().push(new a)};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":3,"../Actions/CancelEmailMoneyFullfilledDecline":6,"../Actions/ConfirmEmailMoneyFullfilledDecline":8}],25:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/EmailMoneyFullfilledTerms"),a=function(){i.call(this);var e=BankingJS.getAppContext();e.getUser().setLoggedInAcceptedTerms(!0);var t=BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance();this.name=BankingJS.Utilities.DataBinder.createBinding(t.nickName),this.payerEmail=BankingJS.Utilities.DataBinder.createBinding(t.payerEmail),this.rules,t.registerSetup().done(function(e){this.rules=e.data.rules,this.setupValidation()}.bind(this)),this.executeEMTRegister=function(){var e=new o;e.execute({name:this.name(),email:this.payerEmail()})}};a.prototype=i.prototype,t.exports=a},{"../Actions/EmailMoneyFullfilledTerms":11}],26:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/EmailMoneyFullfilled"),a=e("../Actions/OpenEmailMoneyFullfilledRegister"),r=function(){i.call(this);var e=BankingJS.getAppContext();e.getUser().setLoggedInAcceptedTerms(!0);var t=BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance();this.accountsMatrix,this.isDecline=!1,this.paymentId=BankingJS.Utilities.DataBinder.createBinding(t.paymentId),this.toAccounts=BankingJS.Utilities.DataBinder.createArrayBinding(),this.toAccount=BankingJS.Utilities.DataBinder.createBinding(t.to),this.sender=BankingJS.Utilities.DataBinder.createBinding(t.sender),this.legalName=BankingJS.Utilities.DataBinder.createBinding(t.legalName),this.senderDescription=BankingJS.Utilities.DataBinder.createBinding(t.senderDescription),this.toAccountBalance=BankingJS.Utilities.DataBinder.createBinding(),this.toWarning=BankingJS.Utilities.DataBinder.createBinding(null),this.rules,this.amount=BankingJS.Utilities.DataBinder.createBinding(t.amount),this.decoratedAmount=BankingJS.Utilities.DataBinder.createBinding(null),this.question=BankingJS.Utilities.DataBinder.createBinding(t.question),this.answer=BankingJS.Utilities.DataBinder.createBinding(t.answer),this.memo=BankingJS.Utilities.DataBinder.createBinding(t.memo),this.setup=function(){t.setup(t.paymentId()).done(function(e){if(e.nextContexts[0]&&"MOVEMONEY_EMAILMONEYFULLFILLED_REGISTER"===e.nextContexts[0].action){var n=new a;n.execute()}if(e.data.emtFullfilled.emtPayeeInfo){this.sender(e.data.emtFullfilled.emtPayeeInfo.name),this.senderDescription(e.data.emtFullfilled.emtPayeeInfo.emailAddress),this.legalName(e.data.emtFullfilled.legalName),this.amount(e.data.emtFullfilled.paymentAmount.amt),this.decoratedAmount(BankingJS.Utilities.Tools.getLocaleAmount(this.amount(),e.data.emtFullfilled.paymentAmount.currencyId,BankingJS.getAppContext().i18n.lng())),this.accountsMatrix=e.data.emtFullfilled.matrix;var i;for(var o in this.accountsMatrix.to)i=t.accounts[o],
this.toAccounts.push(i);this.setupValidation()}}.bind(this))},this.changeSelectedToAccount=function(e){if(e)if(this.toAccountBalance(t.accounts[e].balances[0].amount),this.accountsMatrix.to[e].warnings){var n=this.accountsMatrix.to[e].warnings;for(var i in n){var o=n[i];this.toWarning(o)}}else this.toWarning(null);else this.toAccountBalance(null),this.toWarning(null)}.bind(this),this.executeEMTFullfilled=function(){var e=new o;e.execute({sender:this.sender(),senderDescription:this.senderDescription(),destinationKey:this.toAccount(),emtQuestion:this.question(),emtAnswer:this.answer(),emtMemo:this.memo(),amount:this.amount(),decline:this.isDecline})},this.setPaymentId=function(e){BankingJS.getAppContext().getUser().setPaymentId(e),BankingJS.getAppContext().getUser().setPaymentType("FULLFILLED"),t.paymentId(e)}};r.prototype=i.prototype,t.exports=r},{"../Actions/EmailMoneyFullfilled":9,"../Actions/OpenEmailMoneyFullfilledRegister":17}],27:[function(e,t,n){function i(){o.call(this);var e=(BankingJS.getAppContext(),BankingJS.Models.EmailMoneyFullfilled.EmailMoneyFullfilledStateModel.getInstance());this.executeAccept=function(){e.accept=!0;var t=new a;t.execute()},this.executeReject=function(){e.accept=!1;var t=new a;t.execute()},this.executeEMTRegister=function(){var e=new a;e.execute()}}var o=BankingJS.ViewModelBase,a=e("../Actions/EmailMoneyFullfilledRegister");i.prototype=o.prototype,t.exports=i},{"../Actions/EmailMoneyFullfilledRegister":10}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("email-money-send",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.EmailMoneySend=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=BankingJS.Utilities.Promise,n=BankingJS.Utilities.Network,i=(e("./Actions/OpenEmailMoneySend"),e("./Actions/OpenEmailMoneySendTab")),o=e("./Actions/OpenEmailMoneySendTo"),a=e("./Actions/OpenEmailMoneySendFrom");BankingJS.getAppContext().actions.addContext("EmailMoneySend_TO",o),BankingJS.getAppContext().actions.addContext("EmailMoneySend_FROM",a),BankingJS.getAppContext().actions.addContext("MOVEMONEY_EMAILMONEYSEND_SETUP",i),BankingJS.Models.EmailMoneySend={},BankingJS.ViewModels.EmailMoneySend={},BankingJS.Services.EmailMoneySend={},BankingJS.Services.EmailMoneySend.EmailMoneySendService=e("./Services/EmailMoneySendService")(t,n),BankingJS.Models.EmailMoneySend.EmailMoneySendRecipients=e("./Models/EmailMoneySendRecipients"),BankingJS.Models.EmailMoneySend.EmailMoneySendRecipient=e("./Models/EmailMoneySendRecipient"),BankingJS.Models.EmailMoneySend.EmailMoneySendStateModel=e("./Models/EmailMoneySendStateModel"),BankingJS.ViewModels.EmailMoneySend.EmailMoneySendSetup=e("./ViewModels/EmailMoneySendSetup"),BankingJS.ViewModels.EmailMoneySend.EmailMoneySendConfirm=e("./ViewModels/EmailMoneySendConfirm"),BankingJS.ViewModels.EmailMoneySend.EmailMoneySendComplete=e("./ViewModels/EmailMoneySendComplete")}t.exports=new i},{"./Actions/OpenEmailMoneySend":9,"./Actions/OpenEmailMoneySendFrom":10,"./Actions/OpenEmailMoneySendTab":11,"./Actions/OpenEmailMoneySendTo":12,"./Models/EmailMoneySendRecipient":13,"./Models/EmailMoneySendRecipients":14,"./Models/EmailMoneySendStateModel":15,"./Services/EmailMoneySendService":16,"./ViewModels/EmailMoneySendComplete":17,"./ViewModels/EmailMoneySendConfirm":18,"./ViewModels/EmailMoneySendSetup":19}],2:[function(e,t,n){function i(){o.call(this),this.title=BankingJS.Utilities.DataBinder.createArrayBinding(),this.notice=BankingJS.Utilities.DataBinder.createArrayBinding(),this.info=BankingJS.Utilities.DataBinder.createArrayBinding(),this.preActionText=BankingJS.Utilities.DataBinder.createArrayBinding(),this.disclaimer=BankingJS.Utilities.DataBinder.createArrayBinding(),this.actions=BankingJS.Utilities.DataBinder.createArrayBinding()}var o=e("../../SharedViewModels/ViewModelBase");i.prototype=o.prototype,t.exports=i},{"../../SharedViewModels/ViewModelBase":3}],3:[function(e,t,n){var i=function(e){this.showNavigationHeader=!0,this.isLoading=BankingJS.Utilities.DataBinder.createBinding(),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1)};t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"CancelEMTSend","Cancel"),this.processAction=function(e){BankingJS.Utilities.Navigator.back()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"ConfirmEmailMoneySend","Confirm"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneySend.EmailMoneySendStateModel.getInstance(),i=n.accounts[n.from],o=n.recipients.findByCustomerId(n.to);return BankingJS.Utilities.Promise.Promise(function(t,a,r){n.send(i,o,n.amount,n.isoDate,n.emtQuestion,n.emtAnswer,n.emtMemo).done(function(t){var n=e("./OpenCompleteEmailMoneySend"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenCompleteEmailMoneySend":7}],6:[function(e,t,n){function i(){o.call(this,"EmailMoneySend","EmailMoneySend"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneySend.EmailMoneySendStateModel.getInstance();n.from=t.sourceKey,n.to=t.destinationKey,n.amount=t.amount,n.emtQuestion=t.emtQuestion,n.emtAnswer=t.emtAnswer,n.emtMemo=t.emtMemo,n.date=t.date,n.isoDate=t.isoDate;var i=n.accounts[n.from],o=n.recipients.findByCustomerId(n.to);return BankingJS.Utilities.Promise.Promise(function(t,a,r){n.confirm(i,o.customerId).done(function(t){var n=e("./OpenConfirmEmailMoneySend"),i=new n,o=BankingJS.Models.EmailMoneySend.EmailMoneySendStateModel.getInstance(),a=t.data.freeCountLeft,r=t.data.serviceFee;o.freeCountLeft=a,o.serviceFee=r,i.execute()},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenConfirmEmailMoneySend":8}],7:[function(e,t,n){function i(){o.call(this,"OpenCompleteEmailMoneySend","OpenCompleteEmailMoneySend"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-send-complete"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-send-complete")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){o.call(this,"OpenConfirmEmailMoneySend","OpenConfirmEmailMoneySend"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-send-confirm"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-send-confirm")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneySend","EmailMoneySend"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/email-money-send")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],10:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneySendFrom","EmailMoneySendFrom"),this.processAction=function(e){}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],11:[function(e,t,n){function i(){o.call(this,"email-money-send","OpenEmailMoneySendTab","EmailMoneySend","emt-tab"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/email-money-send")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],12:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneySendTo","EmailMoneySendTo"),this.processAction=function(e){}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],13:[function(e,t,n){function i(){var e,t,n,i,o,a;return{customerId:e,emailAddress:t,language:n,name:i,payeeStatus:o,relationship:a}}t.exports=i},{}],14:[function(e,t,n){function i(){this.recipients=[],this.addRecipient=function(e){var t=new o;t.customerId=e.customerId,t.emailAddress=e.emailAddress,t.language=e.language,t.name=e.name,t.payeeStatus=e.payeeStatus,t.relationship=e.relationship,this.recipients.push(t)},this.findByRecipientId=function(e){for(var t=0;t<this.recipients.length;t++)if(this.recipients[t].customerId==e)return this.recipients[t];return null},this.findByCustomerId=function(e){for(var t=0;t<this.recipients.length;t++)if(this.recipients[t].customerId==e)return this.recipients[t];return null}}var o=e("./EmailMoneySendRecipient");t.exports=i},{"./EmailMoneySendRecipient":13}],15:[function(e,t,n){var i=e("./EmailMoneySendRecipients"),o=function(){function e(){this.from,this.accounts,this.recipients,this.to,this.amount,this.question,this.answer,this.memo,this.date,this.isoDate,this.freeCountLeft,this.serviceFee,this.showSecurity,this.setup=function(){return this.accounts=BankingJS.getAppContext().getUser().accounts,this.recipients=new i,BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.EmailMoneySend.EmailMoneySendService.setup().done(function(t){this.accounts=t.response.accounts,e({nextContexts:t.context.next,data:t.response})}.bind(this))}.bind(this))}.bind(this),this.send=function(e,t,n,i,o,a,r){return BankingJS.Utilities.Promise.Promise(function(s,c,l){BankingJS.Services.EmailMoneySend.EmailMoneySendService.send(e.accountKey,t.customerId,BankingJS.Utilities.Tools.formatDecimal(n),i,o,a,r).done(function(t){var n=(t.response,t.response.sourceBalance);n&&n[0]&&e.balances&&e.balances[0]&&(e.balances[0].amount=n[0].amount,e.balances[0].effDt=t.response.effectiveDate),s({nextContexts:t.context.next,data:null})})})},this.confirm=function(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.EmailMoneySend.EmailMoneySendService.confirm(e.accountKey,t).done(function(e){var t=e.response;n({nextContexts:e.context.next,data:t})})})},this.autoDepositInq=function(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.EmailMoneySend.EmailMoneySendService.autoDepositInq(e).done(function(e){var n=e.response;t({nextContexts:e.context.next,data:n})})})}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=o},{"./EmailMoneySendRecipients":14}],16:[function(e,t,n){var i=function(e,t){function n(e,n,i,o,a,r,s){var c={path:"/banking/rest/move-money/email-money-send/submit"},l=JSON.stringify({from:e,emtRecipient:n,amount:i,currency:"CAD",date:o,question:a,answer:r,memo:s});return t.invokeHttp(c,l)}function i(){var e={path:"/banking/rest/move-money/email-money-send/setup"},n=JSON.stringify({});return t.invokeHttp(e,n)}function o(e,n){var i={path:"/banking/rest/move-money/email-money-send/confirm"},o=JSON.stringify({from:e,emtRecipient:n});return t.invokeHttp(i,o)}function a(e){var n={path:"/banking/rest/move-money/email-money-auto-deposit/inq"},i=JSON.stringify({payeeEmail:e});return t.invokeHttp(n,i)}return{send:n,setup:i,confirm:o,autoDepositInq:a}};t.exports=i},{}],17:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.Models.EmailMoneySend.EmailMoneySendStateModel.getInstance(),n=BankingJS.getAppContext(),o=BankingJS.getAppContext().i18n.lng().substr(0,2),t=BankingJS.Models.EmailMoneySend.EmailMoneySendStateModel.getInstance();if(t.from&&t.to){var a,r=t.recipients.findByCustomerId(t.to),s=t.accounts[t.from],c=t.freeCountLeft,l=(t.serviceFee,s.balances[0].effDt),u="CAD"===s.balances[0].currency?"":s.balances[0].currency,d=(Number(t.amount).toFixed(2).toLocaleString(o+"-CA",{style:"currency",currency:u}),"fr"===o?Number(t.amount).toLocaleString(o+"-CA",{minimumFractionDigits:2}).replace(".",",")+" $ "+u:"$"+Number(t.amount).toLocaleString(o+"-CA",{minimumFractionDigits:2})+" "+u),p=BankingJS.Utilities.Tools.getLocaleAmount(t.serviceFee,s.balances[0].currency,n.i18n.lng()),f=Number(t.amount)+t.serviceFee,m=BankingJS.Utilities.Tools.getLocaleAmount(f,s.balances[0].currency,n.i18n.lng());a=0===c?" ( + "+p+" "+n.i18n.t("EMT.ServiceCharge")+" = "+m+" ) ":" ( "+n.i18n.t("EMT.ServiceFeeWaived")+" ) ",this.title(n.i18n.t("EMT.CompleteETransfer")),t.showSecurity?this.info([{description:n.i18n.t("EMT.Send.SendMoneyTo"),value:r.name,extDescription:"Email",extValue:r.emailAddress},{description:n.i18n.t("EMT.Send.WithdrawFrom"),value:s.description+" "+s.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:s.balances[0].amount},{description:n.i18n.t("Common.Date"),value:l},{description:n.i18n.t("Common.Amount"),value:d+" "+a,extDescription:n.i18n.t("Common.Balance")},{description:n.i18n.t("Common.SecurityQuestion"),value:t.emtQuestion},{description:n.i18n.t("Common.SecurityAnswer"),value:t.emtAnswer},{description:n.i18n.t("EMT.Send.MessageToContact"),value:t.emtMemo}]):this.info([{description:n.i18n.t("EMT.Send.SendMoneyTo"),value:r.name,extDescription:"Email",extValue:r.emailAddress},{description:n.i18n.t("EMT.Send.WithdrawFrom"),value:s.description+" "+s.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:s.balances[0].amount},{description:n.i18n.t("Common.Date"),value:l},{description:n.i18n.t("Common.Amount"),value:d+" "+a,extDescription:n.i18n.t("Common.Balance")},{description:n.i18n.t("EMT.Send.MessageToContact"),value:t.emtMemo}]),this.actions([])}else{var g=e("../../MoveMoney/Actions/OpenMoveMoney"),h=new g;h.execute()}};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":2,"../../MoveMoney/Actions/OpenMoveMoney":20}],18:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.Models.EmailMoneySend.EmailMoneySendStateModel.getInstance(),n=BankingJS.getAppContext();if(t.from&&t.to){var o=t.accounts[t.from],a=t.recipients.findByCustomerId(t.to),r=t.freeCountLeft;t.serviceFee;this.title(n.i18n.t("EMT.ConfirmETransfer"));var s,c=BankingJS.Utilities.Tools.getLocaleAmount(t.amount,o.balances[0].currency,n.i18n.lng()),l=(n.i18n.t("PayBills.LastPayment"),BankingJS.Utilities.Tools.getLocaleAmount(t.serviceFee,o.balances[0].currency,n.i18n.lng())),u=Number(t.amount)+t.serviceFee,d=BankingJS.Utilities.Tools.getLocaleAmount(u,o.balances[0].currency,n.i18n.lng());s=0===r?" ( + "+l+" "+n.i18n.t("EMT.ServiceCharge")+" = "+d+" ) ":" ( "+n.i18n.t("EMT.ServiceFeeWaived")+" ) ",t.showSecurity?this.info([{description:n.i18n.t("EMT.Send.SendMoneyTo"),value:a.name,extDescription:"Email",extValue:a.emailAddress},{description:n.i18n.t("EMT.Send.WithdrawFrom"),value:o.description+" "+o.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:o.balances[0].amount},{description:n.i18n.t("Common.Amount"),value:c+" "+s,extDescription:n.i18n.t("Common.Balance")},{description:n.i18n.t("Common.SecurityQuestion"),value:t.emtQuestion},{description:n.i18n.t("Common.SecurityAnswer"),value:t.emtAnswer},{description:n.i18n.t("EMT.Send.MessageToContact"),value:t.emtMemo}]):this.info([{description:n.i18n.t("EMT.Send.SendMoneyTo"),value:a.name,extDescription:"Email",extValue:a.emailAddress},{description:n.i18n.t("EMT.Send.WithdrawFrom"),value:o.description+" "+o.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:o.balances[0].amount},{description:n.i18n.t("Common.Amount"),value:c+" "+s,extDescription:n.i18n.t("Common.Balance")},{description:n.i18n.t("EMT.Send.MessageToContact"),value:t.emtMemo}]),this.disclaimer(n.i18n.t("PayBills.CompleteDisclaimer"));var p=e("../Actions/ConfirmEmailMoneySend");e("../Actions/CancelEmailMoneySend");this.actions().push(new p)}else{var f=e("../../MoveMoney/Actions/OpenMoveMoney"),m=new f;m.execute()}};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":2,"../../MoveMoney/Actions/OpenMoveMoney":20,"../Actions/CancelEmailMoneySend":4,"../Actions/ConfirmEmailMoneySend":5}],19:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/EmailMoneySend"),a=function(){i.call(this);var e=BankingJS.Models.EmailMoneySend.EmailMoneySendStateModel.getInstance();this.accountsMatrix,this.fromAccounts=BankingJS.Utilities.DataBinder.createArrayBinding(),this.fromAccount=BankingJS.Utilities.DataBinder.createBinding(e.from),this.recipients=BankingJS.Utilities.DataBinder.createArrayBinding(),this.recipient=BankingJS.Utilities.DataBinder.createBinding(e.to),this.recipientDescription=BankingJS.Utilities.DataBinder.createBinding(),this.fromAccountBalance=BankingJS.Utilities.DataBinder.createBinding(),this.fromWarning=BankingJS.Utilities.DataBinder.createBinding(),this.minPaymentAmount=0,this.maxPaymentAmount=0,this.rules,this.amount=BankingJS.Utilities.DataBinder.createBinding(e.amount),this.amount(null),this.question=BankingJS.Utilities.DataBinder.createBinding(e.question),this.answer=BankingJS.Utilities.DataBinder.createBinding(e.answer),this.memo=BankingJS.Utilities.DataBinder.createBinding(e.memo),this.date=BankingJS.Utilities.DataBinder.createDateBinding(e.date),e.setup().done(function(t){var n;this.recipients(t.data.emtPayees),this.date=t.data.processingDate,this.isoDate=t.data.processingISODate;var i=t.data.emtPayees;i.forEach(function(t){e.recipients.addRecipient(t)}),this.accountsMatrix=t.data.matrix,this.minPaymentAmount=t.data.min,this.maxPaymentAmount=t.data.max,this.rules=t.data.rules;for(var o in this.accountsMatrix.from)n=e.accounts[o],this.fromAccounts.push(n);this.setupValidation()}.bind(this)),this.changeSelectedRecipient=function(t){if(t){var n=e.recipients.findByCustomerId(t);this.recipientDescription(n.emailAddress),e.showSecurity=!0,1==BankingJS.getAppContext().emt_v34&&e.autoDepositInq(n.emailAddress).done(function(t){e.showSecurity=!0,$("#div_security_question").show(),$("#div_security_answer").show(),$(".emt-submit-button").prop("disabled",!0),null!=t.data.ddRefNum&&($("#div_security_question").hide(),$("#div_security_answer").hide(),e.showSecurity=!1),$(".emt-toRecipient").val()&&$(".emt-fromAccount").val()&&$(".emt-amount").val()&&(e.showSecurity?$(".emt-securityQuestion").val()&&$(".emt-securityAnswer").val()?$(".emt-submit-button").prop("disabled",!1):$(".emt-submit-button").prop("disabled",!0):$(".emt-submit-button").prop("disabled",!1)),($("#error_message_amount").is(":visible")||$("#error_message_emt_question").is(":visible")||$("#error_message_emt_answer").is(":visible")||$("#error_message_emt_memo").is(":visible"))&&$(".emt-submit-button").prop("disabled",!0)}.bind(this))}else this.recipient(null),this.recipientDescription(null)}.bind(this),this.changeSelectedFromAccount=function(t){if(t)if(this.fromAccountBalance(e.accounts[t].balances[0].amount),this.accountsMatrix.from[t].warnings){var n=this.accountsMatrix.from[t].warnings;for(var i in n){var o=n[i];this.fromWarning(o)}}else this.fromWarning(null);else this.fromAccountBalance(null),this.fromWarning(null)}.bind(this),this.executeEMTSend=function(){var e=new o,t=BankingJS.Models.EmailMoneySend.EmailMoneySendStateModel.getInstance(),n="",i="",a="";t.showSecurity&&(n=this.question().trim(),i=this.answer()),null!=this.memo()&&(a=this.memo().trim()),e.execute({sourceKey:this.fromAccount(),destinationKey:this.recipient(),emtQuestion:n,emtAnswer:i,emtMemo:a,amount:this.amount,date:this.date})}};a.prototype=i.prototype,t.exports=a},{"../Actions/EmailMoneySend":6}],20:[function(e,t,n){function i(){o.call(this,"move-money/move-money","OpenMoveMoney","MoveMoney","menu-move-money"),this.processAction=function(e){var t=BankingJS.getAppContext().getActionContext("detailsOptions","MoveMoney");t.forEach(function(e){e.execute({blockNav:!0})}),e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/move-money"):BankingJS.Utilities.Navigator.navigate("move-money/move-money")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("email-money-receive",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.EmailMoneyReceive=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=BankingJS.Utilities.Promise,n=BankingJS.Utilities.Network,i=e("./Actions/OpenEmailMoneyReceive"),o=new i,a=e("./Actions/OpenEmailMoneyReceiveRegister"),r=new a;BankingJS.getAppContext().actions.addContext("MOVEMONEY_EMAILMONEYRECEIVE_SETUP",o),BankingJS.getAppContext().actions.addContext("MOVEMONEY_EMAILMONEYRECEIVE_REGISTER",r),BankingJS.Models.EmailMoneyReceive={},BankingJS.ViewModels.EmailMoneyReceive={},BankingJS.Services.EmailMoneyReceive=BankingJS.Services.Authentication||{},BankingJS.Services.EmailMoneyReceive.EmailMoneyReceiveService=e("./Services/EmailMoneyReceiveService")(t,n),BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel=e("./Models/EmailMoneyReceiveStateModel"),BankingJS.ViewModels.EmailMoneyReceive.EmailMoneyReceiveRegister=e("./ViewModels/EmailMoneyReceiveRegister"),BankingJS.ViewModels.EmailMoneyReceive.EmailMoneyReceiveTerms=e("./ViewModels/EmailMoneyReceiveTerms"),BankingJS.ViewModels.EmailMoneyReceive.EmailMoneyReceiveSetup=e("./ViewModels/EmailMoneyReceiveSetup"),BankingJS.ViewModels.EmailMoneyReceive.EmailMoneyReceiveConfirm=e("./ViewModels/EmailMoneyReceiveConfirm"),BankingJS.ViewModels.EmailMoneyReceive.EmailMoneyReceiveComplete=e("./ViewModels/EmailMoneyReceiveComplete"),BankingJS.ViewModels.EmailMoneyReceive.EmailMoneyDeclineConfirm=e("./ViewModels/EmailMoneyDeclineConfirm"),BankingJS.ViewModels.EmailMoneyReceive.EmailMoneyDeclineComplete=e("./ViewModels/EmailMoneyDeclineComplete")}t.exports=new i},{"./Actions/OpenEmailMoneyReceive":16,"./Actions/OpenEmailMoneyReceiveRegister":17,"./Models/EmailMoneyReceiveStateModel":19,"./Services/EmailMoneyReceiveService":20,"./ViewModels/EmailMoneyDeclineComplete":21,"./ViewModels/EmailMoneyDeclineConfirm":22,"./ViewModels/EmailMoneyReceiveComplete":23,"./ViewModels/EmailMoneyReceiveConfirm":24,"./ViewModels/EmailMoneyReceiveRegister":25,"./ViewModels/EmailMoneyReceiveSetup":26,"./ViewModels/EmailMoneyReceiveTerms":27}],2:[function(e,t,n){var i=function(){this.getAccounts=function(){return BankingJS.getAppContext().getUser().accounts.getAccounts()},this.updateAccounts=function(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){var o=BankingJS.getAppContext().getUser().accounts;e||o.requiresUpdate||0==o.totalAccounts()?BankingJS.Services.Accounts.AccountSummary.AccountSummaryService.getAccountSummmary().done(function(e){o.emptyAllAccounts(),o.requiresUpdate=!1,e.response.accounts.forEach(function(e){o.addAccount(e)}),t({nextContexts:e.context.next,data:this.getAccounts(),raw:e})}.bind(this)):t({nextContexts:void 0,data:this.getAccounts()})}.bind(this))}};t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this),this.title=BankingJS.Utilities.DataBinder.createArrayBinding(),this.notice=BankingJS.Utilities.DataBinder.createArrayBinding(),this.info=BankingJS.Utilities.DataBinder.createArrayBinding(),this.preActionText=BankingJS.Utilities.DataBinder.createArrayBinding(),this.disclaimer=BankingJS.Utilities.DataBinder.createArrayBinding(),this.actions=BankingJS.Utilities.DataBinder.createArrayBinding()}var o=e("../../SharedViewModels/ViewModelBase");i.prototype=o.prototype,t.exports=i},{"../../SharedViewModels/ViewModelBase":4}],4:[function(e,t,n){var i=function(e){this.showNavigationHeader=!0,this.isLoading=BankingJS.Utilities.DataBinder.createBinding(),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1)};t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"CancelEMTDecline","Cancel"),this.processAction=function(e){BankingJS.Utilities.Navigator.back()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this,"CancelEMTReceive","Cancel"),this.processAction=function(e){BankingJS.Utilities.Navigator.back()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this,"ConfirmEmailMoneyDecline","Confirm"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance();return BankingJS.Utilities.Promise.Promise(function(t,i,o){n.reject(n.emtAnswer,n.emtMemo).done(function(t){var n=e("./OpenCompleteEmailMoneyDecline"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenCompleteEmailMoneyDecline":12}],8:[function(e,t,n){function i(){o.call(this,"ConfirmEmailMoneyReceive","Confirm"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance(),i=n.accounts[n.to];return BankingJS.Utilities.Promise.Promise(function(t,o,a){n.receive(i,n.emtAnswer,n.emtMemo).done(function(t){var n=e("./OpenCompleteEmailMoneyReceive"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenCompleteEmailMoneyReceive":13}],9:[function(e,t,n){function i(){o.call(this,"EmailMoneyReceive","EmailMoneyReceive"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance();if(n.to=t.destinationKey,n.emtQuestion=t.emtQuestion,n.emtAnswer=t.emtAnswer,n.emtMemo=t.emtMemo,n.amount=t.amount,n.sender=t.sender,n.senderDescription=t.senderDescription,n.decline=t.decline,n.decline){var i=e("./OpenConfirmEmailMoneyDecline"),o=new i;o.execute()}else{var a=e("./OpenConfirmEmailMoneyReceive"),r=new a;r.execute()}}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenConfirmEmailMoneyDecline":14,"./OpenConfirmEmailMoneyReceive":15}],10:[function(e,t,n){function i(){o.call(this,"EmailMoneyReceiveRegister","Confirm"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance();return BankingJS.Utilities.Promise.Promise(function(t,i,o){n.register(n.name,n.payerEmail,n.accept).done(function(t){var n=e("./OpenEmailMoneyReceive"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenEmailMoneyReceive":16}],11:[function(e,t,n){function i(){o.call(this,"EmailMoneyReceiveTerms","EmailMoneyReceiveTerms"),this.processAction=function(t){var n=BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance();n.name=t.name,n.payerEmail=t.email;var i=e("./OpenEmailMoneyReceiveTerms"),o=new i;o.execute()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenEmailMoneyReceiveTerms":18}],12:[function(e,t,n){function i(){o.call(this,"OpenCompleteEmailMoneyDecline","OpenCompleteEmailMoneyDecline"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-decline-complete"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-decline-complete")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],13:[function(e,t,n){function i(){o.call(this,"OpenCompleteEmailMoneyReceive","OpenCompleteEmailMoneyReceive"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-receive-complete"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-receive-complete")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],14:[function(e,t,n){function i(){o.call(this,"OpenConfirmEmailMoneyDecline","OpenConfirmEmailMoneyDecline"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-decline-confirm"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-decline-confirm")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],15:[function(e,t,n){function i(){o.call(this,"OpenConfirmEmailMoneyReceive","OpenConfirmEmailMoneyReceive"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-receive-confirm"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-receive-confirm")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],16:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneyReceive","EmailMoneyReceive"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/email-money-receive")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],17:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneyReceiveRegister","EmailMoneyReceive"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/email-money-receive-register")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],18:[function(e,t,n){function i(){o.call(this,"OpenEmailMoneyReceiveTerms","OpenEmailMoneyReceiveTerms"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/email-money-receive-terms"):BankingJS.Utilities.Navigator.navigate("move-money/email-money-receive-terms")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],19:[function(e,t,n){var i=(e("../../../Accounts/Summary/Models/AccountSummaryModel"),function(){function e(){this.name,this.payerEmail,this.accept,this.decline,this.paymentId=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().getUser().getPaymentId()),this.sender,this.senderDescription,this.accounts,this.to,this.amount,this.question,this.answer,this.memo,this.setup=function(e){return this.accounts=BankingJS.getAppContext().getUser().accounts,BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.EmailMoneyReceive.EmailMoneyReceiveService.setup(e).done(function(e){this.accounts=e.response.accounts,t({nextContexts:e.context.next,data:e.response})}.bind(this))}.bind(this))}.bind(this),this.registerSetup=function(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.EmailMoneyReceive.EmailMoneyReceiveService.registerSetup().done(function(t){e({nextContexts:t.context.next,data:t.response})}.bind(this))}.bind(this))}.bind(this),this.register=function(e,t,n){return BankingJS.Utilities.Promise.Promise(function(i,o,a){BankingJS.Services.EmailMoneyReceive.EmailMoneyReceiveService.register(e,t,n).done(function(e){i({nextContexts:e.context.next,data:e.response})}.bind(this))}.bind(this))}.bind(this),this.receive=function(e,t,n){return BankingJS.Utilities.Promise.Promise(function(i,o,a){BankingJS.Services.EmailMoneyReceive.EmailMoneyReceiveService.accept(e.accountKey,t,n).done(function(t){var n=(t.response,t.response.sourceBalance);n&&e.balances&&e.balances[0]&&(e.balances[0].amount=n.amount),i({nextContexts:t.context.next,data:null})})})},this.reject=function(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.EmailMoneyReceive.EmailMoneyReceiveService.reject(e,t).done(function(e){var t=e.response;n({nextContexts:e.context.next,data:t})})})}}function t(){return i||(i=new e),i}function n(){return this.paymentId()?this.paymentId():null}var i=null;return{getInstance:t,getEmailMoneyReceive:n}}());t.exports=i},{"../../../Accounts/Summary/Models/AccountSummaryModel":2
}],20:[function(e,t,n){var i=function(e,t){function n(e){var n={path:"/banking/rest/move-money/email-money-receive/setup"},i=JSON.stringify({paymentReference:e});return t.invokeHttp(n,i)}function i(){var e={path:"/banking/rest/move-money/email-money-receive-register/setup"},n={};return t.invokeHttp(e,n)}function o(e,n,i){var o={path:"/banking/rest/move-money/email-money-receive-register/register"},a=JSON.stringify({name:e,email:n,agree:i});return t.invokeHttp(o,a)}function a(e,n,i){var o={path:"/banking/rest/move-money/email-money-receive/accept"},a=JSON.stringify({accountKey:e,answer:n,memo:i});return t.invokeHttp(o,a)}function r(e,n){var i={path:"/banking/rest/move-money/email-money-receive/reject"},o=JSON.stringify({answer:e,memo:n});return t.invokeHttp(i,o)}return{accept:a,reject:r,setup:n,registerSetup:i,register:o}};t.exports=i},{}],21:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var e=BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance(),t=BankingJS.getAppContext();this.title(t.i18n.t("EMTReceive.CompleteTitle"));var n=BankingJS.Utilities.Tools.getLocaleAmount(e.amount,"CAD",t.i18n.lng());this.info([{description:t.i18n.t("EMTReceive.From"),value:e.sender,extDescription:"Email",extValue:e.senderDescription},{description:t.i18n.t("EMTDecline.Amount"),value:n,extDescription:t.i18n.t("Common.Balance")},{description:t.i18n.t("EMTReceive.SecurityQuestion"),value:e.emtQuestion},{description:t.i18n.t("EMTReceive.SecurityAnswer"),value:e.emtAnswer},{description:t.i18n.t("EMTReceive.Memo"),value:e.emtMemo}]),this.actions([])};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":3}],22:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance(),n=BankingJS.getAppContext();this.title(n.i18n.t("EMTDecline.Title"));var o=BankingJS.Utilities.Tools.getLocaleAmount(t.amount,"CAD",n.i18n.lng());this.info([{description:n.i18n.t("EMTReceive.From"),value:t.sender,extDescription:"Email",extValue:t.senderDescription},{description:n.i18n.t("EMTDecline.Amount"),value:o,extDescription:n.i18n.t("Common.Balance")},{description:n.i18n.t("EMTReceive.SecurityQuestion"),value:t.emtQuestion},{description:n.i18n.t("EMTReceive.SecurityAnswer"),value:t.emtAnswer},{description:n.i18n.t("EMTReceive.Memo"),value:t.emtMemo}]);var a=e("../Actions/ConfirmEmailMoneyDecline");e("../Actions/CancelEmailMoneyDecline");this.actions().push(new a)};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":3,"../Actions/CancelEmailMoneyDecline":5,"../Actions/ConfirmEmailMoneyDecline":7}],23:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var e=BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance(),t=BankingJS.getAppContext(),n=e.accounts[e.to];this.title(t.i18n.t("EMTReceive.CompleteTitle"));var o=BankingJS.Utilities.Tools.getLocaleAmount(e.amount,n.balances[0].currency,t.i18n.lng());this.info([{description:t.i18n.t("EMTReceive.From"),value:e.sender,extDescription:"Email",extValue:e.senderDescription},{description:t.i18n.t("EMTReceive.To"),value:n.description+" "+n.maskedAccount,extDescription:t.i18n.t("Common.Balance"),extValue:n.balances[0].amount},{description:t.i18n.t("EMTReceive.Amount"),value:o,extDescription:t.i18n.t("Common.Balance")},{description:t.i18n.t("EMTReceive.SecurityQuestion"),value:e.emtQuestion},{description:t.i18n.t("EMTReceive.SecurityAnswer"),value:e.emtAnswer},{description:t.i18n.t("EMTReceive.Memo"),value:e.emtMemo}]),this.actions([])};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":3}],24:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance(),n=BankingJS.getAppContext(),o=t.accounts[t.to];this.title(n.i18n.t("EMTReceive.ConfirmTitle"));var a=BankingJS.Utilities.Tools.getLocaleAmount(t.amount,o.balances[0].currency,n.i18n.lng());this.info([{description:n.i18n.t("EMTReceive.From"),value:t.sender,extDescription:"Email",extValue:t.senderDescription},{description:n.i18n.t("EMTReceive.To"),value:o.description+" "+o.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:o.balances[0].amount},{description:n.i18n.t("EMTReceive.Amount"),value:a,extDescription:n.i18n.t("Common.Balance")},{description:n.i18n.t("EMTReceive.SecurityQuestion"),value:t.emtQuestion},{description:n.i18n.t("EMTReceive.SecurityAnswer"),value:t.emtAnswer},{description:n.i18n.t("EMTReceive.Memo"),value:t.emtMemo}]);var r=e("../Actions/ConfirmEmailMoneyReceive");e("../Actions/CancelEmailMoneyReceive");this.actions().push(new r)};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":3,"../Actions/CancelEmailMoneyReceive":6,"../Actions/ConfirmEmailMoneyReceive":8}],25:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/EmailMoneyReceiveTerms"),a=function(){i.call(this);var e=BankingJS.getAppContext();e.getUser().setLoggedInAcceptedTerms(!0);var t=BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance();this.name=BankingJS.Utilities.DataBinder.createBinding(t.nickName),this.payerEmail=BankingJS.Utilities.DataBinder.createBinding(t.payerEmail),this.rules,t.registerSetup().done(function(e){this.rules=e.data.rules,this.setupValidation()}.bind(this)),this.executeEMTRegister=function(){var e=new o;e.execute({name:this.name(),email:this.payerEmail()})}};a.prototype=i.prototype,t.exports=a},{"../Actions/EmailMoneyReceiveTerms":11}],26:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/EmailMoneyReceive"),a=e("../Actions/OpenEmailMoneyReceiveRegister"),r=function(){i.call(this);var e=BankingJS.getAppContext();e.getUser().setLoggedInAcceptedTerms(!0);var t=BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance();this.accountsMatrix,this.isDecline=!1,this.paymentId=BankingJS.Utilities.DataBinder.createBinding(t.paymentId),this.toAccounts=BankingJS.Utilities.DataBinder.createArrayBinding(),this.toAccount=BankingJS.Utilities.DataBinder.createBinding(t.to),this.sender=BankingJS.Utilities.DataBinder.createBinding(t.sender),this.senderDescription=BankingJS.Utilities.DataBinder.createBinding(),this.toAccountBalance=BankingJS.Utilities.DataBinder.createBinding(),this.toWarning=BankingJS.Utilities.DataBinder.createBinding(null),this.rules,this.amount=BankingJS.Utilities.DataBinder.createBinding(t.amount),this.decoratedAmount=BankingJS.Utilities.DataBinder.createBinding(null),this.question=BankingJS.Utilities.DataBinder.createBinding(t.question),this.answer=BankingJS.Utilities.DataBinder.createBinding(t.answer),this.memo=BankingJS.Utilities.DataBinder.createBinding(t.memo),this.setup=function(){t.setup(t.paymentId()).done(function(e){if(e.nextContexts[0]&&"MOVEMONEY_EMAILMONEYRECEIVE_REGISTER"===e.nextContexts[0].action){var n=new a;n.execute()}if(e.data.emtReceive.emtPayeeInfo){var i;this.sender(e.data.emtReceive.emtPayeeInfo.name),this.senderDescription(e.data.emtReceive.emtPayeeInfo.emailAddress),this.question(e.data.emtReceive.emtPayeeInfo.challenge.question),this.accountsMatrix=e.data.emtReceive.matrix,this.rules=e.data.emtReceive.rules,this.amount(e.data.emtReceive.paymentAmount.amt),this.decoratedAmount(BankingJS.Utilities.Tools.getLocaleAmount(this.amount(),e.data.emtReceive.paymentAmount.currencyId,BankingJS.getAppContext().i18n.lng()));for(var o in this.accountsMatrix.to)i=t.accounts[o],this.toAccounts.push(i);this.setupValidation()}}.bind(this))},this.changeSelectedToAccount=function(e){if(e)if(this.toAccountBalance(t.accounts[e].balances[0].amount),this.accountsMatrix.to[e].warnings){var n=this.accountsMatrix.to[e].warnings;for(var i in n){var o=n[i];this.toWarning(o)}}else this.toWarning(null);else this.toAccountBalance(null),this.toWarning(null)}.bind(this),this.executeEMTReceive=function(){var e=new o;e.execute({sender:this.sender(),senderDescription:this.senderDescription(),destinationKey:this.toAccount(),emtQuestion:this.question(),emtAnswer:this.answer(),emtMemo:this.memo(),amount:this.amount(),decline:this.isDecline})},this.setPaymentId=function(e){BankingJS.getAppContext().getUser().setPaymentId(e),t.paymentId(e)}};r.prototype=i.prototype,t.exports=r},{"../Actions/EmailMoneyReceive":9,"../Actions/OpenEmailMoneyReceiveRegister":17}],27:[function(e,t,n){function i(){o.call(this);var e=(BankingJS.getAppContext(),BankingJS.Models.EmailMoneyReceive.EmailMoneyReceiveStateModel.getInstance());this.executeAccept=function(){e.accept=!0;var t=new a;t.execute()},this.executeReject=function(){e.accept=!1;var t=new a;t.execute()},this.executeEMTRegister=function(){var e=new a;e.execute()}}var o=BankingJS.ViewModelBase,a=e("../Actions/EmailMoneyReceiveRegister");i.prototype=o.prototype,t.exports=i},{"../Actions/EmailMoneyReceiveRegister":10}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("western-union",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.WesternUnion=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=BankingJS.Utilities.Promise,n=BankingJS.Utilities.Network,i=(e("./Actions/OpenWesternUnion"),e("./Actions/OpenWesternUnionTab"));BankingJS.getAppContext().setActionContext("detailsOptions",new i,"MoveMoney",40),BankingJS.Models.WesternUnion={},BankingJS.ViewModels.WesternUnion={},BankingJS.Services.WesternUnion={},BankingJS.Services.WesternUnion.WesternUnionService=e("./Services/WesternUnionService")(t,n),BankingJS.Models.WesternUnion.WesternUnionRecipients=e("./Models/WesternUnionRecipients"),BankingJS.Models.WesternUnion.WesternUnionRecipient=e("./Models/WesternUnionRecipient"),BankingJS.Models.WesternUnion.WesternUnionStateModel=e("./Models/WesternUnionStateModel"),BankingJS.ViewModels.WesternUnion.WesternUnionSetup=e("./ViewModels/WesternUnionSetup"),BankingJS.ViewModels.WesternUnion.WesternUnionConfirm=e("./ViewModels/WesternUnionConfirm"),BankingJS.ViewModels.WesternUnion.WesternUnionTerms=e("./ViewModels/WesternUnionTerms"),BankingJS.ViewModels.WesternUnion.WesternUnionComplete=e("./ViewModels/WesternUnionComplete")}t.exports=new i},{"./Actions/OpenWesternUnion":10,"./Actions/OpenWesternUnionTab":11,"./Models/WesternUnionRecipient":15,"./Models/WesternUnionRecipients":16,"./Models/WesternUnionStateModel":17,"./Services/WesternUnionService":18,"./ViewModels/WesternUnionComplete":19,"./ViewModels/WesternUnionConfirm":20,"./ViewModels/WesternUnionSetup":21,"./ViewModels/WesternUnionTerms":22}],2:[function(e,t,n){function i(){o.call(this),this.title=BankingJS.Utilities.DataBinder.createArrayBinding(),this.notice=BankingJS.Utilities.DataBinder.createArrayBinding(),this.info=BankingJS.Utilities.DataBinder.createArrayBinding(),this.preActionText=BankingJS.Utilities.DataBinder.createArrayBinding(),this.disclaimer=BankingJS.Utilities.DataBinder.createArrayBinding(),this.actions=BankingJS.Utilities.DataBinder.createArrayBinding()}var o=e("../../SharedViewModels/ViewModelBase");i.prototype=o.prototype,t.exports=i},{"../../SharedViewModels/ViewModelBase":3}],3:[function(e,t,n){var i=function(e){this.showNavigationHeader=!0,this.isLoading=BankingJS.Utilities.DataBinder.createBinding(),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1)};t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"move-money/move-money","OpenMoveMoney","MoveMoney","menu-move-money"),this.processAction=function(e){var t=BankingJS.getAppContext().getActionContext("detailsOptions","MoveMoney");t.forEach(function(e){e.execute({blockNav:!0})}),e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/move-money"):BankingJS.Utilities.Navigator.navigate("move-money/move-money")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"CancelEMTSend","Cancel"),this.processAction=function(e){BankingJS.Utilities.Navigator.back()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this,"ConfirmWesternUnion","Confirm"),this.processAction=function(t){var n=BankingJS.getAppContext().westernUnionState;return BankingJS.Utilities.Promise.Promise(function(t,i,o){n.confirm().done(function(t){var n=e("./OpenCompleteWesternUnion"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenCompleteWesternUnion":7}],7:[function(e,t,n){function i(){o.call(this,"OpenCompleteWesternUnion","OpenCompleteWesternUnion"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/western-union-complete"):BankingJS.Utilities.Navigator.navigate("move-money/western-union-complete")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){o.call(this,"OpenConfirmWesternUnion","OpenConfirmWesternUnion"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/western-union-confirm"):BankingJS.Utilities.Navigator.navigate("move-money/western-union-confirm")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){o.call(this,"OpenTermsWesternUnion","OpenTermsWesternUnion"),this.processAction=function(e){e&&e.replace===!0?BankingJS.Utilities.Navigator.replace("move-money/western-union-terms"):BankingJS.Utilities.Navigator.navigate("move-money/western-union-terms")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],10:[function(e,t,n){function i(){o.call(this,"OpenWesternUnion","WesternUnion"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/western-union")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],11:[function(e,t,n){function i(){o.call(this,"western-union","OpenWesternUnionTab","WesternUnion","western-union-tab"),this.processAction=function(e){return e&&e.blockNav?!1:void BankingJS.Utilities.Navigator.navigate("move-money/western-union")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],12:[function(e,t,n){function i(){o.call(this,"TermsWesternUnion","Confirm"),this.processAction=function(t){var n=BankingJS.getAppContext().westernUnionState,i=!1,o=n.to;return BankingJS.Utilities.Promise.Promise(function(t,a,r){n.terms(o,i).done(function(t){var n=e("./OpenTermsWesternUnion"),i=new n;i.execute({replace:!0})},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenTermsWesternUnion":9}],13:[function(e,t,n){function i(){o.call(this,"WesternUnionSend","WesternUnionSend"),this.processAction=function(t){var n=BankingJS.getAppContext().westernUnionState;return n.to=t.recipient,n.from=t.fromAccount,n.amount=t.amount,n.question=t.question,n.answer=t.answer,n.promotionCode=t.promotionCode,BankingJS.Utilities.Promise.Promise(function(t,i,o){n.send(n.to,n.from,n.amount,n.question,n.answer,n.promotionCode).done(function(t){var n=e("./OpenConfirmWesternUnion"),i=new n;i.execute()},function(e){BankingJS.Utilities.Navigator.back()})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{"./OpenConfirmWesternUnion":8}],14:[function(e,t,n){function i(){o.call(this,"WesternUnionTrack","WesternUnionTrack",null,"beta-action"),this.processAction=function(e){var t=BankingJS.getAppContext().i18n;BankingJS.Utilities.Navigator.openLocation(t.t("URLs.fullSite"),"_blank")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],15:[function(e,t,n){function i(e,t,n,i,o,a){var e=e,t=t,n=n,i=i,o=o,a=a;return{recipientId:e,description:t,pickupCurrency:n,idRequired:i,question:o,answer:a}}t.exports=i},{}],16:[function(e,t,n){function i(){this.recipients=[],this.addRecipient=function(e){var t=e.seqNum,n=e.firstName+" "+e.lastName+"("+e.payoutCountry+")",i=e.pickupCurrency,a="Y"===e.idRequiredForPickup?"WesternUnion.idRequired":"WesternUnion.idNotRequired",r=e.securityQuestion,s=e.securityAnswer,c=new o(t,n,i,a,r,s);this.recipients.push(c)},this.findByRecipientId=function(e){for(var t=0;t<this.recipients.length;t++)if(this.recipients[t].recipientId==e)return this.recipients[t];return null}}var o=e("./WesternUnionRecipient");t.exports=i},{"./WesternUnionRecipient":15}],17:[function(e,t,n){var i=e("./WesternUnionRecipients"),o=function(){this.recipients,this.recipient,this.accounts,this.fromAccount,this.amount,this.question,this.answer,this.promotionCode="",this.date,this.sendMoneyValidateResult,this.sendMoneyConfirmResult,this.termsMessages,this.setup=function(){return this.accounts=BankingJS.getAppContext().getUser().accounts,this.recipients=new i,BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.WesternUnion.WesternUnionService.setup().done(function(e){}.bind(this))}.bind(this))}.bind(this),this.send=function(e,t,n,i,o,a){return BankingJS.Utilities.Promise.Promise(function(r,s,c){BankingJS.Services.WesternUnion.WesternUnionService.send(e,t,n,i,o,a).done(function(e){var t=e.response;t&&(this.sendMoneyValidateResult=t.sendMoneyValidateResult),this.sendMoneyValidateResult?r({nextContexts:e.context.next,data:t}):s({error:"an error occured"})}.bind(this))}.bind(this))}.bind(this),this.confirm=function(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.WesternUnion.WesternUnionService.confirm().done(function(n){var i=n.response;i&&(this.sendMoneyConfirmResult=i.sendMoneyConfirmResult),this.sendMoneyConfirmResult?e({nextContexts:n.context.next,data:i}):t({error:"an error occured"})}.bind(this))}.bind(this))}.bind(this),this.terms=function(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.WesternUnion.WesternUnionService.terms(e,t).done(function(e){var t=e.response;if(t)for(var o=t.messages,a=0,r=o.length;r>a;++a)this.termsMessages=this.termsMessages+o[a];this.termsMessages?n({nextContexts:e.context.next,data:t}):i({error:"an error occured"})}.bind(this))}.bind(this))}.bind(this)};t.exports=o},{"./WesternUnionRecipients":16}],18:[function(e,t,n){var i=function(e,t){function n(){}function i(e,n,i,o,a,r){var s={path:"/banking/rest/move-money/western-union/send"},c=JSON.stringify({recipient:e,from:n,amount:i,question:o,answer:a,promotionCode:r});return t.invokeHttp(s,c)}function o(){var e={path:"/banking/rest/move-money/western-union/confirm"},n=JSON.stringify({});return t.invokeHttp(e,n)}function a(e,n){var i={path:"/banking/rest/move-money/western-union/terms"},o=JSON.stringify({recipient:e,accepted:n});return t.invokeHttp(i,o)}return{send:i,setup:n,confirm:o,terms:a}};t.exports=i},{}],19:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.getAppContext().westernUnionState,n=BankingJS.getAppContext(),o=t.sendMoneyConfirmResult;if(t.from&&t.to){var a=t.accounts[t.from],r=t.recipients.findByRecipientId(t.to);this.title(n.i18n.t("EMT.CompleteETransfer")),this.info([{description:n.i18n.t("Common.SendFrom"),value:a.description+" "+a.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:a.balances[0].amount},{description:n.i18n.t("Common.SendTo"),value:r.description,extDescription:r.idRequired},{description:n.i18n.t("Common.Amount"),value:o.amount},{description:n.i18n.t("Common.MTCN"),value:o.mtcn},{description:n.i18n.t("Common.Date"),value:o.date}]),this.actions([])}else{var s=e("../../MoveMoney/Actions/OpenMoveMoney"),c=new s;c.execute()}};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":2,"../../MoveMoney/Actions/OpenMoveMoney":4}],20:[function(e,t,n){var i=e("../../../Common/Notifications/ViewModels/Info"),o=function(){i.call(this);var t=BankingJS.getAppContext().westernUnionState,n=BankingJS.getAppContext(),o=t.sendMoneyValidateResult;if(t.from&&t.to){var a=t.accounts[t.from],r=t.recipients.findByRecipientId(t.to);this.title(n.i18n.t("Confirm")),this.info([{description:n.i18n.t("Common.SendTo"),value:r.description,extDescription:r.idRequired},{description:n.i18n.t("Common.SendFrom"),value:a.description+" "+a.maskedAccount,extDescription:n.i18n.t("Common.Balance"),extValue:a.balances[0].amount},{description:n.i18n.t("Common.Amount"),value:o.amount},{description:n.i18n.t("Common.ExchangeRate"),value:o.exchangeRate},{description:n.i18n.t("Common.Fee"),value:o.fee},{description:n.i18n.t("Common.TotalDebit"),value:o.totalDebit},{description:n.i18n.t("Common.PickupAmount"),value:o.pickupAmount},{description:n.i18n.t("Common.Savings"),value:o.savings}]),this.disclaimer();var s=e("../Actions/CancelWesternUnion"),c=e("../Actions/TermsWesternUnion");this.actions().push(new c),this.actions().push(new s)}else{var l=e("../../MoveMoney/Actions/OpenMoveMoney"),u=new l;u.execute()}};o.prototype=i.prototype,t.exports=o},{"../../../Common/Notifications/ViewModels/Info":2,"../../MoveMoney/Actions/OpenMoveMoney":4,"../Actions/CancelWesternUnion":5,"../Actions/TermsWesternUnion":12}],21:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/WesternUnionSend"),a=e("../Actions/WesternUnionTrack"),r=function(){i.call(this);var e;e=BankingJS.getAppContext().westernUnionState=new BankingJS.Models.WesternUnion.WesternUnionStateModel,this.accountsMatrix,this.recipients=BankingJS.Utilities.DataBinder.createArrayBinding(),this.recipient=BankingJS.Utilities.DataBinder.createBinding(e.to),this.recipientDescription=BankingJS.Utilities.DataBinder.createBinding(),this.fromAccounts=BankingJS.Utilities.DataBinder.createArrayBinding(),this.fromAccount=BankingJS.Utilities.DataBinder.createBinding(e.from),this.fromAccountBalance=BankingJS.Utilities.DataBinder.createBinding(),this.fromWarning=BankingJS.Utilities.DataBinder.createBinding(),this.minAmount=0,this.maxAmount=0,this.rules,this.amount=BankingJS.Utilities.DataBinder.createBinding(e.amount),this.question=BankingJS.Utilities.DataBinder.createBinding(e.question),this.answer=BankingJS.Utilities.DataBinder.createBinding(e.answer),this.promotionCode=BankingJS.Utilities.DataBinder.createDateBinding(e.promotionCode),e.setup().done(function(t){var n,i=t.data.recipient;i.forEach(function(t){e.recipients.addRecipient(t)}),this.recipients(e.recipients.recipients),this.accountsMatrix=t.data.matrix,this.minAmount=t.data.min,this.maxAmount=t.data.max,this.rules=t.data.rules;for(var o in this.accountsMatrix.from)n=e.accounts[o],this.fromAccounts.push(n)}.bind(this)),this.changeSelectedRecipient=function(t){if(t){var n=e.recipients.findByRecipientId(t);this.recipientDescription(n.idRequired),this.question(n.question),this.answer(n.answer)}else this.recipient(null),this.recipientDescription(null),this.question(),this.answer()}.bind(this),this.changeSelectedFromAccount=function(t){if(t)if(this.fromAccountBalance(e.accounts[t].balances[0].amount),this.accountsMatrix.from[t].warnings){var n=this.accountsMatrix.from[t].warnings;for(var i in n){var o=n[i];this.fromWarning(o)}}else this.fromWarning(null);else this.fromAccountBalance(null),this.fromWarning(null)}.bind(this),this.executeSend=function(){var e=new o;e.execute({recipient:this.recipient(),fromAccount:this.fromAccount(),amount:this.amount,question:this.question().trim(),answer:this.answer(),promotionCode:this.promotionCode().trim()})},this.executeTracking=function(){var e=new a;e.execute({})}};r.prototype=i.prototype,t.exports=r},{"../Actions/WesternUnionSend":13,"../Actions/WesternUnionTrack":14}],22:[function(e,t,n){function i(){o.call(this);var e=BankingJS.getAppContext().westernUnionState;BankingJS.getAppContext();this.termsMessages=e.termsMessages,this.checkbox=BankingJS.Utilities.DataBinder.createBinding(!1),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1),this.agreementUrl=BankingJS.getAppContext().getUser().getAgreementUrl(),this.executeAccept=function(){var e=new a;e.execute({})},this.executeReject=function(){var e=new r;e.execute({agree:!1})}}var o=BankingJS.ViewModelBase,a=e("../Actions/ConfirmWesternUnion"),r=(e("../Actions/OpenConfirmWesternUnion"),e("../Actions/CancelWesternUnion"));i.prototype=o.prototype,t.exports=i},{"../Actions/CancelWesternUnion":5,"../Actions/ConfirmWesternUnion":6,"../Actions/OpenConfirmWesternUnion":8}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("replace-card",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ReplaceCard=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../CardManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network;BankingJS.Models.CardManagement.ReplaceCard=BankingJS.Models.CardManagement.ReplaceCard||{},BankingJS.Services.CardManagement.ReplaceCard=BankingJS.Services.CardManagement.ReplaceCard||{},BankingJS.ViewModels.CardManagement.ReplaceCard=BankingJS.ViewModels.CardManagement.ReplaceCard||{};var i=e("./Actions/OpenReplaceCardSetupAction");BankingJS.getAppContext().actions.addContext("REPLACE_CARD",new i),BankingJS.Models.CardManagement.ReplaceCard.ReplaceCardModel=e("./Models/ReplaceCardModel"),BankingJS.Services.CardManagement.ReplaceCard.ReplaceCardService=e("./Services/ReplaceCardService")(t,n),BankingJS.ViewModels.CardManagement.ReplaceCard.ReplaceCardSetup=e("./ViewModels/ReplaceCardSetup")}t.exports=new i},{"../CardManagement":2,"./Actions/OpenReplaceCardSetupAction":4,"./Models/ReplaceCardModel":6,"./Services/ReplaceCardService":7,"./ViewModels/ReplaceCardSetup":8}],2:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.CardManagement=BankingJS.Models.CardManagement||{},BankingJS.Services.CardManagement=BankingJS.Services.CardManagement||{},BankingJS.ViewModels.CardManagement=BankingJS.ViewModels.CardManagement||{}}t.exports=new i},{}],3:[function(e,t,n){function i(){o.call(this,"ActivateCardLaterAction","ActivateCard"),this.processAction=function(e){return BankingJS.getAppContext().ReplaceCardState.activateCardLater()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"card-management/replace-card","OpenReplaceCardSetupAction","ReplaceCard"),this.processAction=function(e){BankingJS.getAppContext().ReplaceCardState=new BankingJS.Models.CardManagement.ReplaceCard.ReplaceCardModel,BankingJS.getAppContext().ReplaceCardState.setCardExpired(e.cardExpired),BankingJS.getAppContext().getUser().setCardExpired(e.cardExpired),BankingJS.Utilities.Navigator.replace("card-management/replace-card")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"ReplaceCardAction","ReplaceCard"),this.processAction=function(e){return BankingJS.getAppContext().ReplaceCardState.replaceCard(e.cardNumber)}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],6:[function(e,t,n){function i(){var e;this.setCardExpired=function(t){e=t},this.isCardExpired=function(){return e},this.activateCardLater=function(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.CardManagement.ReplaceCard.ReplaceCardService.activateCardLater().done(function(t){e({nextContexts:t.context.next,data:null})},function(e){t(e)})})},this.replaceCard=function(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.CardManagement.ReplaceCard.ReplaceCardService.replaceCard(e).done(function(e){t({nextContexts:e.context.next,data:null})},function(e){n(e)})})}}t.exports=i},{}],7:[function(e,t,n){var i=function(e,t){function n(){var e={path:"/banking/rest/cardmanagement/replacecard"},n=JSON.stringify({activateLater:!0});return t.invokeHttp(e,n)}function i(e){var n={path:"/banking/rest/cardmanagement/replacecard"},i=JSON.stringify({cardNumber:e});return t.invokeHttp(n,i)}return{activateCardLater:n,replaceCard:i}};t.exports=i},{}],8:[function(e,t,n){function i(){o.call(this),this.executeReplaceCard=function(e){var t=new a;t.execute({cardNumber:e})},this.executeActivateCardLater=function(){var e=new r;e.execute()}}var o=BankingJS.ViewModelBase,a=e("../Actions/ReplaceCardAction"),r=e("../Actions/ActivateReplaceCardLaterAction");i.prototype=o.prototype,t.exports=i},{"../Actions/ActivateReplaceCardLaterAction":3,"../Actions/ReplaceCardAction":5}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("activate-card",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ActivateCard=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../CardManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network;BankingJS.Models.CardManagement.ActivateCard=BankingJS.Models.CardManagement.ActivateCard||{},BankingJS.Services.CardManagement.ActivateCard=BankingJS.Services.CardManagement.ActivateCard||{},BankingJS.ViewModels.CardManagement.ActivateCard=BankingJS.ViewModels.CardManagement.ActivateCard||{};var i=e("./Actions/OpenActivateCardSetupAction");BankingJS.getAppContext().actions.addContext("ACTIVATE_CARD",new i),BankingJS.Models.CardManagement.ActivateCard.ActivateCardModel=e("./Models/ActivateCardModel"),BankingJS.Services.CardManagement.ActivateCard.ActivateCardService=e("./Services/ActivateCardService")(t,n),BankingJS.ViewModels.CardManagement.ActivateCard.ActivateCardSetup=e("./ViewModels/ActivateCardSetup")}t.exports=new i},{"../CardManagement":8,"./Actions/OpenActivateCardSetupAction":4,"./Models/ActivateCardModel":5,"./Services/ActivateCardService":6,"./ViewModels/ActivateCardSetup":7}],2:[function(e,t,n){function i(){o.call(this,"ActivateCardAction","ActivateCard"),this.processAction=function(e){var t=e.cvv2;return BankingJS.getAppContext().ActivateCardState.activateCard(t)}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"ActivateCardLaterAction","ActivateCard"),this.processAction=function(e){return BankingJS.getAppContext().ActivateCardState.activateCardLater()}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"card-management/activate-card","OpenActivateCardSetupAction","ActivateCard"),this.processAction=function(e){
BankingJS.getAppContext().ActivateCardState=new BankingJS.Models.CardManagement.ActivateCard.ActivateCardModel,BankingJS.getAppContext().ActivateCardState.setCardExpired(e.cardExpired),BankingJS.Utilities.Navigator.replace("card-management/activate-card")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){function e(e){o=e}function t(){return o}function n(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.CardManagement.ActivateCard.ActivateCardService.activateCardLater().done(function(t){e({nextContexts:t.context.next,data:null})},function(e){t(e)})})}function i(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.CardManagement.ActivateCard.ActivateCardService.activateCard(e).done(function(e){t({nextContexts:e.context.next,data:null})},function(e){n(e)})})}var o;return{setCardExpired:e,isCardExpired:t,activateCardLater:n,activateCard:i}}t.exports=i},{}],6:[function(e,t,n){var i=function(e,t){function n(){var e={path:"/banking/rest/cardmanagement/activate"},n=JSON.stringify({activateLater:!0});return t.invokeHttp(e,n)}function i(e){var n={path:"/banking/rest/cardmanagement/activate"},i=JSON.stringify({cvv2:e});return t.invokeHttp(n,i)}return{activateCardLater:n,activateCard:i}};t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this);var e=BankingJS.getAppContext().ActivateCardState.isCardExpired();this.cardExpired=BankingJS.Utilities.DataBinder.createBinding(e),this.executeActivateCardLater=function(){var e=new r;e.execute()},this.executeActivateCard=function(e){var t=new a;t.execute({cvv2:e})}}var o=BankingJS.ViewModelBase,a=e("../Actions/ActivateCardAction"),r=e("../Actions/ActivateCardLaterAction");i.prototype=o.prototype,t.exports=i},{"../Actions/ActivateCardAction":2,"../Actions/ActivateCardLaterAction":3}],8:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.CardManagement=BankingJS.Models.CardManagement||{},BankingJS.Services.CardManagement=BankingJS.Services.CardManagement||{},BankingJS.ViewModels.CardManagement=BankingJS.ViewModels.CardManagement||{}}t.exports=new i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("activate-landing",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Activate=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network,i=e("./Actions/ActivateScotiaCardSelect"),o=e("./Actions/ActivateSelect"),a=e("./Actions/ActivateComplete"),r=e("./Actions/OpenActivate"),s=e("./Actions/OpenActivateWithSOL"),c=e("./Actions/OpenActivateComplete"),l=e("./Actions/OpenActivateScotiaCard"),u=e("./Actions/OpenActivateMessage"),d=e("./Actions/ActivateCleanup");BankingJS.Actions.UserManagement.Activate=BankingJS.Actions.UserManagement.Activate||{},BankingJS.Actions.UserManagement.Activate.OpenActivate=e("./Actions/OpenActivate"),BankingJS.Actions.UserManagement.Activate.OpenActivateSelect=e("./Actions/OpenActivateSelect"),BankingJS.Actions.UserManagement.Activate.OpenReportLostCardAction=e("../../ReportLostCard/Actions/OpenReportLostCard.js"),BankingJS.Actions.UserManagement.Activate.ActivateCleanup=e("./Actions/ActivateCleanup"),BankingJS.Models.UserManagement.Activate=BankingJS.Models.UserManagement.Activate||{},BankingJS.ViewModels.UserManagement.Activate=BankingJS.ViewModels.UserManagement.Activate||{},BankingJS.Models.UserManagement.Activate.ActivateState=e("./Models/ActivateState"),BankingJS.ViewModels.UserManagement.Activate.ActivateSetup=e("./ViewModels/ActivateSetup"),BankingJS.ViewModels.UserManagement.Activate.ActivateScotiaCard=e("./ViewModels/ActivateScotiaCard"),BankingJS.ViewModels.UserManagement.Activate.ActivateComplete=e("./ViewModels/ActivateComplete"),BankingJS.Services.UserManagement.Activate=BankingJS.Services.UserManagement.Activate||{},BankingJS.Services.UserManagement.Activate.ActivateService=e("./Service/ActivateService")(t,n),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_ACTIVATE_CARDSELECT",new i),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_ACTIVATE_SELECT",new o),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_ACTIVATE_CARDSELECT",new l),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_ACTIVATE_COMPLETE",new c),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_ACTIVATE_SUBMIT",new a),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_ACTIVATE_WITH_SOL",new s),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_ACTIVATE_CLEANUP",new d),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_ACTIVATE_MESSAGE",new u),BankingJS.Actions.UserManagement.OpenActivateMessage=u;var p=new r;BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_ACTIVATE",p),BankingJS.getAppContext().setActionContext("detailsOptions",p,"login",50)}t.exports=new i},{"../../ReportLostCard/Actions/OpenReportLostCard.js":4,"../UserManagement":21,"./Actions/ActivateCleanup":5,"./Actions/ActivateComplete":6,"./Actions/ActivateScotiaCardSelect":7,"./Actions/ActivateSelect":8,"./Actions/OpenActivate":9,"./Actions/OpenActivateComplete":10,"./Actions/OpenActivateMessage":11,"./Actions/OpenActivateScotiaCard":12,"./Actions/OpenActivateSelect":13,"./Actions/OpenActivateWithSOL":14,"./Models/ActivateState":15,"./Service/ActivateService":16,"./ViewModels/ActivateComplete":17,"./ViewModels/ActivateScotiaCard":18,"./ViewModels/ActivateSetup":19}],2:[function(e,t,n){function i(){o.call(this,"LogoutAction","Logout","menu-logout"),this.processAction=function(e){var t=new BankingJS.Models.Authentication.Logout.LogoutModel;return BankingJS.Utilities.Promise.Promise(function(e,n,i){t.logout().done(function(t){e({nextContexts:t.context.next,data:null})},function(e){var t=new a;t.execute()})})}}var o=BankingJS.ActionBase,a=e("./StartAction");i.prototype=o.prototype,t.exports=i},{"./StartAction":3}],3:[function(e,t,n){function i(){o.call(this,"StartAction"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"report-lost-card","OpenReportLostCard","ReportLostCard"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("report-lost-card")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"ActivateCleanup","Cleanup"),this.processAction=function(e){var t={path:"/banking/rest/user-management/activate/cleanup"};BankingJS.Models.UserManagement.Activate.ActivateState.getInstance();return BankingJS.Utilities.Promise.Promise(function(e,n,i){var o=BankingJS.Utilities.Network,a={languageCode:BankingJS.getAppContext().i18n.lng()};a=JSON.stringify(a),o.invokeHttp(t,a).done(function(t){e({nextContexts:t.context.next,data:t.response})})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this,"ActivateComplete","Complete"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.Activate.ActivateState.getInstance();return BankingJS.Utilities.Promise.Promise(function(e,n,i){t.activateComplete().done(function(t){e(t)},function(e){n(e)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this,"ActivateScotiaCard","ActivateScotiaCard"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.Activate.ActivateState.getInstance(),n=e.cardNumber;return BankingJS.Utilities.Promise.Promise(function(e,i,o){t.activateScotiaCardSelect(n).done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){o.call(this,"ActivateSelect","Select"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.Activate.ActivateState.getInstance(),n=e.grecaptchaResponse,i=e.productId,o=e.productNumber,a=e.firstName,r=e.lastName,s=e.month,c=e.day,l=e.year;return BankingJS.Utilities.Promise.Promise(function(e,u,d){t.activateSelect(n,i,o,a,r,s,c,l).done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){o.call(this,"activate-landing","OpenActivate","Login.Activate","menu-verify"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/activate")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],10:[function(e,t,n){function i(){o.call(this,"activate-complete","OpenActivateComplete","Activate"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.Activate.ActivateState.getInstance();e&&e.returnURL&&(t.returnURL=e.returnURL),BankingJS.Utilities.Navigator.navigate("user-management/activate-complete")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],11:[function(e,t,n){function i(){o.call(this,"activate-message","OpenActivateMessage"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/activate-message")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],12:[function(e,t,n){function i(){o.call(this,"activate-scotia-card","OpenActivateScotiaCard","Login.Activate","menu-verify"),this.processAction=function(e){var t="user-management/activate",n=BankingJS.Utilities.Tools.buildQueryStringForParams(e);t+=n,BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],13:[function(e,t,n){function i(){this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/activate-select")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],14:[function(e,t,n){function i(){o.call(this,"activate-with-sol","OpenActivateWithSOL","Login.ActivateWithSOL","menu-verify"),this.processAction=function(e){e?window.location.href=e:window.location.href="https://www2.scotiaonline.scotiabank.com/online/authentication/activateFlow.bns"}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],15:[function(e,t,n){var i=function(){function e(){function e(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.UserManagement.Activate.ActivateService.activateSetup(e).done(function(e){t({nextContexts:e.context,data:e.response})},function(e){n(e)})})}function t(e,t,n,i,o,a,r,s){return BankingJS.Utilities.Promise.Promise(function(c,l,u){BankingJS.Services.UserManagement.Activate.ActivateService.activateSelect(e,t,n,i,o,a,r,s).done(function(e){c({nextContexts:e.context.next,data:null})},function(e){l(e)})})}function n(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.UserManagement.Activate.ActivateService.activateScotiaCardSelect(e).done(function(e){t({nextContexts:e.context.next,data:null})},function(e){n(e)})})}function i(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.UserManagement.Activate.ActivateService.activateComplete().done(function(t){e({nextContexts:t.context.next,data:null})},function(e){t(e)})})}return this.productTypeList,this.returnURL,{activateSetup:e,activateSelect:t,activateScotiaCardSelect:n,activateComplete:i}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],16:[function(e,t,n){var i=function(e,t){function n(e){var n={path:"/banking/rest/user-management/activate/setup"},i={languageCode:BankingJS.getAppContext().i18n.lng(),returnURL:e};return i=JSON.stringify(i),t.invokeHttp(n,i)}function i(){var e={path:"/banking/rest/user-management/activate/submit"},n={};return n=JSON.stringify(n),t.invokeHttp(e,n)}function o(e,n,i,o,a,r,s,c){var l={path:"/banking/rest/user-management/activate/select"},u={grecaptchaResponse:e,productId:n,productNumber:i,firstName:o,lastName:a,month:r,day:s,year:c};return u=JSON.stringify(u),t.invokeHttp(l,u)}function a(e){var n={path:"/banking/rest/user-management/activate/card-select"},i={cardNumber:e};return i=JSON.stringify(i),t.invokeHttp(n,i)}return{activateSelect:o,activateSetup:n,activateScotiaCardSelect:a,activateComplete:i}};t.exports=i},{}],17:[function(e,t,n){function i(){o.call(this);var e=BankingJS.Models.UserManagement.Activate.ActivateState.getInstance();this.executeComplete=function(){if(e.returnURL)window.location.href=e.returnURL;else{var t=new a;t.execute({})}}}var o=BankingJS.ViewModelBase,a=e("../../../Authentication/Logout/Actions/LogoutAction");i.prototype=o.prototype,t.exports=i},{"../../../Authentication/Logout/Actions/LogoutAction":2}],18:[function(e,t,n){function i(){o.call(this),this.cardNumber=BankingJS.Utilities.DataBinder.createBinding(),this.executeActivate=function(e){var t=new a;t.execute({cardNumber:e})}}var o=BankingJS.ViewModelBase,a=e("../../../UserManagement/Activate/Actions/ActivateScotiaCardSelect");i.prototype=o.prototype,t.exports=i},{"../../../UserManagement/Activate/Actions/ActivateScotiaCardSelect":7}],19:[function(e,t,n){function i(e){o.call(this),this.setupReturnURL=e?e:"",this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1),this.finishedSetup=BankingJS.Utilities.DataBinder.createBinding(!1),this.productTypeList=BankingJS.Utilities.DataBinder.createArrayBinding(),this.selectedProductType=BankingJS.Utilities.DataBinder.createBinding(),this.selectedProductTypeOptionsCaption=BankingJS.Utilities.DataBinder.createBinding(),this.isJointAccount=BankingJS.Utilities.DataBinder.createBinding(!1),this.cardNumber=BankingJS.Utilities.DataBinder.createBinding();var t=BankingJS.Models.UserManagement.Activate.ActivateState.getInstance();e&&(t.returnURL=decodeURIComponent(e)),t.activateSetup(this.setupReturnURL).done(function(e){this.selectedProductTypeOptionsCaption(BankingJS.getAppContext().i18n.t("Activation.ProductNumberField"));var n=e.data;if(n&&n.productList)t.productTypeList=n.productList.productTypes,this.productTypeList(n.productList.productTypes),BankingJS.getAppContext().getUser().setPurpose("ACTIVATE"),this.setupValidation(),this.finishedSetup(!0);else if(n.redirectURL){var i=new c;i.execute(n.redirectURL)}n&&n.enableReCaptcha&&BankingJS.getAppContext().getUser().enableReCaptcha(!0)}.bind(this)),this.opensActivate=function(){var e=new r;e.execute({})},this.executeCancel=function(){var e=new a;e.execute({})},this.executeActivate=function(e,t,n,i,o,a,r,c){var l=new s;l.execute({grecaptchaResponse:e,productId:t,productNumber:n,firstName:i,lastName:o,month:a,day:r,year:c})}}var o=BankingJS.ViewModelBase,a=e("../../../Authentication/Logout/Actions/LogoutAction"),r=e("../../../UserManagement/Activate/Actions/OpenActivate"),s=(e("../../../UserManagement/Activate/Actions/OpenActivateComplete"),e("../../../UserManagement/Activate/Actions/ActivateSelect")),c=(e("../Actions/OpenActivateScotiaCard"),e("../Actions/OpenActivateWithSOL"));i.prototype=o.prototype,t.exports=i},{"../../../Authentication/Logout/Actions/LogoutAction":2,"../../../UserManagement/Activate/Actions/ActivateSelect":8,"../../../UserManagement/Activate/Actions/OpenActivate":9,"../../../UserManagement/Activate/Actions/OpenActivateComplete":10,"../Actions/OpenActivateScotiaCard":12,"../Actions/OpenActivateWithSOL":14}],20:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],21:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":20}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("verification-code-verify",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.VerificationCode=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){e("../UserManagement"),BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Actions.UserManagement.VerificationCode=BankingJS.Actions.UserManagement.VerificationCode||{},BankingJS.Actions.UserManagement.VerificationCode.TfaRegisterSend=e("./Actions/TfaRegisterSend"),BankingJS.Actions.UserManagement.VerificationCode.GenerateCodeSend=e("./Actions/GenerateCodeSend"),BankingJS.Actions.UserManagement.VerificationCode.VerifyCodeSend=e("./Actions/VerifyCodeSend"),BankingJS.Actions.UserManagement.VerificationCode.OptInTfaSend=e("./Actions/OptInTfaSend");var t=e("./Actions/OpenTfaOptIn"),n=e("./Actions/OpenTfaRegister"),i=e("./Actions/OpenVerifyCode");BankingJS.getAppContext().actions.addContext("VERIFICATION_CODE_OPT_IN",new t),BankingJS.getAppContext().actions.addContext("VERIFICATION_CODE_REGISTER",new n),BankingJS.getAppContext().actions.addContext("VERIFICATION_CODE_GENERATE",new BankingJS.Actions.UserManagement.VerificationCode.GenerateCodeSend),BankingJS.getAppContext().actions.addContext("VERIFICATION_CODE_VERIFY",new i)}t.exports=new i},{"../UserManagement":3,"./Actions/GenerateCodeSend":4,"./Actions/OpenTfaOptIn":5,"./Actions/OpenTfaRegister":6,"./Actions/OpenVerifyCode":7,"./Actions/OptInTfaSend":8,"./Actions/TfaRegisterSend":9,"./Actions/VerifyCodeSend":10}],2:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":2}],4:[function(e,t,n){function i(){o.call(this,"GenerateCodeSend","GenerateCodeSend"),this.processAction=function(e){var t={path:"/banking/rest/tfa/generate"};1==e.resend&&(t.path="/banking/rest/tfa/resend");var n=e||{};return n=JSON.stringify(n),BankingJS.Utilities.Promise.Promise(function(e,i,o){var a=BankingJS.Utilities.Network;a.invokeHttp(t,n).done(function(t){t.response&&void 0!==t.response.nonceInfo&&null!==t.response.nonceInfo&&BankingJS.getAppContext().getUser().setNonceToken(t.response.nonceInfo.nonce),e({nextContexts:t.context.next,data:t.response})},function(e){i(e)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"activate-tfa-landing",i),this.processAction=function(e){var t="user-management/activate-tfa-landing";BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this,"activate-tfa","OpenTfaRegister"),this.processAction=function(e){var t="user-management/activate-tfa",n=BankingJS.Utilities.Tools.buildQueryStringForParams(e);t+=n,BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this,"verification-code-verify","OpenVerifyCode"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/verification-code-verify")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){o.call(this,"OptInTfaSend","OptInTfaSend"),this.processAction=function(e){var t={path:"/banking/rest/tfa/optin"},n=e||{};return n=JSON.stringify(n),BankingJS.Utilities.Promise.Promise(function(e,i,o){var a=BankingJS.Utilities.Network;a.invokeHttp(t,n).done(function(t){e({nextContexts:t.context.next,data:t.response})},function(e){i(e)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){o.call(this,"TfaRegisterSend","TfaRegisterSend"),this.processAction=function(e){var t={path:"/banking/rest/tfa/register"},n={phoneNum:e.phoneNumber,purpose:e.purpose};return n=JSON.stringify(n),BankingJS.Utilities.Promise.Promise(function(e,i,o){var a=BankingJS.Utilities.Network;a.invokeHttp(t,n).done(function(t){t.response&&(BankingJS.getAppContext().getUser().setMaskedPhone(t.response.maskedPhone),BankingJS.getAppContext().getUser().setMaskedEmail(t.response.maskedEmail)),e({nextContexts:t.context.next,data:t.response})},function(e){i(e)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],10:[function(e,t,n){function i(){o.call(this,"VerifyCodeSend","VerifyCodeSend"),this.processAction=function(e){var t={path:"/banking/rest/tfa/verify"},n=e||{};return n=JSON.stringify(n),BankingJS.Utilities.Promise.Promise(function(e,i,o){var a=BankingJS.Utilities.Network;a.invokeHttp(t,n).done(function(t){e({nextContexts:t.context.next,data:t.response})},function(e){i(e)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("recover-userid-password",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.RecoverUserIdPassword=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){e("../UserManagement");BankingJS.Actions.UserManagement.RecoverUserIdPassword=BankingJS.Actions.UserManagement.RecoverUserIdPassword||{},BankingJS.Actions.UserManagement.RecoverUserIdPassword.RecoverUserIdPasswordSelect=e("./Actions/RecoverUserIdPasswordSelect");var t=e("./Actions/OpenRecoverUserIdPassword"),n=new t;BankingJS.getAppContext().actions.addContext("RECOVER_USERID_PASSWORD",n),BankingJS.getAppContext().setActionContext("detailsOptions",n,"reset",50)}t.exports=new i},{"../UserManagement":5,"./Actions/OpenRecoverUserIdPassword":2,"./Actions/RecoverUserIdPasswordSelect":3}],2:[function(e,t,n){function i(){o.call(this,"recover-userid-password","OpenRecoverUserIdPassword"),this.processAction=function(e){BankingJS.getAppContext().getUser().displayPageTitle(!0),BankingJS.getAppContext().getUser().setPageTitle(BankingJS.getAppContext().i18n.t("RecoverUserNamePassword.PageTitle")),BankingJS.Utilities.Navigator.navigate("user-management/recover")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"recover-userid-password","OpenRecoverUserIdPassword"),this.processAction=function(e){e.useridReset?BankingJS.Utilities.Navigator.navigate("user-management/recover-userid"):BankingJS.Utilities.Navigator.navigate("user-management/recover-password")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":4}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("recover-userid-by-account",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.RecoverUserId=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise,BankingJS.Utilities.Network,e("./Actions/OpenRecoverUserIdByScotiaCard"));BankingJS.Actions.UserManagement.RecoverUserId=BankingJS.Actions.UserManagement.RecoverUserId||{},BankingJS.ViewModels.UserManagement.RecoverUserId=BankingJS.ViewModels.UserManagement.RecoverUserId||{},BankingJS.Actions.UserManagement.RecoverUserId.OpenRecoverUserIdByAccount=e("./Actions/OpenRecoverUserIdByAccount"),BankingJS.Actions.UserManagement.RecoverUserId.RecoverUserIdSetup=e("./Actions/RecoverUserIdSetup"),BankingJS.Actions.UserManagement.RecoverUserId.RecoverUserIdSelect=e("./Actions/RecoverUserIdSelect"),BankingJS.Actions.UserManagement.RecoverUserId.RecoverUserIdByScotiaCardSelect=e("./Actions/RecoverUserIdByScotiaCardSelect"),BankingJS.ViewModels.UserManagement.RecoverUserId.RecoverUserIdSetup=e("./ViewModels/RecoverUserIdSetup"),BankingJS.ViewModels.UserManagement.RecoverUserId.RecoverUseridReserveUsernameSetup=e("./ViewModels/RecoverUseridReserveUsernameSetup"),BankingJS.Actions.UserManagement.RecoverUserId.RecoverUserIdReserveUsername=e("./Actions/RecoverUserIdReserveUsername");var n=e("./Actions/OpenDisplayUserId"),i=e("./Actions/OpenCardNotFound"),o=e("./Actions/OpenRecoverUserIdReserveUsername");BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_USERID_RESERVEUSERNAME",new o),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_USERID_SUBMIT",new n),BankingJS.getAppContext().actions.addContext("CARD_NOT_FOUND",new i),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_USERID_CARDSELECT",new t)}t.exports=new i},{"../UserManagement":14,"./Actions/OpenCardNotFound":2,"./Actions/OpenDisplayUserId":3,"./Actions/OpenRecoverUserIdByAccount":4,"./Actions/OpenRecoverUserIdByScotiaCard":5,"./Actions/OpenRecoverUserIdReserveUsername":6,"./Actions/RecoverUserIdByScotiaCardSelect":7,"./Actions/RecoverUserIdReserveUsername":8,"./Actions/RecoverUserIdSelect":9,"./Actions/RecoverUserIdSetup":10,"./ViewModels/RecoverUserIdSetup":11,"./ViewModels/RecoverUseridReserveUsernameSetup":12}],2:[function(e,t,n){function i(){o.call(this,"card-not-found","OpenCardNotFound","OpenCardNotFound"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/card-not-found")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"OpenDisplayUserId","OpenDisplayUserId"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/recover-userid/recover-userid-complete")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"recover-userid-by-account","OpenRecoverUserIdByAccount","RecoverUserIdByAccount"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/recover-userid/recover-userid-by-account")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"recover-userid-by-scotiacard","OpenRecoverUserIdByScotiaCard","RecoverUseridByScotiaCard"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/recover-userid-by-scotiacard")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this,"OpenRecoverUserIdReserveUsername","OpenRecoverUserIdReserveUsername"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/recover-userid/reserve-username")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this,"RecoverUserIdByScotiaCardSelect","RecoverUserIdByScotiaCardSelect"),this.processAction=function(e){var t={path:"/banking/rest/user-management/recover-userid/card-select"};return BankingJS.Utilities.Promise.Promise(function(n,i,o){var a=BankingJS.Utilities.Network,r=JSON.stringify(e);a.invokeHttp(t,r).done(function(e){e.response.tfa&&e.response.tfaEligible&&(BankingJS.getAppContext().getUser().setMaskedPhone(e.response.tfa.maskedPhone),BankingJS.getAppContext().getUser().setMaskedEmail(e.response.tfa.maskedEmail)),n({nextContexts:e.context.next,data:null})},function(e){i(e)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){o.call(this,"RecoverUserIdReserveUsername","RecoverUserIdReserveUsername"),this.processAction=function(e){var t={path:"/banking/rest/user-management/recover-userid/reserve-username"};return BankingJS.Utilities.Promise.Promise(function(n,i,o){var a=BankingJS.Utilities.Network,r=JSON.stringify(e);a.invokeHttp(t,r).done(function(e){n({nextContexts:e.context.next,data:e.response})},function(e){i(e)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){o.call(this,"RecoverUserIdSelect","RecoverUserIdSelect"),this.processAction=function(e){var t={path:"/banking/rest/user-management/recover-userid/select"};return BankingJS.Utilities.Promise.Promise(function(n,i,o){var a=BankingJS.Utilities.Network,r=JSON.stringify(e);a.invokeHttp(t,r).done(function(e){e.response.tfa&&e.response.tfaEligible&&(BankingJS.getAppContext().getUser().setMaskedPhone(e.response.tfa.maskedPhone),
BankingJS.getAppContext().getUser().setMaskedEmail(e.response.tfa.maskedEmail)),n({nextContexts:e.context.next,data:null})},function(e){i(e)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],10:[function(e,t,n){function i(){o.call(this,"RecoverUserIdSetup","RecoverUserIdSetup"),this.processAction=function(e){var t={path:"/banking/rest/user-management/recover-userid/setup"};return BankingJS.Utilities.Promise.Promise(function(n,i,o){var a=BankingJS.Utilities.Network,r={languageCode:BankingJS.getAppContext().i18n.lng(),returnURL:e};r=JSON.stringify(r),a.invokeHttp(t,r).done(function(e){n({nextContexts:e.context.next,data:e.response})},function(e){i(e)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],11:[function(e,t,n){function i(e){o.call(this);var t=BankingJS.getAppContext().actions.getContext("USERMANAGEMENT_RECOVER_WITH_SOL"),n=BankingJS.Actions.UserManagement.RecoverUserId.RecoverUserIdSetup,i=BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance();e&&(i.returnURL=decodeURIComponent(e)),this.setupReturnURL=e?e:"",this.finishedSetup=BankingJS.Utilities.DataBinder.createBinding(!1),this.productTypeList=BankingJS.Utilities.DataBinder.createArrayBinding(),this.purpose=BankingJS.Utilities.DataBinder.createBinding();var a=new n;return a.execute(this.setupReturnURL).done(function(e){var n=e;if(n&&n.productList)n.purpose&&this.purpose(n.purpose),this.productTypeList(n.productList.productTypes),BankingJS.getAppContext().getUser().setPurpose("RECOVERUSERID"),this.finishedSetup(!0);else if(n.redirectURL){var i=new t;i.execute(n.redirectURL)}n&&n.enableReCaptcha&&BankingJS.getAppContext().getUser().enableReCaptcha(!0)}.bind(this))}var o=BankingJS.ViewModelBase;i.prototype=o.prototype,t.exports=i},{}],12:[function(e,t,n){function i(){o.call(this),this.execute=function(e,t){var n=new a;n.execute({userId:e,password:t})}}var o=BankingJS.ViewModelBase,a=e("../Actions/RecoverUserIdReserveUsername");i.prototype=o.prototype,t.exports=i},{"../Actions/RecoverUserIdReserveUsername":8}],13:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],14:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":13}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("recover-select",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.RecoverCredentials=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network,i=e("./Actions/OpenRecoverCredentials"),o=e("./Actions/OpenRecover"),a=e("./Actions/OpenRecoverWithSOL"),r=e("./Actions/OpenRecoverComplete"),s=e("./Actions/OpenRecoverScotiaCard"),c=e("./Actions/RecoverRcp3Select"),l=e("./Actions/RecoverRCP3Submit"),u=(e("./Actions/RecoverCredentialsAction"),e("./Actions/OpenRecoverReserveUsername")),d=new r;BankingJS.Models.UserManagement.RecoverCredentials=BankingJS.Models.UserManagement.RecoverCredentials||{},BankingJS.ViewModels.UserManagement.RecoverCredentials=BankingJS.ViewModels.UserManagement.RecoverCredentials||{},BankingJS.ViewModels.UserManagement.RecoverCredentials.RecoverSetup=e("./ViewModels/RecoverSetup"),BankingJS.ViewModels.UserManagement.RecoverCredentials.RecoverScotiaCard=e("./ViewModels/RecoverScotiaCard"),BankingJS.ViewModels.UserManagement.RecoverCredentials.RecoverComplete=e("./ViewModels/RecoverComplete"),BankingJS.ViewModels.UserManagement.RecoverCredentials.RecoverCredentialsSetup=e("./ViewModels/RecoverCredentialsSetup"),BankingJS.ViewModels.UserManagement.RecoverCredentials.ReserveUsernameSetup=e("./ViewModels/ReserveUsernameSetup"),BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState=e("./Models/RecoverCredentialsState"),BankingJS.Services.UserManagement.RecoverCredentials=BankingJS.Services.UserManagement.RecoverCredentials||{},BankingJS.Services.UserManagement.RecoverCredentials.RecoverCredentialsService=e("./Services/RecoverCredentialsService")(t,n),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_CREDENTIALS",new i),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_SUBMIT",new i),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_RCP3SELECT",new c),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_RCP3SUBMIT",new l),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_CARDSELECT",new s),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_COMPLETE",d),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_RCP3COMPLETE",d),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_WITH_SOL",new a),BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER_RESERVEUSERNAME",new u);var p=new o;BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RECOVER",p)}t.exports=new i},{"../UserManagement":25,"./Actions/OpenRecover":4,"./Actions/OpenRecoverComplete":5,"./Actions/OpenRecoverCredentials":6,"./Actions/OpenRecoverReserveUsername":7,"./Actions/OpenRecoverScotiaCard":8,"./Actions/OpenRecoverWithSOL":9,"./Actions/RecoverCredentialsAction":11,"./Actions/RecoverRCP3Submit":12,"./Actions/RecoverRcp3Select":13,"./Models/RecoverCredentialsState":17,"./Services/RecoverCredentialsService":18,"./ViewModels/RecoverComplete":19,"./ViewModels/RecoverCredentialsSetup":20,"./ViewModels/RecoverScotiaCard":21,"./ViewModels/RecoverSetup":22,"./ViewModels/ReserveUsernameSetup":23}],2:[function(e,t,n){function i(){o.call(this,"LogoutAction","Logout","menu-logout"),this.processAction=function(e){var t=new BankingJS.Models.Authentication.Logout.LogoutModel;return BankingJS.Utilities.Promise.Promise(function(e,n,i){t.logout().done(function(t){e({nextContexts:t.context.next,data:null})},function(e){var t=new a;t.execute()})})}}var o=BankingJS.ActionBase,a=e("./StartAction");i.prototype=o.prototype,t.exports=i},{"./StartAction":3}],3:[function(e,t,n){function i(){o.call(this,"StartAction"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"recover-select","OpenRecover","Recover"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/recover")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"recover-complete","OpenRecoverComplete","Recover"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance();e&&e.returnURL&&(t.returnURL=e.returnURL),BankingJS.Utilities.Navigator.navigate("user-management/recover-complete")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this,"OpenRecoverCredentials","OpenRecoverCredentials"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/recover-credentials")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this,"OpenRecoverReserveUsername","OpenRecoverReserveUsername"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/recover/recover-reserve-username")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){o.call(this,"recover-scotia-card","OpenRecoverScotiaCard","RecoverScotiaCard"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/recover-scotia-card")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){o.call(this,"recover-with-sol","OpenRecoverWithSOL","Login.RecoverWithSOL","menu-verify"),this.processAction=function(e){e?window.location.href=e:window.location.href="https://www2.scotiaonline.scotiabank.com/online/authentication/forgotPassword.bns"}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],10:[function(e,t,n){function i(){o.call(this,"RecoverComplete","RecoverComplete"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance();return BankingJS.Utilities.Promise.Promise(function(e,n,i){t.recoverComplete().done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],11:[function(e,t,n){function i(){o.call(this,"RecoverCredentials","RecoverCredentials"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance(),n="";return e&&(n=e.password),BankingJS.Utilities.Promise.Promise(function(e,i,o){var a=BankingJS.getAppContext().getUser().isPasswordIgnored();t.recoverSubmit(n,a).done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],12:[function(e,t,n){function i(){o.call(this,"RecoverRCP3Submit","RecoverRCP3Submit");BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance();this.processAction=function(e){var t=BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance(),n=e.password;return BankingJS.Utilities.Promise.Promise(function(e,i,o){var a=BankingJS.getAppContext().getUser().isPasswordIgnored();t.recoverRcp3Submit(n,a).done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],13:[function(e,t,n){function i(){o.call(this,"RecoverRcp3Select","RecoverRcp3Select"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance();return BankingJS.Utilities.Promise.Promise(function(e,n,i){t.recoverRcp3Select().done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],14:[function(e,t,n){function i(){o.call(this,"RecoverScotiaCard","RecoverScotiaCard"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance(),n=e.cardNumber;return BankingJS.Utilities.Promise.Promise(function(e,i,o){t.recoverScotiaCardSelect(n).done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],15:[function(e,t,n){function i(){o.call(this,"RecoverSelect","Select"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance(),n=e.grecaptchaResponse,i=e.productId,o=e.productNumber,a=e.firstName,r=e.lastName,s=e.month,c=e.day,l=e.year;return BankingJS.Utilities.Promise.Promise(function(e,u,d){t.recoverSelect(n,i,o,a,r,s,c,l).done(function(t){e(t)})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],16:[function(e,t,n){function i(){o.call(this,"ReserveUsername","ReserveUsername"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance(),n=e.userId,i=e.password;return BankingJS.Utilities.Promise.Promise(function(e,o,a){var r=BankingJS.getAppContext().getUser().isPasswordIgnored();t.reserveUsername(n,i,r).done(function(t){e({nextContexts:t.context.next,data:null})})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],17:[function(e,t,n){var i=function(){function e(){function e(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.UserManagement.RecoverCredentials.RecoverCredentialsService.recoverSubmit(e,t).done(function(e){n({nextContexts:e.context.next,data:e.response})},function(e){i(e)})})}function t(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.UserManagement.RecoverCredentials.RecoverCredentialsService.recoverRcp3Select().done(function(t){t.response.tfa&&t.response.tfaEligible&&(BankingJS.getAppContext().getUser().setMaskedPhone(t.response.tfa.maskedPhone),BankingJS.getAppContext().getUser().setMaskedEmail(t.response.tfa.maskedEmail)),e({nextContexts:t.context.next,data:t.response})},function(e){t(e)})})}function n(e,t,n){return BankingJS.Utilities.Promise.Promise(function(i,o,a){BankingJS.Services.UserManagement.RecoverCredentials.RecoverCredentialsService.reserveUsername(e,t,n).done(function(e){i(e)},function(e){o(e)})})}function i(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.UserManagement.RecoverCredentials.RecoverCredentialsService.recoverSetup(e).done(function(e){t({nextContexts:e.context.next,data:e.response})},function(e){n(e)})})}function o(e,t,n,i,o,a,r,s){return BankingJS.Utilities.Promise.Promise(function(c,l,u){BankingJS.Services.UserManagement.RecoverCredentials.RecoverCredentialsService.recoverSelect(e,t,n,i,o,a,r,s).done(function(e){e.response.tfa&&e.response.tfaEligible&&(BankingJS.getAppContext().getUser().setMaskedPhone(e.response.tfa.maskedPhone),BankingJS.getAppContext().getUser().setMaskedEmail(e.response.tfa.maskedEmail)),c({nextContexts:e.context.next,data:null})},function(e){l(e)})})}function a(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.UserManagement.RecoverCredentials.RecoverCredentialsService.recoverScotiaCardSelect(e).done(function(e){e.response.tfa&&e.response.tfaEligible&&(BankingJS.getAppContext().getUser().setMaskedPhone(e.response.tfa.maskedPhone),BankingJS.getAppContext().getUser().setMaskedEmail(e.response.tfa.maskedEmail)),t({nextContexts:e.context.next,data:null})},function(e){n(e)})})}function r(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.UserManagement.RecoverCredentials.RecoverCredentialsService.recoverComplete().done(function(t){e({nextContexts:t.context.next,data:null})},function(e){t(e)})})}return this.productTypeList,this.returnURL,{recoverComplete:r,recoverSubmit:e,recoverSetup:i,recoverSelect:o,reserveUsername:n,recoverRcp3Select:t,recoverScotiaCardSelect:a}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],18:[function(e,t,n){var i=function(e,t){function n(e,n){var i={path:"/banking/rest/user-management/recover/submit"},o={newPassword:e,isPasswordIgnored:n};return o=JSON.stringify(o),t.invokeHttp(i,o)}function i(e,n,i){var o={path:"/banking/rest/user-management/recover/recover-reserve-username"},a={userId:e,newPassword:n,isPasswordIgnored:i};return a=JSON.stringify(a),t.invokeHttp(o,a)}function o(){var e={path:"/banking/rest/user-management/recover/rcp3-select"};return t.invokeHttp(e)}function a(e,n){var i={path:"/banking/rest/user-management/recover/rcp3-submit"},o={newPassword:e,isPasswordIgnored:n};return o=JSON.stringify(o),t.invokeHttp(i,o)}function r(e){var n={path:"/banking/rest/user-management/recover/setup"},i={languageCode:BankingJS.getAppContext().i18n.lng(),returnURL:e};return i=JSON.stringify(i),t.invokeHttp(n,i)}function s(e,n,i,o,a,r,s,c){var l={path:"/banking/rest/user-management/recover/select"},u={grecaptchaResponse:e,productId:n,productNumber:i,firstName:o,lastName:a,month:r,day:s,year:c};return u=JSON.stringify(u),t.invokeHttp(l,u)}function c(e){var n={path:"/banking/rest/user-management/recover/card-select"},i={cardNumber:e};return i=JSON.stringify(i),t.invokeHttp(n,i)}function l(){var e={path:"/banking/rest/user-management/recover/complete"},n={};return n=JSON.stringify(n),t.invokeHttp(e,n)}return{recoverComplete:l,recoverSubmit:n,recoverSelect:s,recoverSetup:r,reserveUsername:i,recoverRcp3Select:o,recoverRcp3Submit:a,recoverScotiaCardSelect:c}};t.exports=i},{}],19:[function(e,t,n){function i(e){o.call(this);var t=BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance();this.executeComplete=function(){if(t.returnURL)window.location.href=t.returnURL;else{var e=new a;e.execute({})}},this.executeActionComplete=function(){var e=new r;e.execute({})}}var o=BankingJS.ViewModelBase,a=e("../../../Authentication/Logout/Actions/LogoutAction"),r=e("../Actions/RecoverCompleteAction");i.prototype=o.prototype,t.exports=i},{"../../../Authentication/Logout/Actions/LogoutAction":2,"../Actions/RecoverCompleteAction":10}],20:[function(e,t,n){function i(){o.call(this),this.execute=function(e,t,n){var i=new a;i.execute({password:t,radioContinue:n})}}var o=BankingJS.ViewModelBase,a=e("../Actions/RecoverCredentialsAction");i.prototype=o.prototype,t.exports=i},{"../Actions/RecoverCredentialsAction":11}],21:[function(e,t,n){function i(){o.call(this),this.executeRecover=function(e){var t=new a;t.execute({cardNumber:e})}}var o=BankingJS.ViewModelBase,a=e("../Actions/RecoverScotiaCardSelect");i.prototype=o.prototype,t.exports=i},{"../Actions/RecoverScotiaCardSelect":14}],22:[function(e,t,n){function i(e){o.call(this),this.setupReturnURL=e?e:"",this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1),this.finishedSetup=BankingJS.Utilities.DataBinder.createBinding(!1),this.productTypeList=BankingJS.Utilities.DataBinder.createArrayBinding(),this.selectedProductType=BankingJS.Utilities.DataBinder.createBinding(),this.classification=BankingJS.Utilities.DataBinder.createBinding(),this.isMultipleAccounts=BankingJS.Utilities.DataBinder.createBinding(!1),this.isJointAccount=BankingJS.Utilities.DataBinder.createBinding(!1),this.selectedProductTypeOptionsCaption=BankingJS.Utilities.DataBinder.createBinding(),this.cardNumber=BankingJS.Utilities.DataBinder.createBinding(),this.purpose=BankingJS.Utilities.DataBinder.createBinding();var t=BankingJS.Models.UserManagement.RecoverCredentials.RecoverCredentialsState.getInstance();e&&(t.returnURL=decodeURIComponent(e)),t.recoverSetup(this.setupReturnURL).done(function(e){this.selectedProductTypeOptionsCaption(BankingJS.getAppContext().i18n.t("Activation.ProductTypeField"));var n=e.data;if(n&&n.productList)n.purpose&&this.purpose(n.purpose),t.productTypeList=n.productList.productTypes,this.productTypeList(n.productList.productTypes),BankingJS.getAppContext().getUser().setPurpose("RECOVER"),this.finishedSetup(!0);else if(n.redirectURL){var i=new c;i.execute(n.redirectURL)}n&&n.enableReCaptcha&&BankingJS.getAppContext().getUser().enableReCaptcha(!0)}.bind(this)),this.opensRecover=function(){var e=new r;e.execute({})},this.executeCancel=function(){var e=new a;e.execute({})},this.executeRecover=function(e,t,n,i,o,a,r,c){var l=new s;return l.execute({grecaptchaResponse:e,productId:t,productNumber:n,firstName:i,lastName:o,month:a,day:r,year:c})}}var o=BankingJS.ViewModelBase,a=e("../../../Authentication/Logout/Actions/LogoutAction"),r=e("..//Actions/OpenRecover"),s=(e("../Actions/OpenRecoverComplete"),e("../Actions/RecoverSelect")),c=(e("../Actions/OpenRecoverScotiaCard"),e("../Actions/OpenRecoverWithSOL"));i.prototype=o.prototype,t.exports=i},{"../../../Authentication/Logout/Actions/LogoutAction":2,"..//Actions/OpenRecover":4,"../Actions/OpenRecoverComplete":5,"../Actions/OpenRecoverScotiaCard":8,"../Actions/OpenRecoverWithSOL":9,"../Actions/RecoverSelect":15}],23:[function(e,t,n){function i(){o.call(this),this.execute=function(e,t){var n=new a;n.execute({userId:e,password:t})}}var o=BankingJS.ViewModelBase,a=e("../Actions/ReserveUsernameAction");i.prototype=o.prototype,t.exports=i},{"../Actions/ReserveUsernameAction":16}],24:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],25:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":24}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("user-management-options",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ManageUserOptions=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network,i=e("./Actions/OpenManageUserOptions");BankingJS.getAppContext().actions.addContext("USER_MANAGEMENT_OPTIONS",new i),BankingJS.Models.UserManagement.ManageUserOptions=BankingJS.Models.UserManagement.ManageUserOptions||{},BankingJS.Models.UserManagement.ManageUserOptions.ManageUserOptionsState=e("./Models/ManageUserOptionsState"),BankingJS.ViewModels.UserManagement.ManageUserOptions=BankingJS.ViewModels.UserManagement.ManageUserOptions||{},BankingJS.ViewModels.UserManagement.ManageUserOptions.ManageUserOptionsSetup=e("./ViewModels/ManageUserOptionsSetup"),BankingJS.Services.UserManagement.ManageUserOptions=BankingJS.Services.UserManagement.ManageUserOptions||{},BankingJS.Services.UserManagement.ManageUserOptions.ManageUserOptionsService=e("./Services/ManageUserOptionsService")(t,n)}t.exports=new i},{"../UserManagement":8,"./Actions/OpenManageUserOptions":3,"./Models/ManageUserOptionsState":4,"./Services/ManageUserOptionsService":5,"./ViewModels/ManageUserOptionsSetup":6}],2:[function(e,t,n){function i(){o.call(this,"user-management/manage-password-old","OpenManagePasswordOld","ManagePasswordOld","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/manage-password-old")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"user-management/options","OpenManageUserOptions","UsernamePassword","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/options")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){var i=function(){function e(){function e(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.UserManagement.ManageUserOptions.ManageUserOptionsService.userManagementOptionsSetup().done(function(t){e({nextContexts:t.context,data:t.response})},function(e){t(e)})})}return{userManagementOptionsSetup:e}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],5:[function(e,t,n){var i=function(e,t){function n(){var e={path:"/banking/rest/user/management/setup"},n=JSON.stringify({});return t.invokeHttp(e,n)}return{userManagementOptionsSetup:n}};t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this);var e=BankingJS.Models.UserManagement.ManageUserOptions.ManageUserOptionsState.getInstance();this.optionsList=BankingJS.Utilities.DataBinder.createArrayBinding(),this.descText=BankingJS.Utilities.DataBinder.createBinding(),e.userManagementOptionsSetup().done(function(e){var t=e.data,n=[];if(t){var i=t.userIdRules;i&&(BankingJS.getAppContext().usernameRules=i.ruleList,BankingJS.getAppContext().passwordRules=i.passwordRuleList);var o=t.options.optionsList;for(var r in o){var s=o[r].action;BankingJS.getAppContext().actions.getContext(s)&&("USER_MANAGEMENT"!==s||t.user.idmUserId?this.descText(BankingJS.getAppContext().i18n.t("UA.ContentManageUsernamePassword")):(s="CREATE_USER",this.descText(BankingJS.getAppContext().i18n.t("UA.ContentManageOptions"))),n.push(BankingJS.getAppContext().actions.getContext(s)))}if(this.optionsList(n),BankingJS.getAppContext().getUser().setPilot(t.user.isPilotUser),BankingJS.getAppContext().getUser().setUsername(t.user.idmUserId),BankingJS.getAppContext().getUser().setHasUniversalAccount(t.user.isIdmUser),!t.user.isPilotUser&&!t.user.isIdmUser||!t.options.optionsList.length||1===t.options.optionsList.length){var c=new a;c.execute()}}}.bind(this))}var o=BankingJS.ViewModelBase,a=e("../../ManagePasswordOld/Actions/OpenManagePasswordOld");i.prototype=o.prototype,t.exports=i},{"../../ManagePasswordOld/Actions/OpenManagePasswordOld":2}],7:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":7}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("manage-username",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ManageUsername=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network,i=e("./Actions/OpenManageUsername"),o=new i,a=e("./Actions/OpenNewUsername"),r=new a;BankingJS.getAppContext().actions.addContext("USER_MANAGEMENT",o),BankingJS.getAppContext().actions.addContext("CREATE_USER",r),BankingJS.Models.UserManagement.ManageUsername=BankingJS.Models.UserManagement.ManageUsername||{},BankingJS.Models.UserManagement.ManageUsername.ManageUsernameState=e("./Models/ManageUsernameState"),BankingJS.ViewModels.UserManagement.ManageUsername=BankingJS.ViewModels.UserManagement.ManageUsername||{},BankingJS.ViewModels.UserManagement.ManageUsername.ManageUsernameSetup=e("./ViewModels/ManageUsernameSetup"),BankingJS.Services.UserManagement.ManageUsername=BankingJS.Services.UserManagement.ManageUsername||{},BankingJS.Services.UserManagement.ManageUsername.ManageUsernameService=e("./Services/ManageUsernameService")(t,n)}t.exports=new i},{"../UserManagement":9,"./Actions/OpenManageUsername":3,"./Actions/OpenNewUsername":4,"./Models/ManageUsernameState":5,"./Services/ManageUsernameService":6,"./ViewModels/ManageUsernameSetup":7}],2:[function(e,t,n){function i(){o.call(this,"ManageUsernameAction","ManageUsernameAction"),this.processAction=function(e){var t=e.userid,n=e.password,i=BankingJS.Models.UserManagement.ManageUsername.ManageUsernameState.getInstance();return BankingJS.Utilities.Promise.Promise(function(e,o,a){i.updateUsername(t,n).done(function(t){e(t)},function(e){})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"user-management/manage-username","OpenManageUsername","ManageUsername","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/manage-username")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"user-management/manage-username","OpenNewUsername","ManageNewUsername","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/manage-username")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){var i=function(){function e(){function e(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.UserManagement.ManageUsername.ManageUsernameService.updateUsername(e,t).done(function(e){n({nextContexts:e.context.next,data:null})},function(e){i(e)})})}return{updateUsername:e}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],6:[function(e,t,n){var i=function(e,t){function n(e,n){var i={path:"/banking/rest/ua/createUserId"},o={userId:e,password:n};return o=JSON.stringify(o),t.invokeHttp(i,o)}return{updateUsername:n}};t.exports=i},{}],7:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/ManageUsernameAction"),a=function(){i.call(this),this.execute=function(e,t){var n=new o(e,t);n.execute({userid:e,password:t})},this.dispose=function(){}};a.prototype=i.prototype,t.exports=a},{"../Actions/ManageUsernameAction":2}],8:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":8}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("manage-rcp3",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ManageRcp3=e();
}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network,i=e("./Actions/OpenManageRcp3"),o=new i,a=e("./Actions/OpenNewRcp3"),r=new a;BankingJS.getAppContext().actions.addContext("USER_RCP3_MANAGEMENT",o),BankingJS.getAppContext().actions.addContext("CREATE_USER_RCP3",r),BankingJS.Models.UserManagement.ManageRcp3=BankingJS.Models.UserManagement.ManageRcp3||{},BankingJS.Models.UserManagement.ManageRcp3.ManageRcp3State=e("./Models/ManageRcp3State"),BankingJS.ViewModels.UserManagement.ManageRcp3=BankingJS.ViewModels.UserManagement.ManageRcp3||{},BankingJS.ViewModels.UserManagement.ManageRcp3.ManageRcp3Setup=e("./ViewModels/ManageRcp3Setup"),BankingJS.Services.UserManagement.ManageRcp3=BankingJS.Services.UserManagement.ManageRcp3||{},BankingJS.Services.UserManagement.ManageRcp3.ManageRcp3Service=e("./Services/ManageRcp3Service")(t,n)}t.exports=new i},{"../UserManagement":9,"./Actions/OpenManageRcp3":3,"./Actions/OpenNewRcp3":4,"./Models/ManageRcp3State":5,"./Services/ManageRcp3Service":6,"./ViewModels/ManageRcp3Setup":7}],2:[function(e,t,n){function i(){o.call(this,"ManageRcp3Action","ManageRcp3Action"),this.processAction=function(e){var t=e.userid,n=e.password,i=BankingJS.Models.UserManagement.ManageRcp3.ManageRcp3State.getInstance();return BankingJS.Utilities.Promise.Promise(function(e,o,a){i.updateUsername(t,n).done(function(t){e(t)},function(e){})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"user-management/manage-rcp3","OpenManageRcp3","ManageRcp3","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/manage-rcp3")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"user-management/manage-rcp3","OpenNewRcp3","ManageNewRcp3","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/manage-rcp3")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){var i=function(){function e(){function e(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.UserManagement.ManageRcp3.ManageRcp3Service.updateUsername(e,t).done(function(e){n({nextContexts:e.context.next,data:null})},function(e){i(e)})})}return{updateUsername:e}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],6:[function(e,t,n){var i=function(e,t){function n(e,n){var i={path:"/banking/rest/ua/createUserId"},o={userId:e,password:n};return o=JSON.stringify(o),t.invokeHttp(i,o)}return{updateUsername:n}};t.exports=i},{}],7:[function(e,t,n){var i=BankingJS.ViewModelBase,o=e("../Actions/ManageRcp3Action"),a=function(){i.call(this),this.execute=function(e,t){var n=new o(e,t);n.execute({userid:e,password:t})},this.dispose=function(){}};a.prototype=i.prototype,t.exports=a},{"../Actions/ManageRcp3Action":2}],8:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],9:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":8}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("recover-username",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ManageCredentials=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network;BankingJS.Models.UserManagement.ManageCredentials=BankingJS.Models.UserManagement.ManageCredentials||{},BankingJS.Models.UserManagement.ManageCredentials.ManageCredentialsState=e("./Models/ManageCredentialsState"),BankingJS.ViewModels.UserManagement.ManageCredentials=BankingJS.ViewModels.UserManagement.ManageCredentials||{},BankingJS.ViewModels.UserManagement.ManageCredentials.ManageCredentialsSetup=e("./ViewModels/ManageCredentialsSetup"),BankingJS.Services.UserManagement.ManageCredentials=BankingJS.Services.UserManagement.ManageCredentials||{},BankingJS.Services.UserManagement.ManageCredentials.ManageCredentialsService=e("./Services/ManageCredentialsService")(t,n)}t.exports=new i},{"../UserManagement":6,"./Models/ManageCredentialsState":2,"./Services/ManageCredentialsService":3,"./ViewModels/ManageCredentialsSetup":4}],2:[function(e,t,n){var i=function(){function e(){function e(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.UserManagement.ManageCredentials.ManageCredentialsService.manageCredentialSetup().done(function(t){e({nextContexts:t.context,data:t.response})},function(e){t(e)})})}function t(e){return BankingJS.Utilities.Promise.Promise(function(t,n,i){BankingJS.Services.UserManagement.ManageCredentials.ManageCredentialsService.checkUsernameAvailability(e).done(function(e){t({nextContexts:e.context.next,data:e.response})},function(e){n(e)})})}return{manageCredentialsSetup:e,checkUsernameAvailability:t}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],3:[function(e,t,n){var i=function(e,t){function n(){var e={path:"/banking/rest/user-management/credentials/setup"},n={useNewRules:!0};return n=JSON.stringify(n),t.invokeHttp(e,n)}function i(e){var n={path:"/banking/rest/ua/userIdInq"},i={userId:e};return i=JSON.stringify(i),t.invokeHttp(n,i)}return{manageCredentialSetup:n,checkUsernameAvailability:i}};t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this);var e=BankingJS.Models.UserManagement.ManageCredentials.ManageCredentialsState.getInstance();this.userSuggestionList=BankingJS.Utilities.DataBinder.createArrayBinding(),this.userRules=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().usernameRules),this.passwordRules=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().passwordRules),this.userId=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().getUser().getUsername()),this.hasUniversalAccount=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().getUser().getHasUniversalAccount()),this.isRcp3User=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().getUser().getIsRcpUser()),this.isPilotUser=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().getUser().getPilotUser()),this.passwdPlaceholderVisible=BankingJS.Utilities.DataBinder.createBinding(!0),this.passwdMandatory=BankingJS.Utilities.DataBinder.createBinding(!0),this.purpose=BankingJS.Utilities.DataBinder.createBinding(),this.enrolement=BankingJS.Utilities.DataBinder.createBinding(),this.manageCredentialsTitle=BankingJS.Utilities.DataBinder.createBinding(),this.dataLoaded=BankingJS.Utilities.DataBinder.createBinding(!1),e.manageCredentialsSetup().done(function(e){var t=e.data;if(t){this.purpose("ACTIVATE"),t.purpose&&this.purpose(t.purpose),this.enrolement(t.enrolement),BankingJS.getAppContext().getUser().setEnrolement(t.enrolement);var n=t.userIdRules;n&&(BankingJS.getAppContext().usernameRules=n.ruleList,BankingJS.getAppContext().passwordRules=n.passwordRuleList),BankingJS.getAppContext().getUser().setUsername(t.user.idmUserId),BankingJS.getAppContext().getUser().setHasUniversalAccount(t.user.isIdmUser),BankingJS.getAppContext().getUser().setIsRcp3User(t.user.isRcp3User),BankingJS.getAppContext().getUser().setPilot(t.user.isPilotUser),this.userRules(BankingJS.getAppContext().usernameRules),this.passwordRules(BankingJS.getAppContext().passwordRules),this.userId(BankingJS.getAppContext().getUser().getUsername()),this.hasUniversalAccount(BankingJS.getAppContext().getUser().getHasUniversalAccount()),this.isRcp3User(BankingJS.getAppContext().getUser().getIsRcpUser()),this.isPilotUser(BankingJS.getAppContext().getUser().getPilotUser()),BankingJS.getAppContext().getUser().dataLoaded(BankingJS.getAppContext().getUser().getUsername()),this.dataLoaded(!0)}}.bind(this)),this.checkUsernameAvailability=function(t,n){t&&e.checkUsernameAvailability(t,"","","").done(function(e){var t=e.data;if(t){this.userSuggestionList([]);for(var i in t.suggestionList)this.userSuggestionList.push({suggestion:t.suggestionList[i].suggestion});n&&n(t.uidAvailable)}}.bind(this))}}var o=BankingJS.ViewModelBase;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],6:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":5}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("reserve-username",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ReserveUsername=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network,i=e("./Actions/OpenReserveUsername");BankingJS.getAppContext().actions.addContext("USERMANAGEMENT_RESERVEUSERNAME",new i),BankingJS.Models.UserManagement.ReserveUsername=BankingJS.Models.UserManagement.ReserveUsername||{},BankingJS.ViewModels.UserManagement.ReserveUsername=BankingJS.ViewModels.UserManagement.ReserveUsername||{},BankingJS.Models.UserManagement.ReserveUsername.ReserveUsernameState=e("./Models/ReserveUsernameState"),BankingJS.ViewModels.UserManagement.ReserveUsername.ReserveUsernameSetup=e("./ViewModels/ReserveUsernameSetup"),BankingJS.Services.UserManagement.ReserveUsername=BankingJS.Services.UserManagement.ReserveUsername||{},BankingJS.Services.UserManagement.ReserveUsername.ReserveUsernameService=e("./Services/ReserveUsernameService")(t,n)}t.exports=new i},{"../UserManagement":8,"./Actions/OpenReserveUsername":2,"./Models/ReserveUsernameState":4,"./Services/ReserveUsernameService":5,"./ViewModels/ReserveUsernameSetup":6}],2:[function(e,t,n){function i(){o.call(this,"OpenReserveUsername","OpenReserveUsername"),this.processAction=function(e){BankingJS.Utilities.Navigator.replace("user-management/reserve-username")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"ReserveUsername","ReserveUsername"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.ReserveUsername.ReserveUsernameState.getInstance(),n=e.userId,i=e.password;return BankingJS.Utilities.Promise.Promise(function(e,o,a){var r=BankingJS.getAppContext().getUser().isPasswordIgnored();t.reserveUsername(n,i,r).done(function(t){e({nextContexts:t.context.next,data:null})})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){var i=function(){function e(){function e(e,t,n){return BankingJS.Utilities.Promise.Promise(function(i,o,a){BankingJS.Services.UserManagement.ReserveUsername.ReserveUsernameService.reserveUsername(e,t,n).done(function(e){i(e)},function(e){o(e)})})}return{reserveUsername:e}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],5:[function(e,t,n){var i=function(e,t){function n(e,n,i){var o={path:"/banking/rest/user-management/reserve-username"},a={userId:e,newPassword:n,isPasswordIgnored:i};return a=JSON.stringify(a),t.invokeHttp(o,a)}return{reserveUsername:n}};t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this),this.execute=function(e,t){var n=new a;n.execute({userId:e,password:t})}}var o=BankingJS.ViewModelBase,a=e("../Actions/ReserveUsernameAction");i.prototype=o.prototype,t.exports=i},{"../Actions/ReserveUsernameAction":3}],7:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":7}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("manage-password",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ManagePassword=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network,i=e("./Actions/OpenManagePassword");BankingJS.getAppContext().actions.addContext("UPDATE_PASSWORD",new i),BankingJS.Models.UserManagement.ManagePassword=BankingJS.Models.UserManagement.ManagePassword||{},BankingJS.Models.UserManagement.ManagePassword.ManagePasswordState=e("./Models/ManagePasswordState"),BankingJS.ViewModels.UserManagement.ManagePassword=BankingJS.ViewModels.UserManagement.ManagePassword||{},BankingJS.ViewModels.UserManagement.ManagePassword.ManagePasswordSetup=e("./ViewModels/ManagePasswordSetup"),BankingJS.Services.UserManagement.ManagePassword=BankingJS.Services.UserManagement.ManagePassword||{},BankingJS.Services.UserManagement.ManagePassword.ManagePasswordService=e("./Services/ManagePasswordService")(t,n)}t.exports=new i},{"../UserManagement":8,"./Actions/OpenManagePassword":3,"./Models/ManagePasswordState":4,"./Services/ManagePasswordService":5,"./ViewModels/ManagePasswordSetup":6}],2:[function(e,t,n){function i(){o.call(this,"ManagePasswordAction","ManagePassword"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.ManagePassword.ManagePasswordState.getInstance();return BankingJS.Utilities.Promise.Promise(function(n,i,o){t.updatePassword(e.userId,e.newPassword).done(function(e){n(e)},function(e){})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"user-management/manage-password","OpenManagePassword","ManagePassword","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/manage-password")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){var i=function(){function e(){function e(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.UserManagement.ManagePassword.ManagePasswordService.updatePassword(e,t).done(function(e){n({nextContexts:e.context.next,data:e.response})},function(e){i(e)})})}return{updatePassword:e}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],5:[function(e,t,n){var i=function(e,t){function n(e,n){var i={path:"/banking/rest/ua/updatePassword"},o={userId:e,password:n};return o=JSON.stringify(o),t.invokeHttp(i,o)}return{updatePassword:n}};t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this),this.execute=function(e,t){var n=new a(e,t);n.execute({userId:e,newPassword:t})}}var o=BankingJS.ViewModelBase,a=e("../Actions/ManagePasswordAction");i.prototype=o.prototype,t.exports=i},{"../Actions/ManagePasswordAction":2}],7:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":7}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("manage-password-old",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ManagePasswordOld=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network,i=e("./Actions/OpenManagePasswordOld");BankingJS.getAppContext().actions.addContext("CHANGE_PASSWORD",new i),BankingJS.Models.UserManagement.ManagePasswordOld=BankingJS.Models.UserManagement.ManagePasswordOld||{},BankingJS.Models.UserManagement.ManagePasswordOld.ManagePasswordOldState=e("./Models/ManagePasswordOldState"),BankingJS.ViewModels.UserManagement.ManagePasswordOld=BankingJS.ViewModels.UserManagement.ManagePasswordOld||{},BankingJS.ViewModels.UserManagement.ManagePasswordOld.ManagePasswordOldSetup=e("./ViewModels/ManagePasswordOldSetup"),BankingJS.Services.UserManagement.ManagePasswordOld=BankingJS.Services.UserManagement.ManagePasswordOld||{},BankingJS.Services.UserManagement.ManagePasswordOld.ManagePasswordOldService=e("./Services/ManagePasswordOldService")(t,n)}t.exports=new i},{"../UserManagement":8,"./Actions/OpenManagePasswordOld":3,"./Models/ManagePasswordOldState":4,"./Services/ManagePasswordOldService":5,"./ViewModels/ManagePasswordOldSetup":6}],2:[function(e,t,n){function i(){o.call(this,"ManagePasswordOldAction","ManagePasswordOld"),this.processAction=function(e){var t=BankingJS.Models.UserManagement.ManagePasswordOld.ManagePasswordOldState.getInstance();return BankingJS.Utilities.Promise.Promise(function(n,i,o){t.oldChangePassword(e.oldPassword,e.newPassword).done(function(e){n(e)},function(e){})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"user-management/manage-password-old","OpenManagePasswordOld","ManagePasswordOld","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("user-management/manage-password-old")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){var i=function(){function e(){function e(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.UserManagement.ManagePasswordOld.ManagePasswordOldService.changePassword(e,t).done(function(e){n({nextContexts:e.context.next,data:e.response})},function(e){i(e)})})}return{oldChangePassword:e}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],5:[function(e,t,n){var i=function(e,t){function n(e,n){var i={path:"/banking/rest/auth/password"},o={password:e,newPassword:n};return o=JSON.stringify(o),t.invokeHttp(i,o)}return{changePassword:n}};t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this),this.execute=function(e,t,n){var i=new a(t,n);i.execute({newPassword:t,oldPassword:n})}}var o=BankingJS.ViewModelBase,a=e("../Actions/ManagePasswordOldAction");i.prototype=o.prototype,t.exports=i},{"../Actions/ManagePasswordOldAction":2}],7:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],8:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":7}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("temp-password",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.TempPassword=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=(e("../UserManagement"),BankingJS.Utilities.Promise),n=BankingJS.Utilities.Network,i=e("./Actions/OpenTempPassword");BankingJS.getAppContext().actions.addContext("TEMP_PASSWORD_SETUP",new i),BankingJS.Models.UserManagement.TempPassword=BankingJS.Models.UserManagement.TempPassword||{},BankingJS.ViewModels.UserManagement.TempPassword=BankingJS.ViewModels.UserManagement.TempPassword||{},BankingJS.Models.UserManagement.TempPassword.TempPasswordState=e("./Models/TempPasswordState"),BankingJS.ViewModels.UserManagement.TempPassword.ChangeTempPassword=e("./ViewModels/ChangeTempPassword"),BankingJS.Services.UserManagement.TempPassword=BankingJS.Services.UserManagement.TempPassword||{},BankingJS.Services.UserManagement.TempPassword.TempPasswordService=e("./Services/TempPasswordService")(t,n)}t.exports=new i},{"../UserManagement":8,"./Actions/OpenTempPassword":4,"./Models/TempPasswordState":5,"./Services/TempPasswordService":6,"./ViewModels/ChangeTempPassword":7}],2:[function(e,t,n){function i(){o.call(this,"tfa-lockout","OpenTFALockout","TFA"),this.processAction=function(e){var t=(BankingJS.Utilities.Tools.getTfaPurposeForCurrentUser(BankingJS.getAppContext().getUser()),null);t="user-management/tfa-lockout-activate",BankingJS.Utilities.Navigator.navigate(t)}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"ChangeTempPassword","TempPassword"),this.processAction=function(e){var t=BankingJS.getAppContext().TempPasswordState,n=e.password,i=e.newPassword;return BankingJS.Utilities.Promise.Promise(function(e,o,a){t.changeTempPassword(n,i).done(function(t){e({nextContexts:t.context.next,data:null})})})}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){o.call(this,"OpenTempPassword","OpenTempPassword"),this.processAction=function(e){BankingJS.getAppContext().TempPasswordState=BankingJS.Models.UserManagement.TempPassword.TempPasswordState.getInstance(),BankingJS.Utilities.Navigator.replace("user-management/temp-password")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}],5:[function(e,t,n){var i=function(){function e(){function e(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.UserManagement.TempPassword.TempPasswordService.changePassword(e,t).done(function(e){n(e)},function(e){i(e)})})}function t(){return BankingJS.Utilities.Promise.Promise(function(e,t,n){BankingJS.Services.UserManagement.TempPassword.TempPasswordService.tempPasswordSetup().done(function(t){e(t)},function(e){t(e)})})}return{changeTempPassword:e,tempPasswordSetup:t}}function t(){return n||(n=new e),n}var n=null;return{getInstance:t}}();t.exports=i},{}],6:[function(e,t,n){var i=function(e,t){function n(e,n){var i={path:"/banking/rest/auth/tempPassword"},o=e,a={password:o,newPassword:n};return a=JSON.stringify(a),t.invokeHttp(i,a)}function i(){var e={path:"/banking/rest/auth/tempPasswordSetup"},n=JSON.stringify({});return t.invokeHttp(e,n)}return{tempPasswordSetup:i,changePassword:n}};t.exports=i},{}],7:[function(e,t,n){function i(){o.call(this);var e=BankingJS.Models.UserManagement.TempPassword.TempPasswordState.getInstance();this.passwordRules=BankingJS.Utilities.DataBinder.createArrayBinding(),this.canSubmit=BankingJS.Utilities.DataBinder.createBinding(!1),this.passwdPlaceholderVisible=BankingJS.Utilities.DataBinder.createBinding(!0),this.canHaveUsername=BankingJS.Utilities.DataBinder.createBinding(!1),this.isPilotUser=BankingJS.Utilities.DataBinder.createBinding(),this.execute=function(e,t,n){var i=new a;i.execute({password:n,newPassword:t})},e.tempPasswordSetup().done(function(e){}.bind(this))}var o=BankingJS.ViewModelBase,a=e("../Actions/ChangeTempPassword");i.prototype=o.prototype,t.exports=i},{"../Actions/ChangeTempPassword":3}],8:[function(e,t,n){function i(){BankingJS.Utilities.Promise,BankingJS.Utilities.Network;BankingJS.Models.UserManagement=BankingJS.Models.UserManagement||{},BankingJS.Services.UserManagement=BankingJS.Services.UserManagement||{},BankingJS.ViewModels.UserManagement=BankingJS.ViewModels.UserManagement||{},BankingJS.Actions.UserManagement=BankingJS.Actions.UserManagement||{};var t=e("./TFA/Actions/OpenTFALockout");BankingJS.getAppContext().actions.addContext("TFA_LOCKOUT",new t)}t.exports=new i},{"./TFA/Actions/OpenTFALockout":2}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("contact-us",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ContactUs=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=e("./Actions/OpenContactUs"),n=e("./Actions/OpenCallUs"),i=new t,o=new n;BankingJS.getAppContext().setActionContext("detailsOptions",i,"login",20),BankingJS.getAppContext().setActionContext("detailsOptions",i,"service-unavailable",20),BankingJS.getAppContext().setActionContext("navigationMenu",i,"topNav",40),BankingJS.getAppContext().actions.addContext("CONTACT_US",i),BankingJS.getAppContext().actions.addContext("CALL_US",o),BankingJS.ViewModels.ContactUs={}}t.exports=new i},{"./Actions/OpenCallUs":2,"./Actions/OpenContactUs":3}],2:[function(e,t,n){function i(){o.call(this,"call-us","OpenCallUs","CallUs"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("call-us")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"contact-us","OpenContactUs","ContactUs","menu-contact"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("contact-us")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("settings",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Settings=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=BankingJS.Utilities.Promise,n=BankingJS.Utilities.Network,i=e("./Actions/OpenSettings"),o=new i;
BankingJS.Models.Settings=BankingJS.Models.Settings||{},BankingJS.Services.Settings=BankingJS.Services.Settings||{},BankingJS.ViewModels.Settings=BankingJS.ViewModels.Settings||{},BankingJS.getAppContext().actions.addContext("SETTINGS",o),BankingJS.getAppContext().setActionContext("navigationMenu",o,"topNav",60),BankingJS.Models.Settings.SettingsState=e("./Models/SettingsState"),BankingJS.Services.Settings.SettingsService=e("./Services/SettingsService")(t,n),BankingJS.ViewModels.Settings.SettingsMenu=e("./ViewModels/SettingsMenu");var a=e("./Actions/OpenDAAOptions");BankingJS.getAppContext().actions.addContext("DAA_REDIRECT",new a),BankingJS.Models.Settings.SettingsState=BankingJS.Models.Settings.SettingsState||{},BankingJS.Services.Settings.SettingsService=BankingJS.Services.Settings.SettingsService||{},BankingJS.ViewModels.Settings.SettingsMenu=BankingJS.ViewModels.Settings.SettingsMenu||{}}t.exports=new i},{"./Actions/OpenDAAOptions":2,"./Actions/OpenSettings":3,"./Models/SettingsState":4,"./Services/SettingsService":5,"./ViewModels/SettingsMenu":6}],2:[function(e,t,n){function i(){o.call(this,"","DAAOpenAction","DAA","menu-settings")}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],3:[function(e,t,n){function i(){o.call(this,"settings/settings","OpenSettings","Settings","menu-settings"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("settings/settings")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}],4:[function(e,t,n){function i(){function e(e,t){return BankingJS.Utilities.Promise.Promise(function(n,i,o){BankingJS.Services.Settings.SettingsService.retrieveDigitalAccessAgreement(e).done(function(e){e.response&&e.response.digitalAccessAgreementUrl&&(t.digitalAccessAgreementUrl=e.response.digitalAccessAgreementUrl)})})}return{getDigitalAccessAgreementUrl:e}}t.exports=i},{}],5:[function(e,t,n){var i=function(e,t){function n(e){var n={path:"/banking/rest/settings/daaurl"},i={lang:e};return i=JSON.stringify(i),t.invokeHttp(n,i)}return{retrieveDigitalAccessAgreement:n}};t.exports=i},{}],6:[function(e,t,n){function i(){o.call(this),this.actionList=[],this.digitalAccessAgreementUrl="",BankingJS.getAppContext().actions.getContext("USER_MANAGEMENT_OPTIONS")&&this.actionList.push(BankingJS.getAppContext().actions.getContext("USER_MANAGEMENT_OPTIONS")),BankingJS.getAppContext().actions.getContext("MFA_RESET_SETUP")&&(BankingJS.getAppContext().getUser().setPurpose("SETTINGS"),this.actionList.push(BankingJS.getAppContext().actions.getContext("MFA_RESET_SETUP"))),BankingJS.getAppContext().actions.getContext("DAA_REDIRECT")&&(BankingJS.getAppContext().getUser().setPurpose("SETTINGS"),this.actionList.push(BankingJS.getAppContext().actions.getContext("DAA_REDIRECT")));var e=new BankingJS.Models.Settings.SettingsState,t=BankingJS.getAppContext().i18n.lng().substr(0,2);e.getDigitalAccessAgreementUrl(t,this),this.openDigitalAccessAgreement=function(){BankingJS.Utilities.Navigator.openLocation(this.digitalAccessAgreementUrl)}}var o=BankingJS.ViewModelBase;t.exports=i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("abm-locator",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ABMLocator=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=e("./Actions/ABMLocatorAction"),n=new t;BankingJS.getAppContext().setActionContext("detailsOptions",n,"login",50),BankingJS.getAppContext().setActionContext("detailsOptions",n,"service-unavailable",50),BankingJS.getAppContext().setActionContext("navigationMenu",n,"topNav",30),BankingJS.getAppContext().actions.addContext("ABM_LOCATOR",n)}t.exports=new i},{"./Actions/ABMLocatorAction":2}],2:[function(e,t,n){function i(){o.call(this,"Locator","OpenLocator","Login.Locator","menu-locator"),this.processAction=function(e){var t=BankingJS.getAppContext().i18n;BankingJS.Utilities.Navigator.openLocation(t.t("URLs.locator"),"_blank")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("security-and-privacy",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.SecurityAndPrivacy=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){var t=e("./Actions/OpenSecurityAndPrivacyAction"),n=new t;BankingJS.getAppContext().setActionContext("detailsOptions",n,"login",40),BankingJS.getAppContext().setActionContext("detailsOptions",n,"service-unavailable",40),BankingJS.getAppContext().actions.addContext("SECURITY_AND_PRIVACY",n)}t.exports=new i},{"./Actions/OpenSecurityAndPrivacyAction":2}],2:[function(e,t,n){function i(){o.call(this,"SecurityAndPrivacy","Login.Security","menu-security-privacy"),this.processAction=function(e){var t=BankingJS.getAppContext().i18n;BankingJS.Utilities.Navigator.openLocation(t.t("URLs.securityAndPrivacy"),"_blank")}}var o=BankingJS.ActionBase;i.prototype=o.prototype,t.exports=i},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("report-lost-card",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ReportLostCard=e()}}(function(){return function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(){BankingJS.Actions.ReportLostCard=BankingJS.Actions.ReportLostCard||{},BankingJS.Actions.ReportLostCard.OpenReportLostCardAction=e("./Actions/OpenReportLostCard");var t=e("./Actions/OpenReportLostCard"),n=new t;BankingJS.getAppContext().actions.addContext("REPORT_LOST_CARD",n),BankingJS.getAppContext().setActionContext("detailsOptions",n,"lostCard",50),BankingJS.ViewModels.ReportLostCard={}}t.exports=new i},{"./Actions/OpenReportLostCard":2}],2:[function(e,t,n){function i(){o.call(this,"report-lost-card","OpenReportLostCard","ReportLostCard"),this.processAction=function(e){BankingJS.Utilities.Navigator.navigate("report-lost-card")}}var o=BankingJS.NavigationAction;i.prototype=o.prototype,t.exports=i},{}]},{},[1])(1)}),define("featureset",["authentication","mfa-reset","mfa-enrollment","account-summary","account-details","move-money","transfer-funds","pay-bills","email-money-home","email-money-request","email-money-fullfilled","email-money-send","email-money-receive","western-union","replace-card","activate-card","activate-landing","verification-code-verify","recover-userid-password","recover-userid-by-account","recover-select","user-management-options","manage-username","manage-rcp3","recover-username","reserve-username","manage-password","manage-password-old","temp-password","contact-us","settings","abm-locator","security-and-privacy","report-lost-card"],function(){}),function(e,t,n,i){Foundation.libs.abide={name:"abide",version:"5.5.1",settings:{live_validate:!0,validate_on_blur:!0,focus_on_invalid:!0,error_labels:!0,error_class:"error",timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(e,t,i){var o=n.getElementById(e.getAttribute(this.add_namespace("data-equalto"))).value,a=e.value,r=o===a;return r}}},timer:null,init:function(t,n,i){e.extend(!0,this.settings,n,i),this.bindings(n,i)},events:function(t){var n=this,i=n.S(t).attr("novalidate","novalidate"),o=i.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),i.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(e){var t=/ajax/i.test(n.S(this).attr(n.attr_name()));return n.validate(n.S(this).find("input, textarea, select").get(),e,t)}).on("reset",function(){return n.reset(e(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(e){o.validate_on_blur===!0&&n.validate([this],e)}).on("keydown.fndtn.abide",function(e){o.live_validate===!0&&9!=e.which&&(clearTimeout(n.timer),n.timer=setTimeout(function(){n.validate([this],e)}.bind(this),o.timeout))})},reset:function(t){t.removeAttr(this.invalid_attr),e(this.invalid_attr,t).removeAttr(this.invalid_attr),e("."+this.settings.error_class,t).not("small").removeClass(this.settings.error_class)},validate:function(e,t,n){for(var i=this.parse_patterns(e),o=i.length,a=this.S(e[0]).closest("form"),r=/submit/.test(t.type),s=0;o>s;s++)if(!i[s]&&(r||n))return this.settings.focus_on_invalid&&e[s].focus(),a.trigger("invalid").trigger("invalid.fndtn.abide"),this.S(e[s]).closest("form").attr(this.invalid_attr,""),!1;return(r||n)&&a.trigger("valid").trigger("valid.fndtn.abide"),a.removeAttr(this.invalid_attr),n?!1:!0},parse_patterns:function(e){for(var t=e.length,n=[];t--;)n.push(this.pattern(e[t]));return this.check_validation_and_apply_styles(n)},pattern:function(e){var t=e.getAttribute("type"),n="string"==typeof e.getAttribute("required"),i=e.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(i)&&i.length>0?[e,this.settings.patterns[i],n]:i.length>0?[e,new RegExp(i),n]:this.settings.patterns.hasOwnProperty(t)?[e,this.settings.patterns[t],n]:(i=/.*/,[e,i,n])},check_validation_and_apply_styles:function(t){var n=t.length,i=[],o=this.S(t[0][0]).closest("[data-"+this.attr_name(!0)+"]");for(o.data(this.attr_name(!0)+"-init")||{};n--;){var a,r,s=t[n][0],c=t[n][2],l=s.value.trim(),u=this.S(s).parent(),d=s.getAttribute(this.add_namespace("data-abide-validator")),p="radio"===s.type,f="checkbox"===s.type,m=this.S('label[for="'+s.getAttribute("id")+'"]'),g=c?s.value.length>0:!0,h=[];if(s.getAttribute(this.add_namespace("data-equalto"))&&(d="equalTo"),a=u.is("label")?u.parent():u,d&&(r=this.settings.validators[d].apply(this,[s,c,a]),h.push(r)),p&&c)h.push(this.valid_radio(s,c));else if(f&&c)h.push(this.valid_checkbox(s,c));else if(t[n][1].test(l)&&g||!c&&s.value.length<1||e(s).attr("disabled")?h.push(!0):h.push(!1),h=[h.every(function(e){return e})],h[0])this.S(s).removeAttr(this.invalid_attr),s.setAttribute("aria-invalid","false"),a.removeClass(this.settings.error_class),m.length>0&&this.settings.error_labels&&m.removeClass(this.settings.error_class).removeAttr("role"),e(s).triggerHandler("valid");else{this.S(s).attr(this.invalid_attr,""),s.setAttribute("aria-invalid","true");var v=a.find("small."+this.settings.error_class,"span."+this.settings.error_class);v.length>0?v[0].id:"";a.addClass(this.settings.error_class),m.length>0&&this.settings.error_labels&&m.addClass(this.settings.error_class).attr("role","alert"),e(s).triggerHandler("invalid")}i.push(h[0])}return i=[i.every(function(e){return e})]},valid_checkbox:function(e,t){var e=this.S(e),n=e.is(":checked")||!t||e.get(0).getAttribute("disabled");return n?e.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):e.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),n},valid_radio:function(e,t){for(var n=e.getAttribute("name"),i=this.S(e).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+n+"']"),o=i.length,a=!1,r=!1,s=0;o>s;s++)i[s].getAttribute("disabled")?(r=!0,a=!0):i[s].checked?a=!0:r&&(a=!1);for(var s=0;o>s;s++)a?this.S(i[s]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):this.S(i[s]).attr(this.invalid_attr,"").parent().addClass(this.settings.error_class);return a},valid_equal:function(e,t,i){var o=n.getElementById(e.getAttribute(this.add_namespace("data-equalto"))).value,a=e.value,r=o===a;return r?(this.S(e).removeAttr(this.invalid_attr),i.removeClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.removeClass(this.settings.error_class)):(this.S(e).attr(this.invalid_attr,""),i.addClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.addClass(this.settings.error_class)),r},valid_oneof:function(e,t,n,i){var e=this.S(e),o=this.S("["+this.add_namespace("data-oneof")+"]"),a=o.filter(":checked").length>0;if(a?e.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):e.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),!i){var r=this;o.each(function(){r.valid_oneof.call(r,this,null,null,!0)})}return a}}}(jQuery,window,window.document),define("abide",["foundation"],function(){}),function(e,t){!function(){if(e.jQuery===t)throw"jQuery not included!";if(jQuery.prototype.jquery===t)throw"jQuery version not found!";if(usedVer=jQuery.prototype.jquery.split("."),parseInt(usedVer[0])<1||1==parseInt(usedVer[0])&&parseInt(usedVer[1])<5)throw"Minimum jQuery version must be 1.5";e.console===t&&(e.console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}})}();var n={version:"1.0",useBnsURL:!0,tmxTagEnabled:!0,tmxTagParam:{org_id:null,session_id:null},getTmxTagURL:function(){return n.tmxTagParam!==t?n.useBnsURL?"https://content21.scotiabank.com/fp/tags.js?"+jQuery.param(n.tmxTagParam):"https://h.online-metrix.net/fp/tags.js?"+jQuery.param(n.tmxTagParam):void 0},isTmxParamReady:function(){return n.tmxTagParam!==t&&null!=n.tmxTagParam.org_id&&null!=n.tmxTagParam.session_id},asyncLoadScript:function(e,t,n){document.getElementById(t)||(head=document.head||jQuery("head")[0]||document.documentElement,script=document.createElement("script"),script.async=!0,script.src=e,script.id=t,script.onload=script.onreadystatechange=function(){(!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=script.onreadystatechange=null,script.onerror=null,script=null,n&&n())},script.onerror=function(){script.onerror=null,script.parentNode&&(script.parentNode.removeChild(script),console&&console.log&&console.log("Async script loading error: "+e))},head.appendChild(script))},loadJavaScript:function(){if("undefined"!=typeof akmTmxTagParam)try{n.tmxTagParam=akmTmxTagParam}catch(e){throw"akmTmxTagParam not found!"}if(n.isTmxParamReady()){var t=n.getTmxTagURL();n.asyncLoadScript(t,"bns-tmx-tag")}},hookDocReady:function(){jQuery(e).load(function(){n.loadJavaScript()})}};!function(){e.BnsTmxLoader=n,n.tmxTagEnabled&&n.hookDocReady()}()}(window),define("bns-tmx-loader",["jquery"],function(){}),define("app/startup",["jquery","knockout","./router","bankingjsinit","json!./features.json","fastclick","foundation","knockout-projections","featureset","abide","knockout-mapping","bns-tmx-loader"],function(e,t,n,i,o,a,r){t.components.register("nav-bar",{require:"components/common/nav-bar/nav-bar"}),t.components.register("loading",{require:"components/common/loading/loading"}),t.components.register("navigation-menu",{require:"components/common/navigation-menu/navigation-menu"}),t.components.register("notifications",{require:"components/common/notifications/notifications"}),t.components.register("login",{require:"components/authentication/login/login"}),t.components.register("confirm-info",{require:"components/common/templates/confirm-info/confirm-info"}),t.components.register("complete-page",{require:"components/common/templates/complete-page/complete-page"}),t.components.register("product-info",{require:"components/common/templates/product-info/product-info"}),t.components.register("manage-credentials",{require:"components/user-management/manage-credentials/manage-credentials"}),t.components.register("title-description-component",{require:"components/common/templates/title-description-component/title-description-component"}),t.components.register("info-page-component",{require:"components/common/templates/info-page-component/info-page-component"}),t.components.register("helper-text-component",{require:"components/common/templates/helper-text-component/helper-text-component"}),t.components.register("input-component",{require:"components/common/templates/input-component/input-component"}),t.components.register("submit-component",{require:"components/common/templates/submit-component/submit-component"}),t.components.register("checkbox-component",{require:"components/common/templates/checkbox-component/checkbox-component"}),t.components.register("radiobox-component",{require:"components/common/templates/radiobox-component/radiobox-component"}),t.components.register("date-component",{require:"components/common/templates/date-component/date-component"}),t.components.register("dropdown-component",{require:"components/common/templates/dropdown-component/dropdown-component"}),t.components.register("card-verification-component",{require:"components/common/templates/card-verification-component/card-verification-component"}),t.components.register("recaptcha-component",{require:"components/common/templates/recaptcha-component/recaptcha-component"});for(feature in o)t.components.register(feature,{require:o[feature].componentUrl});t.bindingHandlers.clickAndTouch={init:function(n,i,o,a,r){var s=i(),c=function(){return{click:s}};e(n).on("click",function(e){i().call(a,t.dataFor(e.target),e.target)}),t.bindingHandlers.event.init.call(this,n,c,o,a,r)}},t.bindingHandlers.allowBindings={init:function(e,n){var i=t.unwrap(n());return{controlsDescendantBindings:!i}}},t.subscribable.fn.withUpdater=function(e,t,n){var i;return this.subscribe(function(e){i=e},null,"beforeChange"),this.subscribe(function(o){e.call(t,i,o,n)}),this},document.enhanceWithin=function(t){e(t).foundation()},window.windowsize=t.observable(),window.windowHeight=t.observable(),window.isWideView=t.observable();var s=40.063;e(function(){a.attach(document.body)}),e(window).resize(function(){window.windowsize(e(window).width()/parseFloat(e("body").css("font-size"))),window.windowHeight(e(window).height()),window.isWideView(window.windowsize()>s)}),e(window).focusin(function(){BankingJS.Utilities.SessionHandler.resetTimer()}),e(document).ready(function(){var e=n.currentRoute();e.page||(n.currentRoute({url:"",page:"login"}),window.location.href=""),t.applyBindings({route:n.currentRoute}),BankingJS.getAppContext().getUser().setLoginPageLoaded(!0);var i=BankingJS.getAppContext().getUser().getUserLanguage();if(!i||""==i){i=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage;var o=BankingJS.getAppContext().i18n.lng();o&&(i=o),i=i.substring(0,2),BankingJS.getAppContext().getUser().setUserLanguage(i)}}),"undefined"===BankingJS.Utilities.Storage.retrieveObjectData("displayMenu")&&BankingJS.Utilities.Storage.storeObjectData("displayMenu",!1,0)}),define("text!components/common/nav-bar/nav-bar.html",[],function(){return'<div>\n    <div class="nav-bar fixed" data-bind="template: { afterRender: enhanceWithin}">\n        <nav class="top-bar" data-topbar role="navigation" data-bind="visible: isVisible(), attr: { class: \'top-bar \' + branding() }">\n            <ul class="title-area">\n                <li class="name">\n                    <h1>\n                        <!--\n                        <div data-bind="ifnot: route().page === \'account-summary\'">\n                        <a href="" id="goBack" class="back-button" data-bind="click: goBack" ><img class="back-button"src="images/arrow-back.svg" onerror="this.src=\'images/arrow-back.png\'"></img></a>\n                        </div>\n                        -->\n\n                    </h1>\n                </li>\n                <section class="middle tab-bar-section">\n                        <img class="logo" aria-hidden="route().page === \'activate-select\' || route().page === \'recover-select\'  || route().page === \'dcv\' " tabindex="0" alt="Scotiabank" data-bind="attr: {src: navLogoSVG(), onerror: navLogoPNG()}"></img>\n\n                </section>\n                <!-- <section class="middle tab-bar-section" data-bind="if: displayPageTitle()">\n                        <span class="medium" data-bind="html: pageTitle()" tabindex="0"></span>\n                </section> -->\n                \n                <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->\n                <li class="toggle-topbar" data-bind="if: displayMenuOptions()">\n                    <img class="menu"  role="button" alt="Menu" tabindex="0" src="images/menu.svg" onerror="this.src=\'images/menu.png\'"></img>\n                </li>\n            </ul>\n            <section class="top-bar-section" data-bind="if: displayMenuOptions()">\n                <navigation-menu params="{route:route}"></navigation-menu>\n            </section>\n        </nav>\n    </div>\n</div>'}),define("components/common/nav-bar/nav-bar",["knockout","jquery","text!./nav-bar.html"],function(e,t,n){function i(n){function i(){r.updateBranding()}t(document).mouseup(function(e){var n=t(".top-bar");n.is(e.target)||"menu"==e.target.classList[0]||e.target.href||!n.hasClass("expanded")||Foundation.libs.topbar.toggle(t(".top-bar"))});var o=/iphone|ipad/gi.test(navigator.appVersion);o&&t(window).on("touchstart",function(e){var n=t(".top-bar");n.is(e.target)||"menu"==e.target.classList[0]||e.target.href||!n.hasClass("expanded")||Foundation.libs.topbar.toggle(t(".top-bar"))}),t(window).on("popstate",function(e){var n=t(".top-bar");n.hasClass("expanded")&&Foundation.libs.topbar.toggle(t(".top-bar"))});var a=BankingJS.ViewModels.Core.NavigationBar,r=new a;r.i18n=BankingJS.getAppContext().i18n,BankingJS.getAppContext().geti18n(i),r.goBack=function(){history.back()},r.route=n.route,r.displayMenuOptions=BankingJS.Utilities.DataBinder.createBinding(BankingJS.Utilities.Storage.retrieveObjectData("displayMenu")),r.isVisible=BankingJS.Utilities.DataBinder.createBinding("login"!=n.route().page&&"service-unavailable"!=n.route().page),r.branding=BankingJS.Utilities.DataBinder.createBinding(""),r.navLogoSVG=BankingJS.Utilities.DataBinder.createBinding(""),r.navLogoPNG=BankingJS.Utilities.DataBinder.createBinding(""),r.displayPageTitle=e.observable(BankingJS.getAppContext().getUser().displayPageTitle()),r.pageTitle=BankingJS.Utilities.DataBinder.createBinding(BankingJS.getAppContext().getUser().getPageTitle()),r.updateBranding=function(){r.displayPageTitle(BankingJS.getAppContext().getUser().displayPageTitle()),r.pageTitle(BankingJS.getAppContext().getUser().getPageTitle()),r.branding(BankingJS.getAppContext().getUser().getBranding()),r.navLogoSVG("HW"==r.branding()?r.i18n.t("Images.logoHollisSVG"):r.i18n.t("Images.logoSVG")),r.navLogoPNG("HW"==r.branding()?r.i18n.t("Images.logoHollisPNG"):r.i18n.t("Images.logoPNG"))},r.updateBranding();var s=BankingJS.getAppContext().getUser().loggedInAcceptedTerms.subscribe(function(e){r.displayMenuOptions(e),BankingJS.Utilities.Storage.storeObjectData("displayMenu",e,0)}.bind(r)),c=r.route.subscribe(function(e){t("html, body").animate({scrollTop:0},"fast"),r.updateBranding(),"login"==n.route().page||"service-unavailable"==n.route().page?r.isVisible(!1):(r.isVisible(!0),t(document.body).addClass("f-topbar-fixed"))}.bind(r)),l=BankingJS.getAppContext().getUser().displayPageTitle.subscribe(function(e){r.displayPageTitle(BankingJS.getAppContext().getUser().displayPageTitle(e)),r.pageTitle(BankingJS.getAppContext().getUser().getPageTitle())}.bind(r));return r.enhanceWithin=function(){document.enhanceWithin(".nav-bar")},r.dispose=function(){c&&c.dispose(),s&&s.dispose(),l&&l.dispose()},BankingJS.components.navigationBar=r,r}return{viewModel:i,template:n}}),define("text!components/common/navigation-menu/navigation-menu.html",[],function(){return'<div class="navigation-menu" data-bind="template: { afterRender: enhanceWithin}">\n  	<ul class="right" data-bind="foreach: combinedList">\n      	<li><a href="#" class="nav-item" tabindex="0"  data-bind="css: actionIcon, text: $parent.i18n.t(actionDescription), click: execute"></a></li>\n  	</ul>\n</div>'}),define("components/common/navigation-menu/navigation-menu",["knockout","text!./navigation-menu.html"],function(e,t){function n(t){function n(){o.combinedList([]),o.actionList.forEach(function(e){e.extraClassParams||(e.extraClassParams="item"),o.combinedList.push(e)})}var i=BankingJS.ViewModels.Core.NavigationMenu,o=new i;return o.i18n=BankingJS.getAppContext().i18n,BankingJS.getAppContext().geti18n(n),o.route=t.route,o.combinedList=e.observableArray(),n(),o.enhanceWithin=function(){document.enhanceWithin("navigation-menu")},o}return{viewModel:n,template:t}}),define("text!components/common/notifications/notifications.html",[],function(){return'<div class="notifications" aria-live="assertive" data-bind="template: { afterRender: enhanceWithin}" >\n	<div class="alert-box" role="alertdialog" data-bind="notificationVisible: hasNotification, notificationType: globalNotification().notificationType" tabindex="-1">\n		<!-- ko if: globalNotification() -->\n		<span class="offscreen" alt="Notification" data-bind="text: \'\'"></span>\n		<span class="notification-text" data-bind="html: globalNotification().notifcationText" tabindex="0"></span>\n		<!-- /ko -->\n	</div>\n</div>'}),define("components/common/notifications/notifications",["knockout","text!./notifications.html"],function(e,t){function n(t){var n=new BankingJS.ViewModels.Core.Notifier,i=n.globalNotification.subscribe(function(e){"ERROR"===e.notificationType&&window.ga("send","event","notification",e.notificationType,e.notifcationText)});n.enhanceWithin=function(){document.enhanceWithin("notifications")},n.close=function(){n.popGlobalNotification()},e.bindingHandlers.notificationType={init:function(e,t,n,i,o){},update:function(e,t,i,o,a){n.globalNotification()&&("WARNING"===n.globalNotification().notificationType?($(".error-message-image").hide(),$(e).attr("class","warning-message alert-box")):"ERROR"===n.globalNotification().notificationType?($(".error-message-image").show(),$(e).children("span.image-notify").attr("class","error-message-image"),$(e).attr("class","error-message alert-box")):"CONFIRMATION"===n.globalNotification().notificationType?($(".error-message-image").hide(),$(e).attr("class","confirmation-message alert-box")):"DEFAULT"===n.globalNotification().notificationType?($(".error-message-image").hide(),$(e).attr("class","default-message alert-box")):($(".error-message-image").hide(),$(e).attr("class","default-message alert-box")))}};var o=e.bindingHandlers.visible.update;return e.bindingHandlers.notificationVisible={init:function(e,t,n,i,o){},update:function(e,t,i,a,r){o(e,t,i,a,r),n.hasNotification()&&$(e).show(0,function(){$(e).focus()})}},this.dispose=function(){i&&i.dispose()},n}return{viewModel:n,template:t}}),define("text!components/common/templates/confirm-info/confirm-info.html",[],function(){return'<div class="info component-container" data-bind="template: { afterRender: enhanceWithin}">\n	<div class="margin">\n		<div class="title">\n			<span class="medium black" tabindex="0" data-bind="text:title"></span>\n		</div>\n		<div data-bind="foreach: info">\n			<div class="clearfix">\n				<label class="small dark-grey left" tabindex="0" data-bind="text: description"/>\n			</div>\n			<div class="list-6">\n				<span class="medium black" data-bind="text: value"></span>\n				<!-- ko if: $data.extDescription  &&  $data.extValue-->\n				<div>\n					<span class="extra-small dark-grey" tabindex="0" data-bind="text: extDescription + \'&nbsp;\'"></span>\n					<span class="extra-small dark-grey" tabindex="0" data-bind="text: extValue"></span>\n				</div>\n				<!-- /ko -->\n			</div>\n		</div>\n		<!-- ko if: $data.preActionText -->\n		<div class="small black list-6">\n			<span class="black small" tabindex="0" data-bind="text: preActionText" />\n		</div>\n		<!-- /ko -->\n		<div data-bind="foreach: actions">\n			<button class="red-button" tabindex="0" data-bind="text: $parent.i18n.t(actionDescription), click: execute"></button>\n		</div>\n		<!-- ko if: $data.disclaimer -->\n		<div class="extra-small black">\n			<span class="black extra-small" tabindex="0" data-bind="text: disclaimer" />\n		</div>\n		<!-- /ko -->\n	</div>\n</div>'}),define("components/common/templates/confirm-info/confirm-info",["knockout","text!./confirm-info.html"],function(e,t){function n(e){var t=e.vm||{};return t.i18n=BankingJS.getAppContext().i18n,t.enhanceWithin=function(){},t}return{viewModel:n,template:t}}),define("text!components/common/templates/input-component/input-component.html",[],function(){return'<div data-bind="attr: { id: idName+\'-inputField\', class: idName+\'-input-component\'}, template: { afterRender: enhanceWithin }" >\n	<div class="input-1">\n		<label data-bind="text: titleText, attr: {for: idName, class: inputError().length > 0 ? \'small dark-grey left mb7 error\' : \'small dark-grey left mb7\' }"></label>\n		<input data-bind="value: inputVal,\n				attr: { id: idName,\n						type: fieldType,\n						pattern: (typeof(pattern) !== \'undefined\' || pattern !== null) ? pattern : null,\n						required: fieldRequired === \'true\' ? fieldRequired : null,\n						\'aria-describedBy\': idName+\'-error \'+idName+\'-info \'+extraDescribeBy,\n						placeholder: placeHolderText,\n						class: inputError().length > 0 ? \'error\' : \'\',\n						\'aria-invalid\': inputError().length > 0 ? \'true\' : \'false\',\n						readonly: placeHolderMode }" autocomplete="off" />\n		<div data-bind="css: cssError, if: inputError().length > 0, attr: { id: idName+\'-error\'}" aria-live="assertive" aria-atomic="true" aria-relevant="additions">\n			<img alt="error" id="error-icon" src="images/inline-error.svg">\n			<span data-bind="text: inputError()" />\n		</div>\n		<div class="rule_info" data-bind="attr: {id: idName+\'-info\'}">\n			<ul data-bind="foreach: validationSecondary">\n				<li>\n				<div class="rule-group">\n					<img class="input-rule" alt=\'rule\' data-bind="attr: {id: $parent.idName+\'-rule-\'+$data.ruleId}" src="images/bullet-grey.png" />\n					<span class="input-rule-text" data-bind="text: $data.ruleDesc"/>\n				</div>\n				</li>\n			</ul>\n		</div>\n	</div>\n</div>';
}),define("components/common/templates/input-component/input-component-validation",["jquery","foundation"],function(e,t){return function(t){function n(n){if(t.placeHolderMode)return!1;var o="",a=!0,r=e("#"+t.idName).val();t.inputVal(r);var s={};if(t.onEmptyError&&!r)o=t.onEmptyError,a=!1;else try{t.validation().forEach(function(e){if("notMatchConfirmPassword"===e.ruleId){if(e.ruleDynamicVar&&r!=e.ruleDynamicVar())throw o=e.ruleDesc,a=!1,s}else{var n=new RegExp;try{var i=e.ruleValue,c=e.ruleFlags;e.ruleDynamicVar&&(i=e.ruleValue.replace("dyn_var",BankingJS.Utilities.Tools.addSlashesForRegEx(e.ruleDynamicVar()))),n=new RegExp(i,c)}catch(l){}if("cvv2"===e.ruleId){if(!r.match(n))throw o=e.ruleDesc,a=!1,s}else if("postalCode"==e.ruleId){if(!r.match(n))throw o=e.ruleDesc,a=!1,s;if("CA"==e.countryCode){var u=r.replace(/\W/g,"");t.inputVal(u)}}else if("phoneNumber"==e.ruleId){if(!r.match(n))throw o=e.ruleDesc,a=!1,s;var u=r.replace(/[.\D]/g,"");t.inputVal(u)}else if("dob"==e.ruleId){if(!r.match(n))throw o=e.ruleDesc,a=!1,s}else if(r.match(n))throw o=e.ruleDesc,a=!1,s;if("notMatchConfirmPassword"===e.ruleId&&e.ruleDynamicVar&&r!=e.ruleDynamicVar())throw o=e.ruleDesc,a=!1,s}})}catch(n){}t.validationSecondary&&t.validationSecondary()&&t.validationSecondary().forEach(function(n){var i=new RegExp;try{var o=n.ruleValue,s=n.ruleFlags;n.ruleDynamicVar&&(o=n.ruleValue.replace("dyn_var",BankingJS.Utilities.Tools.addSlashesForRegEx(n.ruleDynamicVar()))),i=new RegExp(o,s)}catch(c){}var l=!0;"undefined"!==n.mandatory&&(l=n.mandatory),r?l&&r.match(i)?(e("#"+t.idName+"-rule-"+n.ruleId).attr("src","images/validate-yes.png"),e("#"+t.idName+"-rule-"+n.ruleId).attr("alt","valid")):l?(e("#"+t.idName+"-rule-"+n.ruleId).attr("src","images/validate-no.png"),e("#"+t.idName+"-rule-"+n.ruleId).attr("alt","invalid"),a=!1):!l&&r.match(i)?(e("#"+t.idName+"-rule-"+n.ruleId).attr("src","images/bullet-grey.png"),e("#"+t.idName+"-rule-"+n.ruleId).attr("alt","valid")):l||(e("#"+t.idName+"-rule-"+n.ruleId).attr("src","images/validate-no.png"),e("#"+t.idName+"-rule-"+n.ruleId).attr("alt","invalid"),a=!1):(e("#"+t.idName+"-rule-"+n.ruleId).attr("src","images/bullet-grey.png"),e("#"+t.idName+"-rule-"+n.ruleId).attr("alt","rule:"),l&&(a=!1))});var c=!1;try{c="number"===t.properties.type,c="number"===t.fieldType()}catch(n){}if(c){var l=new RegExp;try{l=new RegExp("^[0-9]+$","i")}catch(n){}r.match(l)||(o=i.t("Validation.EMTAnswerCharacters"),a=!1)}t.isValid(a),t.inputError(o)}var i=BankingJS.getAppContext().i18n,o="#"+t.idName;e(o).on("propertychange change keyup input paste",function(i){if(!i.which)return t.inputVal(e("#"+t.idName).val()),void n(i);if(0!==i.which&&(t.inputVal()?n(i):(t.inputVal(e("#"+t.idName).val()),n(i))),e("#newPasswordInputText")){var o=e("#newPasswordInputText").val(),a=e("#confirmPasswordInputText").val();if(t.submitButton){if(!a)return void t.submitButton.submitEnabled(!1);var r=t.submitButton.submitEnabled();if(!r)return;o&&a&&(o===a?t.submitButton.submitEnabled(!0):t.submitButton.submitEnabled(!1)),e("#usernameInputText")&&""===e("#usernameInputText").val()&&t.submitButton.submitEnabled(!1)}}}),e(o).on("blur",function(i){t.inputVal()&&(n(i),t.executeOnBlur&&t.executeOnBlur(e("#"+t.idName).val())),i.relatedTarget||t.executeOnBlur&&t.executeOnBlur(e("#"+t.idName).val())}),e(o).on("focus",function(t){e(o+"-info").show()}),e(o).on("click",function(i){var a=window.navigator.userAgent,r=a.indexOf("MSIE"),s=!1;return(r>0||navigator.userAgent.match(/Trident\/7\./))&&(s=!0),"usernameInputText"!==e(this)[0].id||s?(s||n(i),t.executeOnBlur&&!s&&t.executeOnBlur(e("#"+t.idName).val(),i),void e(o+"-info").show()):(t.executeOnBlur(e("#"+t.idName).val(),i,"usernameInputText"),void n(i))})}}),define("components/common/templates/input-component/input-component",["knockout","text!./input-component.html","./input-component-validation"],function(e,t,n){function i(e){var t=e||{};t.i18n=BankingJS.getAppContext().i18n,t.inputVal=e.base.inputVal?e.base.inputVal:"",t.isValid=e.base.isValid?e.base.isValid:BankingJS.Utilities.DataBinder.createBinding(!1),t.titleText=e.properties.title?e.properties.title:"",t.idName=e.properties.id?e.properties.id:"input_"+BankingJS.Utilities.Tools.generateId(7),t.placeHolderText=e.properties.placeHolderText?e.properties.placeHolderText:"",t.validation=e.properties.rules?BankingJS.Utilities.KnockOut.isObservable(e.properties.rules)?e.properties.rules:BankingJS.Utilities.DataBinder.createArrayBinding(e.properties.rules):BankingJS.Utilities.DataBinder.createArrayBinding(),t.validationSecondary=e.properties.secondaryRules?BankingJS.Utilities.KnockOut.isObservable(e.properties.secondaryRules)?e.properties.secondaryRules:BankingJS.Utilities.DataBinder.createArrayBinding(e.properties.secondaryRules):BankingJS.Utilities.DataBinder.createArrayBinding(),t.executeOnBlur=e.properties.executeOnBlur?e.properties.executeOnBlur:null,t.dependents=e.properties.dependents?e.properties.dependents:null,t.pattern=e.properties.pattern?e.properties.pattern:null,t.onEmptyError=e.properties.onEmptyError?e.properties.onEmptyError:null,t.extraDescribeBy=e.properties.extraDescribeBy?e.properties.extraDescribeBy:"",t.fieldType=e.properties.type?e.properties.type:"text",t.fieldRequired="undefined"==typeof e.properties.fieldRequired||"true"===e.properties.fieldRequired?"true":"false",t.submitButton=e.properties.submitButton?e.properties.submitButton:null,t.callback=e.properties.callback?e.properties.callback:null,t.cssError=e.properties.cssError?e.properties.cssError:"error",t.inputError=BankingJS.Utilities.DataBinder.createBinding(""),t.placeHolderMode="function"!=typeof t.inputVal?!0:!1;var i,o="#"+t.idName,a=t.inputError.subscribe(function(e){t.isValid(0==e.length)}.bind(t)),r=t.validation.subscribe(function(e){t.triggerValidation()}.bind(t)),s=t.validationSecondary.subscribe(function(e){t.triggerValidation()}.bind(t));return t.dependents&&(i=t.dependents.subscribe(function(e){t.triggerValidation()}.bind(t))),t.triggerValidation=function(){t.inputVal()&&$(o).trigger("keyup")},t.enhanceWithin=function(){document.enhanceWithin("."+t.idName+".input-component"),t.callback&&t.callback(),new n(t)}.bind(t),t.dispose=function(){a.dispose(),r.dispose(),s.dispose(),i&&i.dispose()},t}return{viewModel:i,template:t}}),define("text!components/common/templates/checkbox-component/checkbox-component.html",[],function(){return'<div data-bind="attr: { id: idName+\'-checkboxComponent\', class: idName+\'-checkbox-component\'}, template: { afterRender: enhanceWithin }, allowBindings: true">\n\n    <fieldset>\n        <legend class="clearfix">\n            <span tabindex="0" class="small dark-grey left mb7" data-bind="attr: { for: idName }, text: titleText" ></span>\n        </legend>\n        <div data-bind="foreach: {data: checkboxList, as: \'answer\'}"  class="row collapse checkbox-group">\n            <ul>\n                <li>\n                    <div class="multi-input">\n                        <span class="multiple-input"><input type="checkbox" data-bind="value: answer.answerText,\n                        click: $parents[0].checkBoxChanged,attr:{ \'id\': \'checkbox_\' + $parent.idName + \'_\' + $index() ,\n                          checked: answer.selected }"/></span>\n\n\n                        <div data-bind="if: answer.imageSrc"><img class="inline" data-bind="attr:{ src: answer.imageSrc, alt: answer.answerText }"/></div>\n                        <label class="multiple-input"  data-bind="\n                                        text: answer.answerText,\n                                        attr:{ for: \'checkbox_\' + $parent.idName + \'_\' + $index()  }\n                                        "></label>\n                    </div>\n                </li>\n            </ul>\n        </div>\n        <div>\n            <div class="error" data-bind="attr: { id: idName+\'-error\'}" aria-live="assertive" aria-atomic="true" aria-relevant="all">\n                <img alt="error" data-bind="visible: inputError().length > 0" id="error-icon" src="images/inline-error.svg">\n                <span data-bind="text: inputError(), visible: inputError().length > 0" />\n            </div>\n        </div>\n    </fieldset>\n</div>\n'}),define("components/common/templates/checkbox-component/checkbox-component",["knockout","text!./checkbox-component.html"],function(e,t){function n(e){function t(e){var t=e.closest(".checkbox-group"),i=1,o=t.find(":checked").length,a=$("#checkbox_dcv_error");if(o>=i)return n.inputError(""),a.hide(),n.isValid(!0),!0;a.css({display:"block"});var r=n.i18n.t("Validation.PleaseSelectAnAnswer");return n.inputError(r),n.isValid(!1),!1}var n=e||{};return n.i18n=BankingJS.getAppContext().i18n,n.inputError=BankingJS.Utilities.DataBinder.createBinding(""),n.isValid=e.base.isValid,n.checkboxList=e.base.checkboxList?e.base.checkboxList:null,n.idName=e.properties.id?e.properties.id:"checkbox_"+BankingJS.Utilities.Tools.generateId(7),n.titleText=e.properties.title?e.properties.title():"",n.enhanceWithin=function(){document.enhanceWithin("."+n.idName+".checkbox-component")}.bind(n),n.dispose=function(){},n.checkBoxChanged=function(e,n){var i=n.target.checked;e.selected(i);var o=$("#"+n.target.id).closest("div");return t(o),!0},n}return{viewModel:n,template:t}}),define("text!components/common/templates/radiobox-component/radiobox-component.html",[],function(){return'<div data-bind="attr: { id: idName+\'-radioboxComponent\', class: idName+\'-radiobox-component\'}, template: { afterRender: enhanceWithin }, allowBindings: true">\n    <fieldset>\n        <legend class="clearfix">\n            <span tabindex="0" class="small dark-grey left"  data-bind="attr: { for: idName }, text: titleText"></span>\n        </legend>\n\n        <fieldset class="multi-input">\n        <div data-bind="foreach: { data: radioboxList, as: \'answer\' }" class="row collapse">\n            <div class="radio-group">\n                        <input class="dcv" type="radio" data-bind="attr:{ id: \'radio_\' + $parent.idName + \'_\' + $index(),\n                                               name: \'radioGroup_\'+$parent.idName, value: answer.answerText() },\n                                               checked: $parent.selected, click: $parent.radioChanged" />\n\n                        <label class="dcv" data-bind="text: answer.answerText,\n                                                attr: { \'for\': \'radio_\' + $parent.idName + \'_\' + $index()}"></label>\n            			<br>\n            </div>\n        </div>\n        </fieldset>\n        <div><small id="radio_dcv_error" class="error"  data-bind="text: \'Please select an Answer\'"/></div>\n    </fieldset>\n</div>\n'}),define("components/common/templates/radiobox-component/radiobox-component",["knockout","text!./radiobox-component.html"],function(e,t){function n(e){var t=e||{};return t.i18n=BankingJS.getAppContext().i18n,t.radioboxList=e.base.radioboxList?e.base.radioboxList:null,t.isValid=e.base.isValid?e.base.isValid:null,t.inputError=BankingJS.Utilities.DataBinder.createBinding(""),t.selected=BankingJS.Utilities.DataBinder.createBinding(!1),t.idName=e.properties.id?e.properties.id:"radiobox_"+BankingJS.Utilities.Tools.generateId(7),t.titleText=e.properties.title?e.properties.title():"",t.enhanceWithin=function(){document.enhanceWithin("."+t.idName+".radiobox-component")}.bind(t),t.radioChanged=function(e,n){for(i=0;i<t.radioboxList.length;i++)t.radioboxList[i].selected(e==t.radioboxList[i]);return t.isValid(!0),!0}.bind(t),t.dispose=function(){},t}return{viewModel:n,template:t}}),define("text!components/common/templates/date-component/date-component.html",[],function(){return"<div class=\"row\" data-bind=\"attr: { id: idName+'-dateComponent', class: idName+'-date-component'}, template: { afterRender: enhanceWithin }\" >\n    <fieldset class=\"date-of-birth\">\n        <legend><span tabindex=\"0\" data-bind=\"text: titleText\"></span></legend>\n        <div id=\"dob-month\" data-bind=\"component: { name: 'dropdown-component', \n        	params: { base: monthField,\n                    properties: {\n                        title: '',\n                        optionsSelect: 'label',\n                        labelCaption: i18n.t('Activation.DOBMonth'),\n                        startCaption: i18n.t('Activation.DOBMonth'),\n                        onEmptyError: i18n.t('Validation.DOBMonthError')\n                    }}}\" />\n\n        <div id=\"dob-day\" data-bind=\"component: { name: 'dropdown-component', \n        	params: { base: dayField,\n                    properties: {\n                    	title: '',\n                        optionsSelect: 'label',\n                        labelCaption: i18n.t('Activation.DOBDay'),\n                        startCaption: i18n.t('Activation.DOBDay'),\n                        onEmptyError: i18n.t('Validation.DOBDayError')\n                    }}}\" />\n\n        <div id=\"dob-year\" data-bind=\"component: { name: 'dropdown-component', \n            params: { base: yearField,\n                    properties: {\n                        title: '',\n                        optionsSelect: 'label',\n                        labelCaption: i18n.t('Activation.DOBYear'),\n                        startCaption: i18n.t('Activation.DOBYear'),\n                        onEmptyError: i18n.t('Validation.DOBYearError')\n                    }}}\" />\n\n    </fieldset>\n</div>"}),define("components/common/templates/date-component/date-component",["jquery","knockout","text!./date-component.html"],function(e,t,n){function o(t){var n=t||{},o=BankingJS.Utilities.Components;n.i18n=BankingJS.getAppContext().i18n,n.isValid=t.base.isValid,n.idName=t.properties.id?t.properties.id:"date_"+BankingJS.Utilities.Tools.generateId(7),n.titleText=t.properties.title?t.properties.title:"",n.isStatic=t.properties.isStatic?t.properties.isStatic:!1,n.formattedDate=t.properties.formattedDate?BankingJS.Utilities.KnockOut.isObservable(t.properties.formattedDate)?t.properties.formattedDate:BankingJS.Utilities.DataBinder.createArrayBinding(t.properties.formattedDate):BankingJS.Utilities.DataBinder.createArrayBinding(""),1==n.isStatic&&(e("#dob-month").addClass("medium-6 columns columns-left desktop-ui"),e("#dob-day").addClass("medium-3 columns columns-right desktop-ui"),e("#dob-year").addClass("medium-3 columns columns-right desktop-ui"));var a=[{id:"01",value:"01",label:n.i18n.t("Date.Jan")},{id:"01",value:"02",label:n.i18n.t("Date.Feb")},{id:"03",value:"03",label:n.i18n.t("Date.Mar")},{id:"04",value:"04",label:n.i18n.t("Date.Apr")},{id:"05",value:"05",label:n.i18n.t("Date.May")},{id:"06",value:"06",label:n.i18n.t("Date.Jun")},{id:"07",value:"07",label:n.i18n.t("Date.Jul")},{id:"08",value:"08",label:n.i18n.t("Date.Aug")},{id:"09",value:"09",label:n.i18n.t("Date.Sep")},{id:"10",value:"10",label:n.i18n.t("Date.Oct")},{id:"11",value:"11",label:n.i18n.t("Date.Nov")},{id:"12",value:"12",label:n.i18n.t("Date.Dec")}],r=[];for(i=1;i<32;i++)i<10?r.push({id:i,value:"0"+i,label:i}):r.push({id:i,value:""+i,label:i});var s=[],c=(new Date).getFullYear();for(i=c;i>c-129;i--)s.push({id:i,value:""+i,label:i});n.yearField=o.newDropdownField(s,n.isValid()),n.monthField=o.newDropdownField(a,n.isValid()),n.dayField=o.newDropdownField(r,n.isValid());var l,u,d,p=n.monthField.isValid.subscribe(function(e){n.isValid(n.yearField.isValid()&&n.monthField.isValid()&&n.dayField.isValid())}.bind(n)),f=n.dayField.isValid.subscribe(function(e){n.isValid(n.yearField.isValid()&&n.monthField.isValid()&&n.dayField.isValid())}.bind(n)),m=n.yearField.isValid.subscribe(function(e){n.isValid(n.yearField.isValid()&&n.monthField.isValid()&&n.dayField.isValid())}.bind(n));return l=n.monthField.selectedVal.subscribe(function(e){e&&(n.formattedDate(n.getFormattedDate()),n.base.month(e.value)),n.isValid(n.yearField.isValid()&&n.monthField.isValid()&&n.dayField.isValid())}.bind(n)),u=n.dayField.selectedVal.subscribe(function(e){e&&(n.formattedDate(n.getFormattedDate()),n.base.day(e.value)),n.isValid(n.yearField.isValid()&&n.monthField.isValid()&&n.dayField.isValid())}.bind(n)),d=n.yearField.selectedVal.subscribe(function(e){e&&(n.formattedDate(n.getFormattedDate()),n.base.year(e.value)),n.isValid(n.yearField.isValid()&&n.monthField.isValid()&&n.dayField.isValid())}.bind(n)),n.getFormattedDate=function(){return n.yearField.selectedVal()&&n.monthField.selectedVal()&&n.dayField.selectedVal()?n.yearField.selectedVal().value+n.monthField.selectedVal().value+n.dayField.selectedVal().value:""}.bind(n),n.enhanceWithin=function(){document.enhanceWithin("."+n.idName+".date-component")}.bind(n),n.dispose=function(){p.dispose(),f.dispose(),m.dispose(),n.formattedDate&&(l.dispose(),u.dispose(),d.dispose())},n}return{viewModel:o,template:n}}),define("text!components/common/templates/dropdown-component/dropdown-component.html",[],function(){return'<div data-bind="attr: { id: idName+\'-dropDownComponent\', class: idName+\'-dropdown-component\'}, template: { afterRender: enhanceWithin }" >\n    <fieldset>\n        <legend class="clearfix">\n            <span class="small dark-grey left"  data-bind="attr: { for: idName }, text: titleText"></span>\n        </legend>\n        <div class="offscreen" data-bind="text:offScreenDesc"></div>\n        <label data-bind="text: labelCaption ,attr: { for: idName, class: \'small dark-grey left mb7\'}"></label>\n        <select tabindex="0" class="dropdown-2" data-bind="options: availableOptions,\n                    optionsCaption: optionsCaption, \n                    value: selectedVal, \n                    event: { change: dropdownValueChanged }, \n                    optionsText: optionsText, \n                    attr: { id: idName, \'aria-describedBy\': offScreenDesc, \'aria-invalid\': dropDownError().length > 0 ? \'true\' : \'false\', }">\n    </select>\n\n    <div class="error" data-bind="attr: {id: idName+\'-error\'}, if: dropDownError().length > 0" aria-live="polite" aria-atomic="true" aria-relevant="additions">\n    	<img alt="error" id="error-icon" src="images/inline-error.svg">\n    	<span data-bind="text: dropDownError()" />\n	</div>\n    </fieldset>\n</div>'}),define("components/common/templates/dropdown-component/dropdown-component",["knockout","text!./dropdown-component.html"],function(e,t){function n(e){var t=e||{};t.i18n=BankingJS.getAppContext().i18n,t.dropDownError=BankingJS.Utilities.DataBinder.createBinding(""),t.offScreenDesc=e.properties.offScreenDesc,t.availableOptions=e.base.options,t.isValid=e.base.isValid,t.selectedVal=e.base.selectedVal,t.idName=e.properties.id?e.properties.id:"dropdown_"+BankingJS.Utilities.Tools.generateId(7),t.titleText=e.properties.title?e.properties.title:"",t.optionsText=e.properties.optionsSelect?e.properties.optionsSelect:"",t.onEmptyErrorText=e.properties.onEmptyError,t.optionsCaption=e.properties.startCaption,t.labelCaption=e.properties.labelCaption;t.dropDownError.subscribe(function(e){t.isValid(0==e.length)}.bind(t));return t.dropdownValueChanged=function(){var e=BankingJS.Utilities.KnockOut.isObservable(t.availableOptions)?t.availableOptions():t.availableOptions;if(e&&e.length>0)if(t.selectedVal()){for(i=0;i<e.length&&t.availableOptions[0]&&t.availableOptions[0].selected;i++)t.availableOptions[i].selected(t.selectedVal()==t.availableOptions[i]);t.isValid(!0),t.dropDownError("")}else t.isValid(!1),t.dropDownError(t.onEmptyErrorText)},t.enhanceWithin=function(){document.enhanceWithin("."+t.idName+".dropdown-component")}.bind(t),t.dispose=function(){},t}return{viewModel:n,template:t}}),define("text!components/common/templates/card-verification-component/card-verification-component.html",[],function(){return"<div data-bind=\"attr: { id: idName+'-cardVerificationComponent', class: idName+'-card-verification-component'}, template: { afterRender: enhanceWithin }\">\n\n    <fieldset>\n        <legend class=\"clearfix\">\n            <span class=\"small dark-grey left mb7\" data-bind=\"attr: { for: idName }, text: titleText\" ></span>\n        </legend>\n        <!-- CVV2  -->\n        <div class=\"card-verification-field\">\n            <div data-bind=\"component: { name: 'input-component',\n                params: { base: cvv2Field,\n                            properties: {\n                                title: i18n.t('CVV2'),\n                                cssError: 'errorCardVerification',\n                                placeHolderText: i18n.t('Date.CVV2'),\n                                type: 'number',\n                                pattern: '\\\\d*',\n                                rules: cvv2Field.rules,\n                                 onEmptyError: i18n.t('Validation.Password')\n                            }\n                            }\n                            }\n                            \"/>\n        </div>\n        <!-- ExpiryDateMonth -->\n        <div class=\"card-verification-field\">\n            <div data-bind=\"component: { name: 'input-component',\n                params: { base: expiryDateMonthField,\n                            properties: {\n                                title: i18n.t('Common.Month'),\n                                 cssError: 'errorCardVerification',\n                                placeHolderText: i18n.t('Date.MM'),\n                                type: 'number',\n                                pattern: '\\\\d*',\n                                onEmptyError: i18n.t('Validation.Month')\n                            }\n                            }\n                            }\n                            \"/>\n        </div>\n        <!-- ExpiryDateYear -->\n        <div class=\"card-verification-field\">\n            <div data-bind=\"component: { name: 'input-component',\n                params: { base: expiryDateYearField,\n                            properties: {\n                                title: i18n.t('Common.Year'),\n                                 cssError: 'errorCardVerification',\n                                placeHolderText: i18n.t('Date.YY'),\n                                type: 'number',\n                                pattern: '\\\\d*',\n                                onEmptyError: i18n.t('Validation.Year')\n                            }\n                            }\n                            }\n                            \"/>\n        </div>\n\n        <!--\n        <div class=\"helper-text\">\n            <div data-bind=\"component: { name: 'helper-text-component',\n                params: {\n                            properties: {\n                                helperText: i18n.t('Validation.CVVHelper'),\n                            }\n                            }\n                 }\n                            \"/>\n        </div>\n        -->\n\n        <!--\n        <span data-bind=\"text: ko.toJSON($parents[0])\"/>\n        -->\n    </fieldset>\n</div>"}),define("components/common/templates/card-verification-component/card-verification-component",["knockout","text!./card-verification-component.html"],function(e,t){function n(e){var t=e||{},n=BankingJS.Utilities.Components;t.i18n=BankingJS.getAppContext().i18n,t.isValid=e.base.isValid,t.idName=e.properties.id?e.properties.id:"cardVerification_"+BankingJS.Utilities.Tools.generateId(7),t.titleText=e.properties.title?e.properties.title:"",t.formattedAnswer=e.properties.formattedAnswer?BankingJS.Utilities.KnockOut.isObservable(e.properties.formattedAnswer)?e.properties.formattedAnswer:BankingJS.Utilities.DataBinder.createArrayBinding(e.properties.formattedAnswer):BankingJS.Utilities.DataBinder.createArrayBinding("");var i=BankingJS.Utilities.DataBinder.createBinding("");t.cvv2Field=n.newInputField(i,t.isValid()),t.cvv2Field.rules([{ruleId:"cvv2",ruleValue:"^[0-9]{3}$",ruleDesc:t.i18n.t("Validation.InvalidCVV")}]);var o=BankingJS.Utilities.DataBinder.createBinding("");t.expiryDateMonthField=n.newInputField(o,t.isValid());var a=BankingJS.Utilities.DataBinder.createBinding("");t.expiryDateYearField=n.newInputField(a,t.isValid());var r,s,c,l=t.cvv2Field.isValid.subscribe(function(e){t.isValid(t.cvv2Field.isValid()&&t.expiryDateField.isValid())}.bind(t)),u=t.expiryDateMonthField.isValid.subscribe(function(e){t.isValid(t.cvv2Field.isValid()&&t.expiryDateMonthField.isValid()&&t.expiryDateYearField.isValid())}.bind(t)),d=t.expiryDateYearField.isValid.subscribe(function(e){t.isValid(t.cvv2Field.isValid()&&t.expiryDateMonthField.isValid()&&t.expiryDateYearField.isValid())}.bind(t));return r=t.cvv2Field.inputVal.subscribe(function(e){e&&t.formattedAnswer(t.getFormattedAnswer()),t.isValid(t.cvv2Field.isValid()&&t.monthField.isValid()&&t.dayField.isValid())}.bind(t)),s=t.expiryDateMonthField.inputVal.subscribe(function(e){e&&t.formattedAnswer(t.getFormattedAnswer()),t.isValid(t.cvv2Field.isValid()&&t.expiryDateMonthField.isValid()&&t.expiryDateYearField.isValid())}.bind(t)),c=t.expiryDateYearField.inputVal.subscribe(function(e){e&&t.formattedAnswer(t.getFormattedAnswer()),t.isValid(t.cvv2Field.isValid()&&t.expiryDateMonthField.isValid()&&t.expiryDateYearField.isValid())}.bind(t)),t.getFormattedAnswer=function(){return t.cvv2Field.inputVal()&&t.expiryDateMonthField.inputVal()&&t.expiryDateYearField.inputVal()?t.cvv2Field.inputVal()+t.expiryDateMonthField.inputVal()+t.expiryDateYearField.inputVal():""}.bind(t),t.enhanceWithin=function(){document.enhanceWithin("."+t.idName+".card-verification-component")}.bind(t),t.dispose=function(){l.dispose(),u.dispose(),d.dispose(),t.formattedAnswer&&(r.dispose(),s.dispose(),c.dispose())},t}return{viewModel:n,template:t}}),define("text!components/common/templates/title-description-component/title-description-component.html",[],function(){return'<div data-bind="attr: { id: \'titleComponent\', class: \'title-component\'}, template: { afterRender: enhanceWithin }" >\n	<div class="title" >\n        <h2 class="h5" tabindex="0"><span class="red title" data-bind="text: title"></span></h2>\n    </div>\n    <div class="subtitle" data-bind="if:subTitleAvailable" >\n        <h2 class="h5" tabindex="0"><span class="red title" data-bind="text: subTitle"></span></h2>\n    </div>\n    <div class="description" data-bind="if:descriptionAvailable()">\n       <span class="medium" data-bind="html: description" tabindex="0"></span>\n    </div>\n</div>'}),define("components/common/templates/title-description-component/title-description-component",["knockout","text!./title-description-component.html"],function(e,t){function n(t){var n=t||{};return n.descriptionAvailable=e.observable(null==n.description||void 0==n.description?!1:!0),n.i18n=BankingJS.getAppContext().i18n,n.subTitleAvailable=e.observable(null==n.subTitle||void 0==n.subTitle?!1:!0),n.enhanceWithin=function(){document.enhanceWithin(".title-component")}.bind(n),n.dispose=function(){},n}return{viewModel:n,template:t}}),define("text!components/common/templates/helper-text-component/helper-text-component.html",[],function(){return'<div data-bind="attr: { id: \'helperTextComponent\', class: \'helper-text-component\'}, template: { afterRender: enhanceWithin }" >\n\n    <div class="description">\n       <span class="small black" data-bind="html: description" tabindex="0"></span>\n    </div>\n</div>'}),define("components/common/templates/helper-text-component/helper-text-component",["knockout","text!./helper-text-component.html"],function(e,t){function n(e){var t=e||{};return t.i18n=BankingJS.getAppContext().i18n,t.helperText=e.properties.helperText?e.properties.helperText:"UA.Update",t.description=t.i18n.t(t.helperText),t.enhanceWithin=function(){document.enhanceWithin(".helper-text-component")}.bind(t),t.dispose=function(){},t}return{viewModel:n,template:t}}),define("text!components/common/templates/submit-component/submit-component.html",[],function(){return'<div data-bind="attr: { id: idName+\'-submitComponent\', class: idName+\'-submit-component\'}, template: { afterRender: enhanceWithin }" >\n    <div class="row login" id="rowin">\n        <div class="small-12 large-12">\n            <button type="submit" class="grey-button" tabindex="0" data-bind="text: label, attr:{ id: idName, disabled: !submitEnabled(), class: submitEnabled() ? \'red-button\':\'grey-button\'}"></button>\n        </div>\n    </div>\n</div>'}),define("components/common/templates/submit-component/submit-component",["knockout","text!./submit-component.html"],function(e,t){function n(e){var t=e||{};t.i18n=BankingJS.getAppContext().i18n,e.labelTranslated?t.label=e.labelTranslated:(t.submitText=e.labelText?e.labelText:"UA.Update",t.label=t.i18n.t(t.submitText)),t.dependentVars="undefined"==typeof e.data.dependentVars?BankingJS.Utilities.DataBinder.createArrayBinding([]):BankingJS.Utilities.KnockOut.isObservable(e.data.dependentVars)?e.data.dependentVars:BankingJS.Utilities.DataBinder.createArrayBinding(e.data.dependentVars),t.submitEnabled="undefined"==typeof e.data.submitEnabled?BankingJS.Utilities.DataBinder.createArrayBinding(!1):e.data.submitEnabled,BankingJS.Utilities.KnockOut.isObservable(e.data)&&(t.dependentVars="undefined"==typeof e.data().dependentVars?BankingJS.Utilities.DataBinder.createArrayBinding([]):BankingJS.Utilities.KnockOut.isObservable(e.data().dependentVars)?e.data().dependentVars:BankingJS.Utilities.DataBinder.createArrayBinding(e.data().dependentVars),t.submitEnabled="undefined"==typeof e.data().submitEnabled?!1:e.data().submitEnabled);var n=[];return t.updateDependentVars=function(){t.dependentVars()&&t.dependentVars().forEach(function(e){var i=e.subscribe(function(e,n){"undefined"!=typeof e&&(e?t.checkSubmitState():t.checkSubmitState())}.bind(t));n.push(i)})}.bind(t),t.checkSubmitState=function(){var e=!0;t.dependentVars().forEach(function(t){t()||(e=!1)}),t.submitEnabled(e),$("#newPasswordInputText")&&$("#newPasswordInputText").val()&&1===$("#newPasswordInputText").val().length&&t.submitEnabled(!1),$("#usernameInputText")&&$("#usernameInputText").val()&&1===$("#usernameInputText").val().length&&t.submitEnabled(!1)}.bind(t),t.flushDepedentVars=function(){t.dependentVars&&n.forEach(function(e){e.dispose()})}.bind(t),t.dependentVars.subscribe(function(e){t.flushDepedentVars(),t.updateDependentVars()}),t.enhanceWithin=function(){document.enhanceWithin("."+t.idName+".submit-component"),t.updateDependentVars()}.bind(t),t.dispose=function(){t.flushDepedentVars()}.bind(t),t}return{viewModel:n,template:t}}),define("text!components/common/templates/info-page-component/info-page-component.html",[],function(){return'<div id=\'infoPageComponent\' class=\'info-page-component\' data-bind="template:{afterRender:enhanceWithin}">\n\n	<div class="row">\n		<div class="large-12 small-12 small-centered large-centered columns">\n			<p data-bind="text:pageSubtitle"></p>\n		</div>\n	</div>\n	<div class="row">\n		<div class="large-10 small-10 small-centered large-centered columns">\n			<ul data-bind="foreach: contactNumbers">\n				<li class="contact-us-li">\n					<span data-bind="text:subTitle1"></span>\n\n					<a data-bind="attr:{href: contactNumberHref}, text:contactNumber"></a>\n\n					<br/>\n					\n					<span data-bind="text:subTitle2"></span>\n				</li>\n				\n				<br/>\n			</ul>\n		</div>\n\n	</div>\n	<div class="row">\n		<div class="large-12 small-12 small-centered large-centered columns" data-bind="foreach: errorCodes">\n		    	<p data-bind="text: errorCodeMessage"></p>\n    	</div>		\n	</div>\n</div>'}),define("components/common/templates/info-page-component/info-page-component",["knockout","text!./info-page-component.html"],function(e,t){function n(e){var t=e.data||{};return t.enhanceWithin=function(){document.enhanceWithin(".info-page-component")}.bind(t),t}return{viewModel:n,template:t}}),define("text!components/common/templates/recaptcha-component/recaptcha-component.html",[],function(){return'<div class="recaptcha-container" data-bind="visible: enableReCaptcha()">\n	<div id=\'recaptcha\' class="g-recaptcha"\n	          data-sitekey="6LdF3TQUAAAAADGxnXLdWP_X_VvDbwaevspBMcB_"\n	          data-callback="onSubmit"\n	          data-size="invisible">\n	</div>\n</div>';
}),define("components/common/templates/recaptcha-component/recaptcha-component",["knockout","text!./recaptcha-component.html"],function(e,t){function n(e){var t=e||{};return t.enableReCaptcha=e.vm.enableReCaptcha,t.enhanceWithin=function(){document.enhanceWithin(".g-recaptcha")}.bind(t),t}return{viewModel:n,template:t}}),define("text!components/user-management/manage-credentials/manage-credentials.html",[],function(){return'<div class="manage-credentials component-container desktop-ui" id="manageCredentials" data-bind="template: { afterRender: enhanceWithin}">\n    <form data-abide="ajax" id="manageUsernameForm" autocomplete="off">\n        <div class="medium-12 columns desktop-ui" id="username-container" data-bind="if: isUsernameVisible()">\n            <label tabindex="0" class="small dark-grey mb7" for="usernameInputText" data-bind="text: i18n.t(\'UA.Username\')"></label>\n            <div class="usernameText" data-bind="if: !allowUpdateUsername()">\n                <label tabindex="0" class="small black mb20" data-bind="text: userIdNew"></label>\n            </div>\n             <div data-bind="if: allowUpdateUsername()" >\n                <div id="userIdSuggestion" tabindex="0" data-bind="visible: userSuggestionList().length > 0,\n                 attr: { \'aria-hidden\' : userSuggestionList().length <= 0 }" class="mt10"\n                     aria-live="assertive" aria-atomic="true" aria-relevant="additions">\n                    <span id="userIdErrMsg" tabindex="0"\n                             class="small red displayNone" data-bind="\n                             attr: { \'aria-hidden\' : userSuggestionList().length <= 0  },\n                             css: { displayNone: userSuggestionList().length <= 0 },text: i18n.t(\'UA.UsernameIsNotAvailableTry\')"></span>\n                    <ul data-bind="foreach: userSuggestionList">\n                        <li tabindex="0" ><a href class="small" data-bind="click: $parent.updateSuggestion" tabindex="0">\n                            <span data-bind="text: $data.suggestion">, </span>\n                        </a></li>\n                    </ul>\n                </div>\n                <div data-bind="component: { name: \'input-component\', \n                    params: { base: usernameField,\n                            properties: {\n                                id: \'usernameInputText\',\n                                title: \'\',\n                                placeHolderText: i18n.t(\'ReserveUserName.UserName\'),\n                                type: \'text\',\n                                rules: usernameField.rules,\n                                secondaryRules: userRules,\n                                executeOnBlur: updateSuggestion,\n                                extraDescribeBy: \'\',\n                                onEmptyError: i18n.t(\'Validation.UsernameCannotBeEmpty\')\n                            }}}" />\n            </div>\n        </div>\n\n<!--\n        <div class="radioQuestionTextUserId" data-bind="visible:isEnrollmentVisible()" >\n            <label class="medium" data-bind="text: i18n.t(\'ReserveUserName.EnrollmentText\')"></label>\n        </div>\n        -->\n\n\n      <div class="medium-12 columns desktop-ui" id="username-container" data-bind="visible: isPasswordRadioVisible()">\n          <p/>\n          <div class="radioQuestionTextUserId">\n              <label  class="medium" data-bind="text: RadioQuestion"></label>\n          </div>\n          <fieldset>\n              <input  id="password-reset-yes" type="radio" name="password-reset" value="password-reset-Yes">\n              <label  for="password-reset-yes" data-bind= "text: PasswordResetYes"></label><br>\n              <input  id="password-reset-no" type="radio" name="password-reset" value="password-reset-No">\n              <label ta for="password-reset-no" data-bind= "text:PasswordResetNo"></label>\n          </fieldset>\n\n          <p/>\n     </div>\n\n        <div id="password-container" data-bind="visible: allowUpdatePassword()">\n        <!-- \n            <div id="passwordPlaceHolder" data-bind="visible: passwdPlaceholderVisible(), \n                component: { name: \'input-component\', \n                params: { base: passwordPlaceholder,\n                          properties: {\n                                id: \'oldPasswordPlaceHolderText\',\n                                title: i18n.t(\'UA.Password\'),\n                                 placeHolderText: i18n.t(\'ReserveUserName.PasswordField\'),\n                                placeholder: \'********\'\n                          }}}" />\n 		-->\n            <!-- Old Current Password Start -->\n            <div data-bind="if: (allowCurrentPassword && !passwdPlaceholderVisible())">\n            <div data-bind="component: { name: \'input-component\',\n                    params: { base: currentPasswordField,\n                              properties: {\n                                    id: \'currentPasswordInputText\',\n                                    title: i18n.t(\'UA.OldPassword\'),\n                                    placeHolderText: i18n.t(\'UA.OldPassword\'),\n                                    type: \'password\',\n                                    rules: currentPasswordField.rules,\n                                    onEmptyError: i18n.t(\'Validation.PasswordCannotBeEmpty\')\n                              }}}" />\n            </div>\n            <!-- Old Current Password Finish -->\n            \n            <div class="row" id="newPassword" data-bind="if: !passwdPlaceholderVisible()">\n                <div class="medium-6 columns columns-left desktop-ui" data-bind="component: { name: \'input-component\', \n                    params: { base: newPasswordField,\n                              properties: {\n                                    id: \'newPasswordInputText\',\n                                    title: i18n.t(\'UA.NewPassword\'),\n                                    placeHolderText: i18n.t(\'ReserveUserName.PasswordField\'),\n                                    type: \'password\',\n                                    rules: newPasswordField.rules,\n                                    secondaryRules: passwordRules,\n                                    dependents: usernameField.inputVal,\n                                     submitButton: submitButtonComponent,\n                                    onEmptyError: i18n.t(\'Validation.PasswordCannotBeEmpty\')\n                              }}}" />\n\n                <div class="medium-6 columns columns-right desktop-ui" data-bind="component: { name: \'input-component\', \n                    params: { base: confirmPasswordField,\n                              properties: {\n                                    id: \'confirmPasswordInputText\',\n                                    title: i18n.t(\'UA.ConfirmNewPassword\'),\n                                    placeHolderText: i18n.t(\'ReserveUserName.ConfirmPasswordField\'),\n                                    type: \'password\',\n                                    rules: confirmPasswordField.rules,\n                                    dependents: newPasswordField.inputVal,\n                                        submitButton: submitButtonComponent,\n                                    onEmptyError: i18n.t(\'Validation.PasswordCannotBeEmpty\')\n                              }}}" />\n            </div>\n        </div>\n        <submit-component params="idName: \'confirmButton\', labelText: submitButtonTitle, data: submitButtonComponent" />\n    </form>\n</div>'}),define("components/user-management/manage-credentials/manage-credentials-validations",["jquery","foundation"],function(e,t){return function(t){var n=BankingJS.getAppContext().i18n;t.newPasswordField.rules([{ruleId:"notMatchUsername",ruleValue:"^dyn_var$",ruleFlags:"i",ruleDynamicVar:t.usernameField.inputVal,ruleDesc:n.t("Validation.DifferentThanUsername")}]),t.confirmPasswordField.rules([{ruleId:"notMatchConfirmPassword",ruleValue:"^(?!dyn_var$).*",ruleDynamicVar:t.newPasswordField.inputVal,ruleDesc:n.t("Validation.PasswordMatchFail")}]),e("#newPasswordInputText, #confirmPasswordInputText").bind("blur",function(){""==e("#newPasswordInputText").val()&&(t.passwdMandatory()||(t.passwdPlaceholderVisible(!0),t.enableSubmit(t.userIdValid)))}),e("#currentPasswordInputText").bind("blur",function(){t.allowCurrentPassword&&e("#newPasswordInputText").trigger("change")}),e("input[type=checkbox], input[type=radio]").click("keyup, change",function(){var n=e(this).val();"password-reset-No"===n?(t.newPasswordField&&t.newPasswordField.inputVal(""),t.confirmPasswordField.inputVal(""),t.allowUpdatePassword(!1),t.submitButtonComponent.submitEnabled(!0),t.passwdPlaceholderVisible(!0),BankingJS.getAppContext().getUser().setIsPasswordIgnored("true")):(t.passwdPlaceholderVisible(!1),t.submitEnableTrigger([t.currentPasswordField.isValid,t.confirmPasswordField.isValid,t.newPasswordField.isValid,t.usernameField.isValid,t.usernameNotSameAsOld]),e("#oldPasswordPlaceHolderText").focus(),e("#newPasswordInputText").focus(),t.allowUpdatePassword(!0),BankingJS.getAppContext().getUser().setIsPasswordIgnored("false"),e("div#passwordPlaceHolder").bind("click",function(){t.passwdPlaceholderVisible(!1),e("#newPasswordInputText").focus(),t.submitEnableTrigger([t.currentPasswordField.isValid,t.confirmPasswordField.isValid,t.newPasswordField.isValid,t.usernameField.isValid,t.usernameNotSameAsOld])}),t.submitButtonComponent.submitEnabled(!1))})}}),define("components/user-management/manage-credentials/manage-credentials",["knockout","text!./manage-credentials.html","./manage-credentials-validations"],function(e,t,n){function i(e){var t=BankingJS.ViewModels.UserManagement.ManageCredentials.ManageCredentialsSetup,i=BankingJS.Utilities.Components,o=new t;o.i18n=BankingJS.getAppContext().i18n,o.allowUpdateUsername=BankingJS.Utilities.DataBinder.createBinding(!1),o.allowUpdatePassword=BankingJS.Utilities.DataBinder.createBinding(!1),o.isUsernameVisible=BankingJS.Utilities.DataBinder.createBinding(!1),o.usernameNotSameAsOld=BankingJS.Utilities.DataBinder.createBinding(!0),o.submitEnableTrigger=BankingJS.Utilities.DataBinder.createBinding([!0]),o.userIdOld=BankingJS.Utilities.DataBinder.createBinding(""),o.userIdNew=BankingJS.Utilities.DataBinder.createBinding(""),o.userId()?o.RadioQuestion=BankingJS.Utilities.DataBinder.createBinding(e.vm.RadioQuestion?e.vm.RadioQuestion:o.i18n.t("ReserveUserName.RadioQuestion")):o.RadioQuestion=BankingJS.Utilities.DataBinder.createBinding(e.vm.RadioQuestion?e.vm.RadioQuestion:o.i18n.t("ReserveUserName.RadioQuestionNoUserId")),o.PasswordResetYes=BankingJS.Utilities.DataBinder.createBinding(e.vm.PasswordResetYes?e.vm.PasswordResetYes:o.i18n.t("ReserveUserName.PasswordResetYes")),o.PasswordResetNo=BankingJS.Utilities.DataBinder.createBinding(e.vm.PasswordResetNo?e.vm.PasswordResetNo:o.i18n.t("ReserveUserName.PasswordResetNo")),o.isPasswordRadioVisible=BankingJS.Utilities.DataBinder.createBinding(!1),o.isEnrollmentVisible=BankingJS.Utilities.DataBinder.createBinding(!1),o.validatingBlur=!1,o.hitSubmit=!1,o.submitButtonTitle=e.vm.submitButtonTitle?e.vm.submitButtonTitle:o.i18n.t("UA.Update"),o.allowCurrentPassword=!0,o.updateAllValues=function(){if(o.allowUpdateUsernameIfBlank="undefined"==typeof e.vm.allowUpdateUsernameIfBlank?!1:e.vm.allowUpdateUsernameIfBlank&&!o.userId(),o.allowUpdateUsername("undefined"==typeof e.vm.allowUpdateUsername?o.allowUpdateUsernameIfBlank:e.vm.allowUpdateUsername),o.allowUpdatePassword("undefined"==typeof e.vm.allowUpdatePassword?!o.hasUniversalAccount():e.vm.allowUpdatePassword),o.allowCurrentPassword="undefined"==typeof e.vm.allowCurrentPassword?!o.hasUniversalAccount()&&e.vm.changeTempPassword:e.vm.allowCurrentPassword,o.placeHolderOnlyWhenUsername="undefined"==typeof e.vm.placeHolderOnlyWhenUsername?!0:e.vm.placeHolderOnlyWhenUsername&&o.userId(),o.forceVisiblePlaceholder="undefined"==typeof e.vm.forceVisiblePlaceholder?o.hasUniversalAccount():e.vm.forceVisiblePlaceholder&&o.placeHolderOnlyWhenUsername,o.forceAvoidDisplayUsername="undefined"==typeof e.vm.forceAvoidDisplayUsername?!1:e.vm.forceAvoidDisplayUsername,BankingJS.Utilities.KnockOut.isObservable(e.vm.contentText)&&"user-management/recover/recover-reserve-username"!=BankingJS.getAppContext().getUser().getPath()&&e.vm.contentText(o.i18n.t("ReserveUserName.Description")),"user-management/recover-credentials"===BankingJS.getAppContext().getUser().getPath()&&(e.vm.contentText(o.i18n.t("Recover.DescriptionNoUserId")),e.vm.titleText(o.i18n.t("Recover.UsernameTitleNoUserId"))),BankingJS.getAppContext().getUser().setIsPasswordIgnored("false"),"user-management/reserve-username"===BankingJS.getAppContext().getUser().getPath()||"user-management/recover/recover-reserve-username"===BankingJS.getAppContext().getUser().getPath()){var t=BankingJS.getAppContext().getUser().getEnrolement();o.isPasswordRadioVisible(!0),o.allowUpdatePassword(!1),"false"!==t&&t?(e.vm.contentText(o.i18n.t("ReserveUserName.EnrollmentText")),o.isPasswordRadioVisible(!1),o.allowUpdatePassword(!0),o.isEnrollmentVisible(!0)):(o.isEnrollmentVisible(!1),o.userId()||(o.isPasswordRadioVisible(!1),o.allowUpdatePassword(!0)))}else if("user-management/recover-credentials"===BankingJS.getAppContext().getUser().getPath()){var t=BankingJS.getAppContext().getUser().getEnrolement();o.isPasswordRadioVisible(!1),o.allowUpdatePassword(!0),o.passwdPlaceholderVisible(!1),"false"!==t&&t?o.isEnrollmentVisible(!0):o.isEnrollmentVisible(!1)}o.isUsernameVisible(!o.forceAvoidDisplayUsername&&(o.allowUpdateUsername()||o.userId()||o.allowUpdateUsernameIfBlank)),o.passwdPlaceholderVisible(o.forceVisiblePlaceholder||o.hasUniversalAccount()),o.passwdMandatory(!o.forceAvoidDisplayUsername||o.forceAvoidDisplayUsername&&(!o.hasUniversalAccount()||o.forceVisiblePlaceholder)),"user-management/recover-credentials"===BankingJS.getAppContext().getUser().getPath()&&(o.passwdPlaceholderVisible(!1),o.allowUpdatePassword(!0)),("user-management/manage-password"===BankingJS.getAppContext().getUser().getPath()||"user-management/temp-password"===BankingJS.getAppContext().getUser().getPath())&&(o.passwdPlaceholderVisible(!1),o.allowUpdatePassword(!0)),o.userIdOld(o.userId()),o.userIdNew(o.userId()),o.allowUpdateUsername()?o.usernameNotSameAsOld(!1):o.usernameNotSameAsOld(!0),o.userId()?o.RadioQuestion="undefined"==typeof e.vm.RadioQuestion?o.i18n.t("ReserveUserName.RadioQuestion"):e.vm.RadioQuestion:o.RadioQuestion="undefined"==typeof e.vm.RadioQuestion?o.i18n.t("ReserveUserName.RadioQuestionNoUserId"):e.vm.RadioQuestion,o.PasswordResetYes="undefined"==typeof e.vm.PasswordResetYes?o.i18n.t("ReserveUserName.PasswordResetYes"):e.vm.PasswordResetYes,o.PasswordResetNo="undefined"==typeof e.vm.PasswordResetNo?o.i18n.t("ReserveUserName.PasswordResetNo"):e.vm.PasswordResetNo,o.passwdPlaceholderVisible()&&!o.allowUpdateUsername()&&o.isUsernameVisible()&&o.submitEnableTrigger([]),("user-management/temp-password"===BankingJS.getAppContext().getUser().getPath()||"user-management/recover-credentials"===BankingJS.getAppContext().getUser().getPath())&&o.isUsernameVisible(!1)}.bind(o),o.updateAllValues();var a=o.dataLoaded.subscribe(function(e){o.updateAllValues(),o.allowCurrentPassword&&!o.passwdPlaceholderVisible()&&$("div").removeClass("medium-6 columns columns-left columns-right desktop-ui")}),r=o.passwdPlaceholderVisible.subscribe(function(e){setTimeout(function(){$("#newPasswordInputText").focus()},10)});return o.moveFocusOnUserIdErrMsg=function(){$("#userIdSuggestion").focus()},o.updateSuggestion=function(e){var t=window.navigator.userAgent,n=t.indexOf("MSIE"),i=!1;if((n>0||navigator.userAgent.match(/Trident\/7\./))&&(i=!0),0==$(".input-1 > div").size())return void o.usernameField.isValid(!1);if(o.validatingBlur=!0,e.suggestion&&(e=e.suggestion,"user-management/manage-username"===BankingJS.getAppContext().getUser().getPath()&&o.submitButtonComponent.submitEnabled("true")),o.usernameNotSameAsOld(i===!0?!0:e!=o.userIdOld()),"usernameInputText-error"!=$(".input-1 > div")[0].id){if(o.usernameField.inputVal(e),e!=o.userIdOld()&&(o.userSuggestionList([]),o.checkUsernameAvailability(e,o.moveFocusOnUserIdErrMsg),o.userIdOld(e)),o.userSuggestionList().length>0&&o.usernameField.isValid(!1),o.validatingBlur=!1,o.hitSubmit){var a={namespace:"abide.fndtn"};o.formSubmit(a)}return void(o.hitSubmit=!1)}setTimeout(function(){if(o.usernameField.inputVal(e),o.userSuggestionList([]),o.usernameField.isValid()&&(o.checkUsernameAvailability(e,o.moveFocusOnUserIdErrMsg),$("#userIdSuggestion").each(function(){$(this).insertAfter($(this).parent().find("input#usernameInputText"))}),o.userIdOld(e)),o.userSuggestionList().length>0&&o.usernameField.isValid(!1),o.validatingBlur=!1,o.hitSubmit){var t={namespace:"abide.fndtn"};o.formSubmit(t)}o.hitSubmit=!1},200)}.bind(o),o.usernameField=i.newInputField(o.userIdNew,!o.allowUpdateUsername()),o.newPasswordField=i.newInputField("",!o.allowUpdatePassword()),o.confirmPasswordField=i.newInputField("",!o.allowUpdatePassword()),o.currentPasswordField=i.newInputField("",!o.allowCurrentPassword),o.passwdPlaceholderVisible()&&!o.allowUpdateUsername()&&o.isUsernameVisible()?o.submitEnableTrigger([]):"user-management/manage-username"===BankingJS.getAppContext().getUser().getPath()?(o.submitEnableTrigger([o.usernameField.isValid]),BankingJS.getAppContext().getUser().getUsername()||o.submitEnableTrigger([o.currentPasswordField.isValid,o.confirmPasswordField.isValid,o.newPasswordField.isValid,o.usernameField.isValid])):("user-management/temp-password"===BankingJS.getAppContext().getUser().getPath()&&o.currentPasswordField.isValid(!0),("user-management/reserve-username"===BankingJS.getAppContext().getUser().getPath()||"user-management/recover/recover-reserve-username"===BankingJS.getAppContext().getUser().getPath())&&o.usernameField.isValid(!0),o.submitEnableTrigger([o.currentPasswordField.isValid,o.confirmPasswordField.isValid,o.newPasswordField.isValid,o.usernameField.isValid])),o.submitButtonComponent=i.newSubmitButton(o.submitEnableTrigger,"UA.Update",!1),o.executeSubmit=e.vm.execute,o.formSubmit=function(e){return o.hitSubmit=!0,"abide.fndtn"!==e.namespace||o.validatingBlur||(o.executeSubmit(o.usernameField.inputVal(),o.newPasswordField.inputVal(),o.currentPasswordField.inputVal()),o.hitSubmit=!1),!1}.bind(o),o.enhanceWithin=function(){document.enhanceWithin(".manage-credentials"),$("#manageCredentials").on("valid.fndtn.abide",this.formSubmit),new n(o)}.bind(o),o.dispose=function(){r.dispose(),a.dispose()}.bind(o),o}return{viewModel:i,template:t}}),define("text!components/common/loading/loading.html",[],function(){return'<div data-bind="template: { afterRender: enhanceWithin}, visible: isLoading" class="loading-container" role="alert" aria-live="assertive" tabindex="0">\n	<div class="loading" id="load" aria-label="Loading"><div style="color: transparent">Loading...</div></div>\n</div>'}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("spin",t):e.Spinner=t()}(this,function(){function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var o=["opacity",t,~~(100*e),n,i].join("-"),a=.01+n/i*100,r=Math.max(1-(1-e)/t*(100-a),e),s=l.substring(0,l.indexOf("Animation")).toLowerCase(),c=s&&"-"+s+"-"||"";return d[o]||(p.insertRule("@"+c+"keyframes "+o+"{0%{opacity:"+r+"}"+a+"%{opacity:"+e+"}"+(a+.01)+"%{opacity:1}"+(a+t)%100+"%{opacity:"+e+"}100%{opacity:"+r+"}}",p.cssRules.length),d[o]=1),o}function i(e,t){var n,i,o=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<u.length;i++)if(n=u[i]+t,void 0!==o[n])return n;return void 0!==o[t]?t:void 0}function o(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function r(e,t){return"string"==typeof e?e:e[t%e.length]}function s(e){this.opts=a(e||{},s.defaults,f)}function c(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}p.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,i){function a(){return o(n("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function s(e,s,c){t(p,t(o(a(),{rotation:360/i.lines*e+"deg",left:~~s}),t(o(n("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:c}),n("fill",{color:r(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var c,l=i.length+i.width,u=2*l,d=2*-(i.width+i.length)+"px",p=o(a(),{position:"absolute",top:d,left:d});if(i.shadow)for(c=1;c<=i.lines;c++)s(c,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(c=1;c<=i.lines;c++)s(c);return t(e,p)},s.prototype.opacity=function(e,t,n,i){var o=e.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&(o=o.childNodes[t+i],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=n))}}var l,u=["webkit","Moz","ms","O"],d={},p=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};s.defaults={},a(s.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,a=n.el=o(e(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});if(o(a,{left:i.left,top:i.top}),t&&t.insertBefore(a,t.firstChild||null),a.setAttribute("role","progressbar"),n.lines(a,n.opts),!l){var r,s=0,c=(i.lines-1)*(1-i.direction)/2,u=i.fps,d=u/i.speed,p=(1-i.opacity)/(d*i.trail/100),f=d/i.lines;!function m(){s++;for(var e=0;e<i.lines;e++)r=Math.max(1-(s+(i.lines-e)*f)%d*p,i.opacity),n.opacity(a,e*i.direction+c,r,i);n.timeout=n.el&&setTimeout(m,~~(1e3/u))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,a){function s(t,n){return o(e(),{position:"absolute",width:a.length+a.width+"px",height:a.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*u+a.rotate)+"deg) translate("+a.radius+"px,0)",borderRadius:(a.corners*a.width>>1)+"px"})}for(var c,u=0,d=(a.lines-1)*(1-a.direction)/2;u<a.lines;u++)c=o(e(),{position:"absolute",top:1+~(a.width/2)+"px",transform:a.hwaccel?"translate3d(0,0,0)":"",opacity:a.opacity,animation:l&&n(a.opacity,a.trail,d+u*a.direction,a.lines)+" "+1/a.speed+"s linear infinite"}),a.shadow&&t(c,o(s("#000","0 0 4px #000"),{top:"2px"})),t(i,t(c,s(r(a.color,u),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var m=o(e("group"),{behavior:"url(#default#VML)"});return!i(m,"transform")&&m.adj?c():l=i(m,"animation"),s}),define("components/common/loading/loading",["knockout","text!./loading.html","jquery","spin"],function(e,t,n,i){function o(t){a=this,this.isLoading=e.observable(t.isLoading()),this.loadingSubscription=t.isLoading.subscribe(function(e){a.isLoading(e)})}var a;return o.prototype.dispose=function(){this.loadingSubscription.dispose()},o.prototype.enhanceWithin=function(){var e={lines:13,length:30,width:10,radius:24,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"},t=document.getElementById("load");new i(e).spin(t)},{viewModel:o,template:t}}),define("text!components/authentication/login/login.html",[],function(){return'<div data-bind="template: { afterRender: enhanceWithin }" class="login-container component-container">\n	<div>\n		<img id="loginLogo" class="login-logo" data-bind="attr: {src: logoSVG, onerror:logoPNG}" />\n	</div>\n	<div id="browser-warning-frame"></div>\n	<form id="loginForm" method="post" data-abide="ajax" autocomplete="off">\n		<div class="margin">\n			<div class="clearfix">\n				<label id="cardNumberInputLabel" class="login small dark-grey left" for="cardNumberInputText" data-bind="text: lbl.CardNumber"></label>\n				<label id="saveCheckLabel" class="small dark-grey right" for="saveCheck" data-bind="text: lbl.SaveToggle"></label>\n			</div>\n			<div class="input-1">\n				<div>\n					<!-- ko ifnot: disableCardInput -->\n					<input id="cardNumberInputText" type="text" class="login-card-number small" autocomplete="off" />\n					<!-- /ko -->\n					<!-- ko if: disableCardInput -->\n					<input id="cardNumberInputText" type="text" class="login-card-number small" data-bind="value: cardNumber, disable:true" />\n					<!-- /ko -->\n				</div>\n				<div class="save-card" >\n					<input id="saveCheck" type=\'checkbox\' class="save-card" name=\'saveCheck\' data-bind="checked: cardSaved" />\n					<label tabindex="0" id="saveCheckLabelStar" class="save-card" for="saveCheck"></label>\n				</div>\n			</div>\n			<label id="passwordInputLabel" class="small dark-grey" for="passwordInputText" data-bind="text: lbl.Password"></label>\n			<div>\n				<input id="passwordInputText" type="password" class="password"  autocomplete="off" />\n			</div>\n		</div>\n		<div class="row login" id="signin">\n			<div class="large-12 columns">\n				<button type="submit" id="signOnButton" class="red-button mb20" data-bind="text: lbl.SignIn"></button>\n			</div>\n			<div class="large-12 columns c">\n				<a href="#" id="resetPasswordURL" class="clickable input-action small blue" data-bind="click: executeRecover, text: lbl.ResetPassword"></a>\n			</div>\n		</div>\n	</form>\n	<div class="block-icons">\n		<ul class="small-block-grid-1" data-bind="foreach: observableLoginLinks">\n			<li alt="$parent.i18n.t(actionDescription)">\n				<a  href="#" data-bind="click: execute, text: $parent.i18n.t(actionDescription), css: actionIcon" class="clickable naviLinks login-footer-links extra-small black">\n					<div class="login-footer-links extra-small blue"  data-bind=""></div>\n				</a>\n			</li>\n		</ul>\n	</div>\n	<!-- Beta modal -->\n	<div id="welcomeBetaModal" class="reveal-modal" data-reveal role="dialog" aria-labelledby="title-text" tabindex="-1">\n		<h2 id="modalTitle title-text"><span id="welcomeTitle" data-bind="text: lbl.WelcomeTitle, hasFocus: true" tabindex="0"></span></h2>\n		<p class="lead body-text"><span data-bind="text: lbl.WelcomeBody"></span></p>\n		<ul class="modalList" data-tab>\n			<li class="modalBullet"><a href="#" data-bind="attr: { href: url.classicMobileSiteURL }, text: lbl.ClassicSite"></a></li>\n			<li class="modalBullet"><a href="#" data-bind="attr: { href: url.mobileAppsURL }, text: lbl.MobileApps"></a></li>\n			<li class="modalBullet"><a href="#" data-bind="attr: { href: url.scotiaOnlineURL }, text: lbl.ScotiaOnline"></a></li>\n		</ul>\n		<button id="search" data-bind="click: function (data, event) { $(\'#welcomeBetaModal\').foundation(\'reveal\', \'close\'); }" class="red-button mt20"><span data-bind="text: lbl.WelcomeSubmit"></span></button>\n		<button id="closeWelcomeModal" class="close-reveal-modal welcome-modal" title="close" aria-label="Close Alert"><span aria-hidden="true">&#215;</span></button>\n	</div>\n	<div id="language" class="radio-toolbar">\n		<input type="radio" id="radio1" class="show-for-sr" name="radios" value="en" aria-label="English" checked data-bind="checked: language"><button for="radio1" data-bind="click: toggleLanguage">EN</button><input type="radio" id="radio2" lang="fr" name="radios" class="show-for-sr" value="fr" aria-label="Francais" data-bind="checked: language"><button for="radio2" data-bind="click: toggleLanguage">FR</button>\n	</div>\n</div>\n'}),define("components/authentication/login/login-validation",["jquery","foundation"],function(e,t){return function(t){t.i18n;e("#saveCheckLabelStar").keypress(function(t){(0===t.keyCode||32===t.keyCode)&&(t.preventDefault(),e("#saveCheck").click())})}}),define("components/authentication/login/login",["knockout","text!./login.html","./login-validation"],function(e,t,n){function i(){function t(){/iphone|ipad/gi.test(navigator.appVersion);r(),c(),u.disableCardInput()&&$("#cardNumberInputText").prop("disabled",!0)}function i(e){return e&&u.userKey?!0:(u.unsaveCard(),!1)}function o(){return"HW"==BankingJS.getAppContext().getUser().getBranding()?"Images.login-logoHollisSVG":"Images.login-logoSVG"}function a(){return"HW"==BankingJS.getAppContext().getUser().getBranding()?"Images.login-logoHollisPNG":"Images.login-logoPNG"}function r(){u.lbl.CardNumber(d.t("Login.CardNumber")),u.lbl.Password(d.t("Login.Password")),u.lbl.SaveToggle(d.t("Login.SaveToggle")),u.lbl.ResetPassword(d.t("Login.ResetPassword")),u.lbl.SignIn(d.t("Login.SignIn")),u.lbl.ContactUs(d.t("ContactUs")),u.lbl.Locator(d.t("Login.Locator")),u.lbl.Security(d.t("Login.Security")),u.lbl.Activate(d.t("Login.Activate")),u.lbl.WelcomeTitle(d.t("Login.WelcomeTitle")),u.lbl.WelcomeBody(d.t("Login.WelcomeBody")),u.lbl.WelcomeSubmit(d.t("Login.WelcomeSubmit")),u.lbl.ClassicSite(d.t("Login.ClassicSite")),u.lbl.MobileApps(d.t("Login.MobileApps")),u.lbl.ScotiaOnline(d.t("Login.ScotiaOnline")),u.logoSVG(d.t(u.mainLogoSVG)),u.logoPNG(d.t(u.mainLogoPNG)),u.url.locatorURL(d.t("URLs.locator")),u.url.classicMobileSiteURL(d.t("URLs.classicMobileSite")),u.url.securityAndPrivacyURL(d.t("URLs.securityAndPrivacy")),u.url.activateMobileBankingURL(d.t("URLs.activateMobileBanking")),u.url.resetPasswordURL(d.t("URLs.resetPassword")),u.url.mobileAppsURL(d.t("URLs.mobileApps")),u.url.scotiaOnlineURL(d.t("URLs.scotiaOnline"));var e=[];u.observableLoginLinks().forEach(function(t){e.push(t)}),u.observableLoginLinks.removeAll(),u.observableLoginLinks(e),resizeTimer=setInterval(function(){s()},10)}function s(){$(".login-logo").width($(".login-logo").width()-1),$(".login-logo").width("60%"),document.getElementById("loginLogo")&&clearInterval(resizeTimer)}function c(){u.validationMsg.CardNumber(d.t("Validation.CardNumber")),u.validationMsg.Password(d.t("Validation.Password"))}var l=BankingJS.getAppContext(),u=BankingJS.ViewModels.Authentication.Login.LoginSetup,d=l.i18n;BankingJS.getAppContext().getUser().setLoggedInAcceptedTerms(!1),u=new u,u.i18n=d,l.geti18n(t),u.setupValidation=function(){new n(u)}.bind(u),u.language=BankingJS.Utilities.DataBinder.createBinding(d.lng().substring(0,2)),u.disableCardInput=BankingJS.Utilities.DataBinder.createBinding(i(BankingJS.getAppContext().getUser().getMaskedCardNumber()));u.cardSaved.subscribe(function(e){u.disableCardInput(i(e))});u.mainLogoSVG=o(),u.mainLogoPNG=a(),u.logoSVG=e.observable(d.t(o())),u.logoPNG=e.observable(d.t(a())),u.lbl={CardNumber:e.observable(d.t("Login.CardNumber")),Password:e.observable(d.t("Login.Password")),SaveToggle:e.observable(d.t("Login.SaveToggle")),ResetPassword:e.observable(d.t("Login.ResetPassword")),SignIn:e.observable(d.t("Login.SignIn")),ContactUs:e.observable(d.t("ContactUs")),Locator:e.observable(d.t("Login.Locator")),Security:e.observable(d.t("Login.Security")),Activate:e.observable(d.t("Login.Activate")),WelcomeTitle:e.observable(d.t("Login.WelcomeTitle")),WelcomeBody:e.observable(d.t("Login.WelcomeBody")),WelcomeSubmit:e.observable(d.t("Login.WelcomeSubmit")),ClassicSite:e.observable(d.t("Login.ClassicSite")),MobileApps:e.observable(d.t("Login.MobileApps")),ScotiaOnline:e.observable(d.t("Login.ScotiaOnline"))};var p=[];u.loginLinks.forEach(function(e){p.push(e)}),u.url={locatorURL:e.observable(d.t("URLs.locator")),classicMobileSiteURL:e.observable(d.t("URLs.classicMobileSite")),securityAndPrivacyURL:e.observable(d.t("URLs.securityAndPrivacy")),activateMobileBankingURL:e.observable(d.t("URLs.activateMobileBanking")),resetPasswordURL:e.observable(d.t("URLs.resetPassword")),mobileAppsURL:e.observable(d.t("URLs.mobileApps")),scotiaOnlineURL:e.observable(d.t("URLs.scotiaOnline"))},
u.observableLoginLinks=e.observableArray(p),u.executeRecover=function(){var e=u.resetLink[0];e.execute()},u.validationMsg={CardNumber:e.observable(d.t("Validation.CardNumber")),Password:e.observable(d.t("Validation.Password"))};var f=u.language.subscribe(function(e){d.setLng(e,function(e){u.mainLogoSVG=o(),u.mainLogoPNG=a(),r(),c()}.bind(u))}.bind(u));u.toggleLanguage=function(){var e=BankingJS.getAppContext().getUser().isLoginPageLoaded();if(e){$('input[type="radio"]').not(":checked").prop("checked",!0);var t=$("input[name=radios]:checked").val();d.setLng(t,function(e){u.mainLogoSVG=o(),u.mainLogoPNG=a(),r(),c(),BankingJS.getAppContext().getUser().setUserLanguage(t),BankingJS.Utilities.BrowserDetectUtils.checkBrowser()}.bind(u))}};var m=u.executeLogin;return u.executeLogin=function(e){return 1==$("#signOnButton").prop("disabled")?!1:("abide.fndtn"===e.namespace&&($("#signOnButton").prop("disabled",!0),m.call(this,$("#cardNumberInputText").val().trim(),$("#passwordInputText").val()).done(function(e){},function(e){$("#signOnButton").prop("disabled",!1)})),!1)}.bind(u),u.enhanceWithin=function(){document.enhanceWithin(".login-container"),$("#loginForm").on("valid.fndtn.abide",this.executeLogin),$("body").removeClass("f-topbar-fixed"),$("#signOnButton").click(function(){$("#cardNumberInputText").removeClass("error").focus(),$("#passwordInputText").removeClass("error").focus(),$("#passwordInputText").val()||($("#passwordInputText").addClass("error").focus(),$("#passwordInputText").focus()),$("#cardNumberInputText").val()||($("#cardNumberInputText").addClass("error").focus(),$("#cardNumberInputText").focus())}),u.setupValidation(),BankingJS.Utilities.BrowserDetectUtils.checkBrowser()}.bind(u),u.dispose=function(){f.dispose()},u}return{viewModel:i,template:t}}),require(["app/startup"]),require.config({bundles:{components:["text!components/authentication/dcv/dcv.html","components/authentication/dcv/dcv-validation","components/authentication/dcv/dcv","text!components/authentication/mfa/mfa.html","components/authentication/mfa/mfa","text!components/user-management/mfa-reset/mfa-reset.html","components/user-management/mfa-reset/mfa-reset-validation","components/user-management/mfa-reset/mfa-reset","text!components/user-management/mfa-enrollment/mfa-enrollment.html","components/user-management/mfa-enrollment/mfa-enrollment-validation","components/user-management/mfa-enrollment/mfa-enrollment","text!components/user-management/mfa-reset/mfa-lock/mfa-lock.html","components/user-management/mfa-reset/mfa-lock/mfa-lock","text!components/user-management/mfa-reset/mfa-registration/mfa-registration.html","components/user-management/mfa-reset/mfa-registration/mfa-registration","text!components/authentication/terms/terms.html","components/authentication/terms/terms","text!components/authentication/e-access-agreement/e-access-agreement.html","components/authentication/e-access-agreement/e-access-agreement","text!components/accounts/summary/account-summary.html","components/accounts/summary/account-summary","text!components/accounts/details/account-details.html","components/accounts/details/account-details","text!components/move-money/move-money/move-money.html","components/move-money/move-money/move-money","text!components/move-money/transfer-funds/transfer-funds.html","components/move-money/transfer-funds/transfer-funds-validation","components/move-money/transfer-funds/transfer-funds","text!components/move-money/transfer-funds/transfer-funds-confirm/transfer-funds-confirm.html","components/move-money/transfer-funds/transfer-funds-confirm/transfer-funds-confirm","text!components/move-money/transfer-funds/transfer-funds-complete/transfer-funds-complete.html","components/move-money/transfer-funds/transfer-funds-complete/transfer-funds-complete","text!components/move-money/pay-bills/pay-bills.html","components/move-money/pay-bills/pay-bills-validation","components/move-money/pay-bills/pay-bills","text!components/move-money/pay-bills/pay-bills-confirm/pay-bills-confirm.html","components/move-money/pay-bills/pay-bills-confirm/pay-bills-confirm","text!components/move-money/pay-bills/pay-bills-complete/pay-bills-complete.html","components/move-money/pay-bills/pay-bills-complete/pay-bills-complete","text!components/move-money/email-money-home/email-money-home.html","components/move-money/email-money-home/email-money-home","text!components/move-money/email-money-request/email-money-request.html","components/move-money/email-money-request/email-money-request-validation","components/move-money/email-money-request/email-money-request","text!components/move-money/email-money-request/email-money-request-confirm/email-money-request-confirm.html","components/move-money/email-money-request/email-money-request-confirm/email-money-request-confirm","text!components/move-money/email-money-request/email-money-request-complete/email-money-request-complete.html","components/move-money/email-money-request/email-money-request-complete/email-money-request-complete","text!components/move-money/email-money-fullfilled/email-money-fullfilled.html","components/move-money/email-money-fullfilled/email-money-fullfilled-validation","components/move-money/email-money-fullfilled/email-money-fullfilled","text!components/move-money/email-money-fullfilled/email-money-fullfilled-register.html","components/move-money/email-money-fullfilled/email-money-fullfilled-register-validation","components/move-money/email-money-fullfilled/email-money-fullfilled-register","text!components/move-money/email-money-fullfilled/email-money-fullfilled-terms.html","components/move-money/email-money-fullfilled/email-money-fullfilled-terms","text!components/move-money/email-money-fullfilled/email-money-fullfilled-confirm/email-money-fullfilled-confirm.html","components/move-money/email-money-fullfilled/email-money-fullfilled-confirm/email-money-fullfilled-confirm","text!components/move-money/email-money-fullfilled/email-money-fullfilled-complete/email-money-fullfilled-complete.html","components/move-money/email-money-fullfilled/email-money-fullfilled-complete/email-money-fullfilled-complete","text!components/move-money/email-money-fullfilled/email-money-fullfilled-decline-confirm/email-money-fullfilled-decline-confirm.html","components/move-money/email-money-fullfilled/email-money-fullfilled-decline-confirm/email-money-fullfilled-decline-confirm","text!components/move-money/email-money-fullfilled/email-money-fullfilled-decline-complete/email-money-fullfilled-decline-complete.html","components/move-money/email-money-fullfilled/email-money-fullfilled-decline-complete/email-money-fullfilled-decline-complete","text!components/move-money/email-money-home/email-money-first-time/email-money-first-time.html","components/move-money/email-money-home/email-money-first-time/email-money-first-time","text!components/move-money/email-money-send/email-money-send.html","components/move-money/email-money-send/email-money-send-validation","components/move-money/email-money-send/email-money-send","text!components/move-money/email-money-send/email-money-send-confirm/email-money-send-confirm.html","components/move-money/email-money-send/email-money-send-confirm/email-money-send-confirm","text!components/move-money/email-money-send/email-money-send-complete/email-money-send-complete.html","components/move-money/email-money-send/email-money-send-complete/email-money-send-complete","text!components/move-money/email-money-receive/email-money-receive.html","components/move-money/email-money-receive/email-money-receive-validation","components/move-money/email-money-receive/email-money-receive","text!components/move-money/email-money-receive/email-money-receive-register.html","components/move-money/email-money-receive/email-money-receive-register-validation","components/move-money/email-money-receive/email-money-receive-register","text!components/move-money/email-money-receive/email-money-receive-terms.html","components/move-money/email-money-receive/email-money-receive-terms","text!components/move-money/email-money-receive/email-money-receive-confirm/email-money-receive-confirm.html","components/move-money/email-money-receive/email-money-receive-confirm/email-money-receive-confirm","text!components/move-money/email-money-receive/email-money-receive-complete/email-money-receive-complete.html","components/move-money/email-money-receive/email-money-receive-complete/email-money-receive-complete","text!components/move-money/email-money-receive/email-money-decline-confirm/email-money-decline-confirm.html","components/move-money/email-money-receive/email-money-decline-confirm/email-money-decline-confirm","text!components/move-money/email-money-receive/email-money-decline-complete/email-money-decline-complete.html","components/move-money/email-money-receive/email-money-decline-complete/email-money-decline-complete","text!components/move-money/western-union/western-union.html","components/move-money/western-union/western-union-validation","components/move-money/western-union/western-union","text!components/move-money/western-union/western-union-confirm/western-union-confirm.html","components/move-money/western-union/western-union-confirm/western-union-confirm","text!components/move-money/western-union/western-union-terms/western-union-terms.html","components/move-money/western-union/western-union-terms/western-union-terms","text!components/move-money/western-union/western-union-complete/western-union-complete.html","components/move-money/western-union/western-union-complete/western-union-complete","text!components/card-management/replace-card/replace-card.html","components/card-management/replace-card/replace-card-validation","components/card-management/replace-card/replace-card","text!components/card-management/activate-card/activate-card.html","components/card-management/activate-card/activate-card-validation","components/card-management/activate-card/activate-card","text!components/user-management/activate/activate-select/activate-select.html","components/user-management/activate/activate-select/activate-select-validation","components/user-management/activate/activate-select/activate-select","text!components/user-management/activate/activate-tfa/activate-tfa.html","components/user-management/activate/activate-tfa/activate-tfa-validation","components/user-management/activate/activate-tfa/activate-tfa","text!components/user-management/activate/activate-tfa-landing/activate-tfa-landing.html","components/user-management/activate/activate-tfa-landing/activate-tfa-landing","text!components/user-management/activate/activate-scotia-card/activate-scotia-card.html","components/user-management/activate/activate-scotia-card/activate-scotia-card-validation","components/user-management/activate/activate-scotia-card/activate-scotia-card","text!components/user-management/activate/activate-complete/activate-complete.html","components/user-management/activate/activate-complete/activate-complete","text!components/user-management/verification-code/verification-code-verify/verification-code-verify.html","components/user-management/verification-code/verification-code-verify/verification-code-validation","components/user-management/verification-code/verification-code-verify/verification-code-verify","text!components/user-management/recover-userid-password/recover-userid-password.html","components/user-management/recover-userid-password/recover-userid-password","text!components/user-management/recover-userid/recover-userid-by-account/recover-userid-select-account.html","components/user-management/recover-userid/recover-userid-by-account/recover-select-account-validation","components/user-management/recover-userid/recover-userid-by-account/recover-userid-select-account","text!components/user-management/recover-userid/recover-userid-by-scotiacard/recover-userid-by-scotiacard.html","components/user-management/recover-userid/recover-userid-by-scotiacard/recover-userid-by-scotiacard-validation","components/user-management/recover-userid/recover-userid-by-scotiacard/recover-userid-by-scotiacard","text!components/user-management/recover-userid/recover-userid-complete/recover-userid-complete.html","components/user-management/recover-userid/recover-userid-complete/recover-userid-complete","text!components/user-management/recover/recover-select/recover-select.html","components/user-management/recover/recover-select/recover-select-validation","components/user-management/recover/recover-select/recover-select","text!components/user-management/recover/recover-scotia-card/recover-scotia-card.html","components/user-management/recover/recover-scotia-card/recover-scotia-card-validation","components/user-management/recover/recover-scotia-card/recover-scotia-card","text!components/user-management/recover/recover-complete/recover-complete.html","components/user-management/recover/recover-complete/recover-complete","text!components/user-management/user-management-options/user-management-options.html","components/user-management/user-management-options/user-management-options","text!components/user-management/manage-username/manage-username.html","components/user-management/manage-username/manage-username","text!components/user-management/manage-rcp3/manage-rcp3.html","components/user-management/manage-rcp3/manage-rcp3","text!components/user-management/recover-credentials/recover-credentials.html","components/user-management/recover-credentials/recover-credentials","text!components/user-management/reserve-username/reserve-username.html","components/user-management/reserve-username/reserve-username","text!components/user-management/recover/recover-reserve-username/recover-reserve-username.html","components/user-management/recover/recover-reserve-username/recover-reserve-username","text!components/user-management/manage-password/manage-password.html","components/user-management/manage-password/manage-password","text!components/user-management/manage-password-old/manage-password-old.html","components/user-management/manage-password-old/manage-password-old","text!components/user-management/temp-password/temp-password.html","components/user-management/temp-password/temp-password","text!components/contact-us/contact-us.html","components/contact-us/contact-us","text!components/settings/settings.html","components/settings/settings","text!components/report-lost-card/report-lost-card.html","components/report-lost-card/report-lost-card","text!components/user-management/activate/activate-message/activate-message.html","components/user-management/activate/activate-message/activate-message","text!components/user-management/card-not-found/card-not-found.html","components/user-management/card-not-found/card-not-found","text!components/authentication/dcv-lockout/dcv-lockout.html","components/authentication/dcv-lockout/dcv-lockout","text!components/call-us/call-us.html","components/call-us/call-us","text!components/service-unavailable/service-unavailable.html","components/service-unavailable/service-unavailable","text!components/user-management/tfa/tfa-lockout-activate/tfa-lockout-activate.html","components/user-management/tfa/tfa-lockout-activate/tfa-lockout-activate"]}});